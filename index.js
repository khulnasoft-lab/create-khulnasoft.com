#!/usr/bin/env node
"use strict";var Lh=Object.create;var zs=Object.defineProperty;var Oh=Object.getOwnPropertyDescriptor;var Rh=Object.getOwnPropertyNames;var Mh=Object.getPrototypeOf,_h=Object.prototype.hasOwnProperty;var W=(t,i)=>()=>(i||t((i={exports:{}}).exports,i),i.exports),jh=(t,i)=>{for(var e in i)zs(t,e,{get:i[e],enumerable:!0})},$h=(t,i,e,r)=>{if(i&&typeof i=="object"||typeof i=="function")for(let n of Rh(i))!_h.call(t,n)&&n!==e&&zs(t,n,{get:()=>i[n],enumerable:!(r=Oh(i,n))||r.enumerable});return t};var de=(t,i,e)=>(e=t!=null?Lh(Mh(t)):{},$h(i||!t||!t.__esModule?zs(e,"default",{value:t,enumerable:!0}):e,t));var qs=W((Zb,ku)=>{"use strict";ku.exports=function(){if(process.env.npm_config_user_agent)return Uh(process.env.npm_config_user_agent)};function Uh(t){let i=t.split(" ")[0],e=i.lastIndexOf("/"),r=i.substring(0,e);return{name:r==="npminstall"?"cnpm":r,version:i.substring(e+1)}}});var tc=W((BT,jn)=>{jn.exports.Space_Separator=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/;jn.exports.ID_Start=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/;jn.exports.ID_Continue=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/});var da=W((LT,rc)=>{var fa=tc();rc.exports={isSpaceSeparator(t){return typeof t=="string"&&fa.Space_Separator.test(t)},isIdStartChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"||fa.ID_Start.test(t))},isIdContinueChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="$"||t==="_"||t==="\u200C"||t==="\u200D"||fa.ID_Continue.test(t))},isDigit(t){return typeof t=="string"&&/[0-9]/.test(t)},isHexDigit(t){return typeof t=="string"&&/[0-9A-Fa-f]/.test(t)}}});var oc=W((OT,ac)=>{var Oe=da(),ma,Ge,tr,Vn,Dr,Pt,Re,ya,Hi;ac.exports=function(i,e){ma=String(i),Ge="start",tr=[],Vn=0,Dr=1,Pt=0,Re=void 0,ya=void 0,Hi=void 0;do Re=oD(),cD[Ge]();while(Re.type!=="eof");return typeof e=="function"?ga({"":Hi},"",e):Hi};function ga(t,i,e){let r=t[i];if(r!=null&&typeof r=="object")if(Array.isArray(r))for(let n=0;n<r.length;n++){let s=String(n),a=ga(r,s,e);a===void 0?delete r[s]:Object.defineProperty(r,s,{value:a,writable:!0,enumerable:!0,configurable:!0})}else for(let n in r){let s=ga(r,n,e);s===void 0?delete r[n]:Object.defineProperty(r,n,{value:s,writable:!0,enumerable:!0,configurable:!0})}return e.call(t,i,r)}var J,K,Ji,er,Z;function oD(){for(J="default",K="",Ji=!1,er=1;;){Z=rr();let t=nc[J]();if(t)return t}}function rr(){if(ma[Vn])return String.fromCodePoint(ma.codePointAt(Vn))}function T(){let t=rr();return t===`
    `?(Dr++,Pt=0):t?Pt+=t.length:Pt++,t&&(Vn+=t.length),t}var nc={default(){switch(Z){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
    `:case"\r":case"\u2028":case"\u2029":T();return;case"/":T(),J="comment";return;case void 0:return T(),ye("eof")}if(Oe.isSpaceSeparator(Z)){T();return}return nc[Ge]()},comment(){switch(Z){case"*":T(),J="multiLineComment";return;case"/":T(),J="singleLineComment";return}throw xe(T())},multiLineComment(){switch(Z){case"*":T(),J="multiLineCommentAsterisk";return;case void 0:throw xe(T())}T()},multiLineCommentAsterisk(){switch(Z){case"*":T();return;case"/":T(),J="default";return;case void 0:throw xe(T())}T(),J="multiLineComment"},singleLineComment(){switch(Z){case`
    `:case"\r":case"\u2028":case"\u2029":T(),J="default";return;case void 0:return T(),ye("eof")}T()},value(){switch(Z){case"{":case"[":return ye("punctuator",T());case"n":return T(),Br("ull"),ye("null",null);case"t":return T(),Br("rue"),ye("boolean",!0);case"f":return T(),Br("alse"),ye("boolean",!1);case"-":case"+":T()==="-"&&(er=-1),J="sign";return;case".":K=T(),J="decimalPointLeading";return;case"0":K=T(),J="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":K=T(),J="decimalInteger";return;case"I":return T(),Br("nfinity"),ye("numeric",1/0);case"N":return T(),Br("aN"),ye("numeric",NaN);case'"':case"'":Ji=T()==='"',K="",J="string";return}throw xe(T())},identifierNameStartEscape(){if(Z!=="u")throw xe(T());T();let t=Da();switch(t){case"$":case"_":break;default:if(!Oe.isIdStartChar(t))throw ic();break}K+=t,J="identifierName"},identifierName(){switch(Z){case"$":case"_":case"\u200C":case"\u200D":K+=T();return;case"\\":T(),J="identifierNameEscape";return}if(Oe.isIdContinueChar(Z)){K+=T();return}return ye("identifier",K)},identifierNameEscape(){if(Z!=="u")throw xe(T());T();let t=Da();switch(t){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!Oe.isIdContinueChar(t))throw ic();break}K+=t,J="identifierName"},sign(){switch(Z){case".":K=T(),J="decimalPointLeading";return;case"0":K=T(),J="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":K=T(),J="decimalInteger";return;case"I":return T(),Br("nfinity"),ye("numeric",er*(1/0));case"N":return T(),Br("aN"),ye("numeric",NaN)}throw xe(T())},zero(){switch(Z){case".":K+=T(),J="decimalPoint";return;case"e":case"E":K+=T(),J="decimalExponent";return;case"x":case"X":K+=T(),J="hexadecimal";return}return ye("numeric",er*0)},decimalInteger(){switch(Z){case".":K+=T(),J="decimalPoint";return;case"e":case"E":K+=T(),J="decimalExponent";return}if(Oe.isDigit(Z)){K+=T();return}return ye("numeric",er*Number(K))},decimalPointLeading(){if(Oe.isDigit(Z)){K+=T(),J="decimalFraction";return}throw xe(T())},decimalPoint(){switch(Z){case"e":case"E":K+=T(),J="decimalExponent";return}if(Oe.isDigit(Z)){K+=T(),J="decimalFraction";return}return ye("numeric",er*Number(K))},decimalFraction(){switch(Z){case"e":case"E":K+=T(),J="decimalExponent";return}if(Oe.isDigit(Z)){K+=T();return}return ye("numeric",er*Number(K))},decimalExponent(){switch(Z){case"+":case"-":K+=T(),J="decimalExponentSign";return}if(Oe.isDigit(Z)){K+=T(),J="decimalExponentInteger";return}throw xe(T())},decimalExponentSign(){if(Oe.isDigit(Z)){K+=T(),J="decimalExponentInteger";return}throw xe(T())},decimalExponentInteger(){if(Oe.isDigit(Z)){K+=T();return}return ye("numeric",er*Number(K))},hexadecimal(){if(Oe.isHexDigit(Z)){K+=T(),J="hexadecimalInteger";return}throw xe(T())},hexadecimalInteger(){if(Oe.isHexDigit(Z)){K+=T();return}return ye("numeric",er*Number(K))},string(){switch(Z){case"\\":T(),K+=uD();return;case'"':if(Ji)return T(),ye("string",K);K+=T();return;case"'":if(!Ji)return T(),ye("string",K);K+=T();return;case`
    `:case"\r":throw xe(T());case"\u2028":case"\u2029":pD(Z);break;case void 0:throw xe(T())}K+=T()},start(){switch(Z){case"{":case"[":return ye("punctuator",T())}J="value"},beforePropertyName(){switch(Z){case"$":case"_":K=T(),J="identifierName";return;case"\\":T(),J="identifierNameStartEscape";return;case"}":return ye("punctuator",T());case'"':case"'":Ji=T()==='"',J="string";return}if(Oe.isIdStartChar(Z)){K+=T(),J="identifierName";return}throw xe(T())},afterPropertyName(){if(Z===":")return ye("punctuator",T());throw xe(T())},beforePropertyValue(){J="value"},afterPropertyValue(){switch(Z){case",":case"}":return ye("punctuator",T())}throw xe(T())},beforeArrayValue(){if(Z==="]")return ye("punctuator",T());J="value"},afterArrayValue(){switch(Z){case",":case"]":return ye("punctuator",T())}throw xe(T())},end(){throw xe(T())}};function ye(t,i){return{type:t,value:i,line:Dr,column:Pt}}function Br(t){for(let i of t){if(rr()!==i)throw xe(T());T()}}function uD(){switch(rr()){case"b":return T(),"\b";case"f":return T(),"\f";case"n":return T(),`
    `;case"r":return T(),"\r";case"t":return T(),"	";case"v":return T(),"\v";case"0":if(T(),Oe.isDigit(rr()))throw xe(T());return"\0";case"x":return T(),lD();case"u":return T(),Da();case`
    `:case"\u2028":case"\u2029":return T(),"";case"\r":return T(),rr()===`
    `&&T(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw xe(T());case void 0:throw xe(T())}return T()}function lD(){let t="",i=rr();if(!Oe.isHexDigit(i)||(t+=T(),i=rr(),!Oe.isHexDigit(i)))throw xe(T());return t+=T(),String.fromCodePoint(parseInt(t,16))}function Da(){let t="",i=4;for(;i-- >0;){let e=rr();if(!Oe.isHexDigit(e))throw xe(T());t+=T()}return String.fromCodePoint(parseInt(t,16))}var cD={start(){if(Re.type==="eof")throw Lr();ha()},beforePropertyName(){switch(Re.type){case"identifier":case"string":ya=Re.value,Ge="afterPropertyName";return;case"punctuator":$n();return;case"eof":throw Lr()}},afterPropertyName(){if(Re.type==="eof")throw Lr();Ge="beforePropertyValue"},beforePropertyValue(){if(Re.type==="eof")throw Lr();ha()},beforeArrayValue(){if(Re.type==="eof")throw Lr();if(Re.type==="punctuator"&&Re.value==="]"){$n();return}ha()},afterPropertyValue(){if(Re.type==="eof")throw Lr();switch(Re.value){case",":Ge="beforePropertyName";return;case"}":$n()}},afterArrayValue(){if(Re.type==="eof")throw Lr();switch(Re.value){case",":Ge="beforeArrayValue";return;case"]":$n()}},end(){}};function ha(){let t;switch(Re.type){case"punctuator":switch(Re.value){case"{":t={};break;case"[":t=[];break}break;case"null":case"boolean":case"numeric":case"string":t=Re.value;break}if(Hi===void 0)Hi=t;else{let i=tr[tr.length-1];Array.isArray(i)?i.push(t):Object.defineProperty(i,ya,{value:t,writable:!0,enumerable:!0,configurable:!0})}if(t!==null&&typeof t=="object")tr.push(t),Array.isArray(t)?Ge="beforeArrayValue":Ge="beforePropertyName";else{let i=tr[tr.length-1];i==null?Ge="end":Array.isArray(i)?Ge="afterArrayValue":Ge="afterPropertyValue"}}function $n(){tr.pop();let t=tr[tr.length-1];t==null?Ge="end":Array.isArray(t)?Ge="afterArrayValue":Ge="afterPropertyValue"}function xe(t){return Un(t===void 0?`JSON5: invalid end of input at ${Dr}:${Pt}`:`JSON5: invalid character '${sc(t)}' at ${Dr}:${Pt}`)}function Lr(){return Un(`JSON5: invalid end of input at ${Dr}:${Pt}`)}function ic(){return Pt-=5,Un(`JSON5: invalid identifier character at ${Dr}:${Pt}`)}function pD(t){console.warn(`JSON5: '${sc(t)}' in strings is not valid ECMAScript; consider escaping`)}function sc(t){let i={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(i[t])return i[t];if(t<" "){let e=t.charCodeAt(0).toString(16);return"\\x"+("00"+e).substring(e.length)}return t}function Un(t){let i=new SyntaxError(t);return i.lineNumber=Dr,i.columnNumber=Pt,i}});var lc=W((RT,uc)=>{var xa=da();uc.exports=function(i,e,r){let n=[],s="",a,o,u="",l;if(e!=null&&typeof e=="object"&&!Array.isArray(e)&&(r=e.space,l=e.quote,e=e.replacer),typeof e=="function")o=e;else if(Array.isArray(e)){a=[];for(let m of e){let g;typeof m=="string"?g=m:(typeof m=="number"||m instanceof String||m instanceof Number)&&(g=String(m)),g!==void 0&&a.indexOf(g)<0&&a.push(g)}}return r instanceof Number?r=Number(r):r instanceof String&&(r=String(r)),typeof r=="number"?r>0&&(r=Math.min(10,Math.floor(r)),u="          ".substr(0,r)):typeof r=="string"&&(u=r.substr(0,10)),c("",{"":i});function c(m,g){let D=g[m];switch(D!=null&&(typeof D.toJSON5=="function"?D=D.toJSON5(m):typeof D.toJSON=="function"&&(D=D.toJSON(m))),o&&(D=o.call(g,m,D)),D instanceof Number?D=Number(D):D instanceof String?D=String(D):D instanceof Boolean&&(D=D.valueOf()),D){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof D=="string")return p(D,!1);if(typeof D=="number")return String(D);if(typeof D=="object")return Array.isArray(D)?d(D):f(D)}function p(m){let g={"'":.1,'"':.2},D={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},x="";for(let C=0;C<m.length;C++){let b=m[C];switch(b){case"'":case'"':g[b]++,x+=b;continue;case"\0":if(xa.isDigit(m[C+1])){x+="\\x00";continue}}if(D[b]){x+=D[b];continue}if(b<" "){let S=b.charCodeAt(0).toString(16);x+="\\x"+("00"+S).substring(S.length);continue}x+=b}let P=l||Object.keys(g).reduce((C,b)=>g[C]<g[b]?C:b);return x=x.replace(new RegExp(P,"g"),D[P]),P+x+P}function f(m){if(n.indexOf(m)>=0)throw TypeError("Converting circular structure to JSON5");n.push(m);let g=s;s=s+u;let D=a||Object.keys(m),x=[];for(let C of D){let b=c(C,m);if(b!==void 0){let S=h(C)+":";u!==""&&(S+=" "),S+=b,x.push(S)}}let P;if(x.length===0)P="{}";else{let C;if(u==="")C=x.join(","),P="{"+C+"}";else{let b=`,
    `+s;C=x.join(b),P=`{
    `+s+C+`,
    `+g+"}"}}return n.pop(),s=g,P}function h(m){if(m.length===0)return p(m,!0);let g=String.fromCodePoint(m.codePointAt(0));if(!xa.isIdStartChar(g))return p(m,!0);for(let D=g.length;D<m.length;D++)if(!xa.isIdContinueChar(String.fromCodePoint(m.codePointAt(D))))return p(m,!0);return m}function d(m){if(n.indexOf(m)>=0)throw TypeError("Converting circular structure to JSON5");n.push(m);let g=s;s=s+u;let D=[];for(let P=0;P<m.length;P++){let C=c(String(P),m);D.push(C!==void 0?C:"null")}let x;if(D.length===0)x="[]";else if(u==="")x="["+D.join(",")+"]";else{let P=`,
    `+s,C=D.join(P);x=`[
    `+s+C+`,
    `+g+"]"}return n.pop(),s=g,x}}});var pc=W((MT,cc)=>{var fD=oc(),dD=lc(),hD={parse:fD,stringify:dD};cc.exports=hD});var ba=W(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.throwUnsupportedData=yr.throwUnknownDataType=yr.getType=void 0;function Cc(t){return Object.prototype.toString.call(t)}yr.getType=Cc;function AD(t){throw new TypeError("unsupported data type: "+Cc(t))}yr.throwUnknownDataType=AD;function TD(t){throw new TypeError("unsupported data type: "+t)}yr.throwUnsupportedData=TD});var Ta=W(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.s_to_num=Ke.int_str_to_s=Ke.num_to_s=Ke.big_int_to_s=Ke.int_to_s=Ke.s_to_big_int=Ke.s_to_int=void 0;var ir="";for(let t=0;t<10;t++){let i=String.fromCharCode(48+t);ir+=i}for(let t=0;t<26;t++){let i=String.fromCharCode(65+t);ir+=i}for(let t=0;t<26;t++){let i=String.fromCharCode(97+t);ir+=i}var ni=ir.length,Sa={};for(let t=0;t<ni;t++){let i=ir[t];Sa[i]=t}function Pa(t){let i=0,e=1;for(let r=t.length-1;r>=0;r--){let n=t[r],s=Sa[n];s*=e,i+=s,e*=ni}return i}Ke.s_to_int=Pa;function bc(t){let i=BigInt(0),e=BigInt(1),r=BigInt(ni);for(let n=t.length-1;n>=0;n--){let s=t[n],a=BigInt(Sa[s]);a*=e,i+=a,e*=r}return i}Ke.s_to_big_int=bc;function Aa(t){if(t===0)return ir[0];let i=[];for(;t!==0;){let e=t%ni,r=ir[e];i.push(r),t-=e,t/=ni}return i.reverse().join("")}Ke.int_to_s=Aa;function Ec(t){let i=BigInt(0),e=BigInt(ni);if(t===i)return ir[0];let r=[];for(;t!==i;){let n=t%e,s=ir[Number(n)];r.push(s),t/=e}return r.reverse().join("")}Ke.big_int_to_s=Ec;function Sc(t){return t.split("").reverse().join("")}function Pc(t){if(t<0)return"-"+Pc(-t);let[i,e]=t.toString().split(".");if(!e)if(i.includes("e")){let[s,a]=i.split("e");i=s,e="0e"+a}else return Aa(t);let r;e&&([e,r]=e.split("e")),i=zn(i),e=Sc(e),e=zn(e);let n=i+"."+e;if(r){switch(n+=".",r[0]){case"+":r=r.slice(1);break;case"-":n+="-",r=r.slice(1);break}r=zn(r),n+=r}return n}Ke.num_to_s=Pc;function zn(t){let i=+t;return i.toString()===t&&i+1!==i&&i-1!==i?Aa(i):":"+Ec(BigInt(t))}Ke.int_str_to_s=zn;function Ea(t){return t[0]===":"?bc(t.substring(1)).toString():Pa(t).toString()}function Ac(t){if(t[0]==="-")return-Ac(t.substr(1));let[i,e,r]=t.split(".");if(!e)return Pa(i);i=Ea(i),e=Ea(e),e=Sc(e);let n=i+"."+e;if(r){n+="e";let s=!1;r[0]==="-"&&(s=!0,r=r.slice(1)),r=Ea(r),n+=s?-r:+r}return+n}Ke.s_to_num=Ac});var va=W(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.decodeStr=ze.encodeStr=ze.decodeBool=ze.encodeBool=ze.decodeKey=ze.decodeNum=ze.encodeNum=void 0;var wa=Ta();function wD(t){return"n|"+(0,wa.num_to_s)(t)}ze.encodeNum=wD;function vD(t){return t=t.replace("n|",""),(0,wa.s_to_num)(t)}ze.decodeNum=vD;function FD(t){return typeof t=="number"?t:(0,wa.s_to_int)(t)}ze.decodeKey=FD;function ID(t){return t?"b|T":"b|F"}ze.encodeBool=ID;function ND(t){switch(t){case"b|T":return!0;case"b|F":return!1}return!!t}ze.decodeBool=ND;function kD(t){switch(t[0]+t[1]){case"b|":case"o|":case"n|":case"a|":case"s|":t="s|"+t}return t}ze.encodeStr=kD;function BD(t){return t[0]+t[1]==="s|"?t.substr(2):t}ze.decodeStr=BD});var Fa=W(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.config=void 0;qn.config={sort_key:!1,error_on_nan:!1,error_on_infinite:!1}});var Ba=W(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.addValue=Dt.makeInMemoryMemory=Dt.makeInMemoryCache=Dt.makeInMemoryStore=Dt.memToValues=void 0;var ka=Fa(),Ia=ba(),Na=va(),LD=Ta();function OD(t){return t.store.toArray()}Dt.memToValues=OD;function Tc(){let t=[];return{forEach(i){for(let e=0;e<t.length;e++)if(i(t[e])==="break")return},add(i){t.push(i)},toArray(){return t}}}Dt.makeInMemoryStore=Tc;function wc(){let t=Object.create(null),i=Object.create(null);return{getValue(e){return t[e]},getSchema(e){return i[e]},forEachValue(e){for(let[r,n]of Object.entries(t))if(e(r,n)==="break")return},forEachSchema(e){for(let[r,n]of Object.entries(i))if(e(r,n)==="break")return},setValue(e,r){t[e]=r},setSchema(e,r){i[e]=r},hasValue(e){return e in t},hasSchema(e){return e in i}}}Dt.makeInMemoryCache=wc;function RD(){return{store:Tc(),cache:wc(),keyCount:0}}Dt.makeInMemoryMemory=RD;function Or(t,i){if(t.cache.hasValue(i))return t.cache.getValue(i);let e=t.keyCount++,r=(0,LD.num_to_s)(e);return t.store.add(i),t.cache.setValue(i,r),r}function MD(t,i){ka.config.sort_key&&i.sort();let e=i.join(",");if(t.cache.hasSchema(e))return t.cache.getSchema(e);let r=Gi(t,i,void 0);return t.cache.setSchema(e,r),r}function Gi(t,i,e){if(i===null)return"";switch(typeof i){case"undefined":if(Array.isArray(e))return Gi(t,null,e);break;case"object":if(i===null)return Or(t,null);if(Array.isArray(i)){let r="a";for(let n=0;n<i.length;n++){let s=i[n],a=s===null?"_":Gi(t,s,i);r+="|"+a}return r==="a"&&(r="a|"),Or(t,r)}else{let r=Object.keys(i);if(r.length===0)return Or(t,"o|");let n="o",s=MD(t,r);n+="|"+s;for(let a of r){let o=i[a],u=Gi(t,o,i);n+="|"+u}return Or(t,n)}case"boolean":return Or(t,(0,Na.encodeBool)(i));case"number":return Number.isNaN(i)?(ka.config.error_on_nan&&(0,Ia.throwUnsupportedData)("[number NaN]"),""):Number.POSITIVE_INFINITY===i||Number.NEGATIVE_INFINITY===i?(ka.config.error_on_infinite&&(0,Ia.throwUnsupportedData)("[number Infinity]"),""):Or(t,(0,Na.encodeNum)(i));case"string":return Or(t,(0,Na.encodeStr)(i))}return(0,Ia.throwUnknownDataType)(i)}Dt.addValue=Gi});var Oa=W(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.decompress=xr.decode=xr.compress=void 0;var _D=ba(),Wn=va(),La=Ba();function jD(t){let i=(0,La.makeInMemoryMemory)(),e=(0,La.addValue)(i,t,void 0);return[(0,La.memToValues)(i),e]}xr.compress=jD;function $D(t,i){if(i==="o|")return{};let e={},r=i.split("|"),n=r[1],s=Xi(t,n),a=r.length;a-2===1&&!Array.isArray(s)&&(s=[s]);for(let o=2;o<a;o++){let u=s[o-2],l=r[o];l=Xi(t,l),e[u]=l}return e}function VD(t,i){if(i==="a|")return[];let e=i.split("|"),r=e.length-1,n=new Array(r);for(let s=0;s<r;s++){let a=e[s+1];a=Xi(t,a),n[s]=a}return n}function Xi(t,i){if(i===""||i==="_")return null;let e=(0,Wn.decodeKey)(i),r=t[e];if(r===null)return r;switch(typeof r){case"undefined":return r;case"number":return r;case"string":switch(r[0]+r[1]){case"b|":return(0,Wn.decodeBool)(r);case"o|":return $D(t,r);case"n|":return(0,Wn.decodeNum)(r);case"a|":return VD(t,r);default:return(0,Wn.decodeStr)(r)}}return(0,_D.throwUnknownDataType)(r)}xr.decode=Xi;function UD(t){let[i,e]=t;return Xi(i,e)}xr.decompress=UD});var Fc=W(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.trimUndefinedRecursively=si.trimUndefined=void 0;function KD(t){for(let i in t)t[i]===void 0&&delete t[i]}si.trimUndefined=KD;function zD(t){vc(t,new Set)}si.trimUndefinedRecursively=zD;function vc(t,i){i.add(t);for(let e in t)if(t[e]===void 0)delete t[e];else{let r=t[e];r&&typeof r=="object"&&!i.has(r)&&vc(r,i)}}});var kc=W(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.config=qe.trimUndefinedRecursively=qe.trimUndefined=qe.addValue=qe.decode=qe.decompress=qe.compress=void 0;var Ic=Oa();Object.defineProperty(qe,"compress",{enumerable:!0,get:function(){return Ic.compress}});Object.defineProperty(qe,"decompress",{enumerable:!0,get:function(){return Ic.decompress}});var qD=Oa();Object.defineProperty(qe,"decode",{enumerable:!0,get:function(){return qD.decode}});var WD=Ba();Object.defineProperty(qe,"addValue",{enumerable:!0,get:function(){return WD.addValue}});var Nc=Fc();Object.defineProperty(qe,"trimUndefined",{enumerable:!0,get:function(){return Nc.trimUndefined}});Object.defineProperty(qe,"trimUndefinedRecursively",{enumerable:!0,get:function(){return Nc.trimUndefinedRecursively}});var JD=Fa();Object.defineProperty(qe,"config",{enumerable:!0,get:function(){return JD.config}})});var jc=W(Ra=>{var _c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Ra.encode=function(t){if(0<=t&&t<_c.length)return _c[t];throw new TypeError("Must be between 0 and 63: "+t)};Ra.decode=function(t){var i=65,e=90,r=97,n=122,s=48,a=57,o=43,u=47,l=26,c=52;return i<=t&&t<=e?t-i:r<=t&&t<=n?t-r+l:s<=t&&t<=a?t-s+c:t==o?62:t==u?63:-1}});var ja=W(_a=>{var $c=jc(),Ma=5,Vc=1<<Ma,Uc=Vc-1,Kc=Vc;function QD(t){return t<0?(-t<<1)+1:(t<<1)+0}function YD(t){var i=(t&1)===1,e=t>>1;return i?-e:e}_a.encode=function(i){var e="",r,n=QD(i);do r=n&Uc,n>>>=Ma,n>0&&(r|=Kc),e+=$c.encode(r);while(n>0);return e};_a.decode=function(i,e,r){var n=i.length,s=0,a=0,o,u;do{if(e>=n)throw new Error("Expected more digits in base 64 VLQ value.");if(u=$c.decode(i.charCodeAt(e++)),u===-1)throw new Error("Invalid base64 digit: "+i.charAt(e-1));o=!!(u&Kc),u&=Uc,s=s+(u<<a),a+=Ma}while(o);r.value=YD(s),r.rest=e}});var oi=W(Me=>{function ZD(t,i,e){if(i in t)return t[i];if(arguments.length===3)return e;throw new Error('"'+i+'" is a required argument.')}Me.getArg=ZD;var zc=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,ey=/^data:.+\,.+$/;function Qi(t){var i=t.match(zc);return i?{scheme:i[1],auth:i[2],host:i[3],port:i[4],path:i[5]}:null}Me.urlParse=Qi;function ai(t){var i="";return t.scheme&&(i+=t.scheme+":"),i+="//",t.auth&&(i+=t.auth+"@"),t.host&&(i+=t.host),t.port&&(i+=":"+t.port),t.path&&(i+=t.path),i}Me.urlGenerate=ai;var ty=32;function ry(t){var i=[];return function(e){for(var r=0;r<i.length;r++)if(i[r].input===e){var n=i[0];return i[0]=i[r],i[r]=n,i[0].result}var s=t(e);return i.unshift({input:e,result:s}),i.length>ty&&i.pop(),s}}var $a=ry(function(i){var e=i,r=Qi(i);if(r){if(!r.path)return i;e=r.path}for(var n=Me.isAbsolute(e),s=[],a=0,o=0;;)if(a=o,o=e.indexOf("/",a),o===-1){s.push(e.slice(a));break}else for(s.push(e.slice(a,o));o<e.length&&e[o]==="/";)o++;for(var u,l=0,o=s.length-1;o>=0;o--)u=s[o],u==="."?s.splice(o,1):u===".."?l++:l>0&&(u===""?(s.splice(o+1,l),l=0):(s.splice(o,2),l--));return e=s.join("/"),e===""&&(e=n?"/":"."),r?(r.path=e,ai(r)):e});Me.normalize=$a;function qc(t,i){t===""&&(t="."),i===""&&(i=".");var e=Qi(i),r=Qi(t);if(r&&(t=r.path||"/"),e&&!e.scheme)return r&&(e.scheme=r.scheme),ai(e);if(e||i.match(ey))return i;if(r&&!r.host&&!r.path)return r.host=i,ai(r);var n=i.charAt(0)==="/"?i:$a(t.replace(/\/+$/,"")+"/"+i);return r?(r.path=n,ai(r)):n}Me.join=qc;Me.isAbsolute=function(t){return t.charAt(0)==="/"||zc.test(t)};function iy(t,i){t===""&&(t="."),t=t.replace(/\/$/,"");for(var e=0;i.indexOf(t+"/")!==0;){var r=t.lastIndexOf("/");if(r<0||(t=t.slice(0,r),t.match(/^([^\/]+:\/)?\/*$/)))return i;++e}return Array(e+1).join("../")+i.substr(t.length+1)}Me.relative=iy;var Wc=function(){var t=Object.create(null);return!("__proto__"in t)}();function Jc(t){return t}function ny(t){return Hc(t)?"$"+t:t}Me.toSetString=Wc?Jc:ny;function sy(t){return Hc(t)?t.slice(1):t}Me.fromSetString=Wc?Jc:sy;function Hc(t){if(!t)return!1;var i=t.length;if(i<9||t.charCodeAt(i-1)!==95||t.charCodeAt(i-2)!==95||t.charCodeAt(i-3)!==111||t.charCodeAt(i-4)!==116||t.charCodeAt(i-5)!==111||t.charCodeAt(i-6)!==114||t.charCodeAt(i-7)!==112||t.charCodeAt(i-8)!==95||t.charCodeAt(i-9)!==95)return!1;for(var e=i-10;e>=0;e--)if(t.charCodeAt(e)!==36)return!1;return!0}function ay(t,i,e){var r=nr(t.source,i.source);return r!==0||(r=t.originalLine-i.originalLine,r!==0)||(r=t.originalColumn-i.originalColumn,r!==0||e)||(r=t.generatedColumn-i.generatedColumn,r!==0)||(r=t.generatedLine-i.generatedLine,r!==0)?r:nr(t.name,i.name)}Me.compareByOriginalPositions=ay;function oy(t,i,e){var r;return r=t.originalLine-i.originalLine,r!==0||(r=t.originalColumn-i.originalColumn,r!==0||e)||(r=t.generatedColumn-i.generatedColumn,r!==0)||(r=t.generatedLine-i.generatedLine,r!==0)?r:nr(t.name,i.name)}Me.compareByOriginalPositionsNoSource=oy;function uy(t,i,e){var r=t.generatedLine-i.generatedLine;return r!==0||(r=t.generatedColumn-i.generatedColumn,r!==0||e)||(r=nr(t.source,i.source),r!==0)||(r=t.originalLine-i.originalLine,r!==0)||(r=t.originalColumn-i.originalColumn,r!==0)?r:nr(t.name,i.name)}Me.compareByGeneratedPositionsDeflated=uy;function ly(t,i,e){var r=t.generatedColumn-i.generatedColumn;return r!==0||e||(r=nr(t.source,i.source),r!==0)||(r=t.originalLine-i.originalLine,r!==0)||(r=t.originalColumn-i.originalColumn,r!==0)?r:nr(t.name,i.name)}Me.compareByGeneratedPositionsDeflatedNoLine=ly;function nr(t,i){return t===i?0:t===null?1:i===null?-1:t>i?1:-1}function cy(t,i){var e=t.generatedLine-i.generatedLine;return e!==0||(e=t.generatedColumn-i.generatedColumn,e!==0)||(e=nr(t.source,i.source),e!==0)||(e=t.originalLine-i.originalLine,e!==0)||(e=t.originalColumn-i.originalColumn,e!==0)?e:nr(t.name,i.name)}Me.compareByGeneratedPositionsInflated=cy;function py(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}Me.parseSourceMapInput=py;function fy(t,i,e){if(i=i||"",t&&(t[t.length-1]!=="/"&&i[0]!=="/"&&(t+="/"),i=t+i),e){var r=Qi(e);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var n=r.path.lastIndexOf("/");n>=0&&(r.path=r.path.substring(0,n+1))}i=qc(ai(r),i)}return $a(i)}Me.computeSourceURL=fy});var Ka=W(Gc=>{var Va=oi(),Ua=Object.prototype.hasOwnProperty,Rr=typeof Map<"u";function sr(){this._array=[],this._set=Rr?new Map:Object.create(null)}sr.fromArray=function(i,e){for(var r=new sr,n=0,s=i.length;n<s;n++)r.add(i[n],e);return r};sr.prototype.size=function(){return Rr?this._set.size:Object.getOwnPropertyNames(this._set).length};sr.prototype.add=function(i,e){var r=Rr?i:Va.toSetString(i),n=Rr?this.has(i):Ua.call(this._set,r),s=this._array.length;(!n||e)&&this._array.push(i),n||(Rr?this._set.set(i,s):this._set[r]=s)};sr.prototype.has=function(i){if(Rr)return this._set.has(i);var e=Va.toSetString(i);return Ua.call(this._set,e)};sr.prototype.indexOf=function(i){if(Rr){var e=this._set.get(i);if(e>=0)return e}else{var r=Va.toSetString(i);if(Ua.call(this._set,r))return this._set[r]}throw new Error('"'+i+'" is not in the set.')};sr.prototype.at=function(i){if(i>=0&&i<this._array.length)return this._array[i];throw new Error("No element indexed by "+i)};sr.prototype.toArray=function(){return this._array.slice()};Gc.ArraySet=sr});var Yc=W(Qc=>{var Xc=oi();function dy(t,i){var e=t.generatedLine,r=i.generatedLine,n=t.generatedColumn,s=i.generatedColumn;return r>e||r==e&&s>=n||Xc.compareByGeneratedPositionsInflated(t,i)<=0}function Hn(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}Hn.prototype.unsortedForEach=function(i,e){this._array.forEach(i,e)};Hn.prototype.add=function(i){dy(this._last,i)?(this._last=i,this._array.push(i)):(this._sorted=!1,this._array.push(i))};Hn.prototype.toArray=function(){return this._sorted||(this._array.sort(Xc.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};Qc.MappingList=Hn});var za=W(Zc=>{var Yi=ja(),Fe=oi(),Gn=Ka().ArraySet,hy=Yc().MappingList;function yt(t){t||(t={}),this._file=Fe.getArg(t,"file",null),this._sourceRoot=Fe.getArg(t,"sourceRoot",null),this._skipValidation=Fe.getArg(t,"skipValidation",!1),this._ignoreInvalidMapping=Fe.getArg(t,"ignoreInvalidMapping",!1),this._sources=new Gn,this._names=new Gn,this._mappings=new hy,this._sourcesContents=null}yt.prototype._version=3;yt.fromSourceMap=function(i,e){var r=i.sourceRoot,n=new yt(Object.assign(e||{},{file:i.file,sourceRoot:r}));return i.eachMapping(function(s){var a={generated:{line:s.generatedLine,column:s.generatedColumn}};s.source!=null&&(a.source=s.source,r!=null&&(a.source=Fe.relative(r,a.source)),a.original={line:s.originalLine,column:s.originalColumn},s.name!=null&&(a.name=s.name)),n.addMapping(a)}),i.sources.forEach(function(s){var a=s;r!==null&&(a=Fe.relative(r,s)),n._sources.has(a)||n._sources.add(a);var o=i.sourceContentFor(s);o!=null&&n.setSourceContent(s,o)}),n};yt.prototype.addMapping=function(i){var e=Fe.getArg(i,"generated"),r=Fe.getArg(i,"original",null),n=Fe.getArg(i,"source",null),s=Fe.getArg(i,"name",null);!this._skipValidation&&this._validateMapping(e,r,n,s)===!1||(n!=null&&(n=String(n),this._sources.has(n)||this._sources.add(n)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:e.line,generatedColumn:e.column,originalLine:r!=null&&r.line,originalColumn:r!=null&&r.column,source:n,name:s}))};yt.prototype.setSourceContent=function(i,e){var r=i;this._sourceRoot!=null&&(r=Fe.relative(this._sourceRoot,r)),e!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Fe.toSetString(r)]=e):this._sourcesContents&&(delete this._sourcesContents[Fe.toSetString(r)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};yt.prototype.applySourceMap=function(i,e,r){var n=e;if(e==null){if(i.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);n=i.file}var s=this._sourceRoot;s!=null&&(n=Fe.relative(s,n));var a=new Gn,o=new Gn;this._mappings.unsortedForEach(function(u){if(u.source===n&&u.originalLine!=null){var l=i.originalPositionFor({line:u.originalLine,column:u.originalColumn});l.source!=null&&(u.source=l.source,r!=null&&(u.source=Fe.join(r,u.source)),s!=null&&(u.source=Fe.relative(s,u.source)),u.originalLine=l.line,u.originalColumn=l.column,l.name!=null&&(u.name=l.name))}var c=u.source;c!=null&&!a.has(c)&&a.add(c);var p=u.name;p!=null&&!o.has(p)&&o.add(p)},this),this._sources=a,this._names=o,i.sources.forEach(function(u){var l=i.sourceContentFor(u);l!=null&&(r!=null&&(u=Fe.join(r,u)),s!=null&&(u=Fe.relative(s,u)),this.setSourceContent(u,l))},this)};yt.prototype._validateMapping=function(i,e,r,n){if(e&&typeof e.line!="number"&&typeof e.column!="number"){var s="original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.";if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(s),!1;throw new Error(s)}if(!(i&&"line"in i&&"column"in i&&i.line>0&&i.column>=0&&!e&&!r&&!n)){if(i&&"line"in i&&"column"in i&&e&&"line"in e&&"column"in e&&i.line>0&&i.column>=0&&e.line>0&&e.column>=0&&r)return;var s="Invalid mapping: "+JSON.stringify({generated:i,source:r,original:e,name:n});if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(s),!1;throw new Error(s)}};yt.prototype._serializeMappings=function(){for(var i=0,e=1,r=0,n=0,s=0,a=0,o="",u,l,c,p,f=this._mappings.toArray(),h=0,d=f.length;h<d;h++){if(l=f[h],u="",l.generatedLine!==e)for(i=0;l.generatedLine!==e;)u+=";",e++;else if(h>0){if(!Fe.compareByGeneratedPositionsInflated(l,f[h-1]))continue;u+=","}u+=Yi.encode(l.generatedColumn-i),i=l.generatedColumn,l.source!=null&&(p=this._sources.indexOf(l.source),u+=Yi.encode(p-a),a=p,u+=Yi.encode(l.originalLine-1-n),n=l.originalLine-1,u+=Yi.encode(l.originalColumn-r),r=l.originalColumn,l.name!=null&&(c=this._names.indexOf(l.name),u+=Yi.encode(c-s),s=c)),o+=u}return o};yt.prototype._generateSourcesContent=function(i,e){return i.map(function(r){if(!this._sourcesContents)return null;e!=null&&(r=Fe.relative(e,r));var n=Fe.toSetString(r);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)};yt.prototype.toJSON=function(){var i={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(i.file=this._file),this._sourceRoot!=null&&(i.sourceRoot=this._sourceRoot),this._sourcesContents&&(i.sourcesContent=this._generateSourcesContent(i.sources,i.sourceRoot)),i};yt.prototype.toString=function(){return JSON.stringify(this.toJSON())};Zc.SourceMapGenerator=yt});var ep=W(Mr=>{Mr.GREATEST_LOWER_BOUND=1;Mr.LEAST_UPPER_BOUND=2;function qa(t,i,e,r,n,s){var a=Math.floor((i-t)/2)+t,o=n(e,r[a],!0);return o===0?a:o>0?i-a>1?qa(a,i,e,r,n,s):s==Mr.LEAST_UPPER_BOUND?i<r.length?i:-1:a:a-t>1?qa(t,a,e,r,n,s):s==Mr.LEAST_UPPER_BOUND?a:t<0?-1:t}Mr.search=function(i,e,r,n){if(e.length===0)return-1;var s=qa(-1,e.length,i,e,r,n||Mr.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&r(e[s],e[s-1],!0)===0;)--s;return s}});var ip=W(rp=>{function my(t){function i(n,s,a){var o=n[s];n[s]=n[a],n[a]=o}function e(n,s){return Math.round(n+Math.random()*(s-n))}function r(n,s,a,o){if(a<o){var u=e(a,o),l=a-1;i(n,u,o);for(var c=n[o],p=a;p<o;p++)s(n[p],c,!1)<=0&&(l+=1,i(n,l,p));i(n,l+1,p);var f=l+1;r(n,s,a,f-1),r(n,s,f+1,o)}}return r}function gy(t){let i=my.toString();return new Function(`return ${i}`)()(t)}var tp=new WeakMap;rp.quickSort=function(t,i,e=0){let r=tp.get(i);r===void 0&&(r=gy(i),tp.set(i,r)),r(t,i,e,t.length-1)}});var ap=W(Xn=>{var L=oi(),Ja=ep(),ui=Ka().ArraySet,Dy=ja(),Zi=ip().quickSort;function Ce(t,i){var e=t;return typeof t=="string"&&(e=L.parseSourceMapInput(t)),e.sections!=null?new Tt(e,i):new Ve(e,i)}Ce.fromSourceMap=function(t,i){return Ve.fromSourceMap(t,i)};Ce.prototype._version=3;Ce.prototype.__generatedMappings=null;Object.defineProperty(Ce.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});Ce.prototype.__originalMappings=null;Object.defineProperty(Ce.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});Ce.prototype._charIsMappingSeparator=function(i,e){var r=i.charAt(e);return r===";"||r===","};Ce.prototype._parseMappings=function(i,e){throw new Error("Subclasses must implement _parseMappings")};Ce.GENERATED_ORDER=1;Ce.ORIGINAL_ORDER=2;Ce.GREATEST_LOWER_BOUND=1;Ce.LEAST_UPPER_BOUND=2;Ce.prototype.eachMapping=function(i,e,r){var n=e||null,s=r||Ce.GENERATED_ORDER,a;switch(s){case Ce.GENERATED_ORDER:a=this._generatedMappings;break;case Ce.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}for(var o=this.sourceRoot,u=i.bind(n),l=this._names,c=this._sources,p=this._sourceMapURL,f=0,h=a.length;f<h;f++){var d=a[f],m=d.source===null?null:c.at(d.source);m!==null&&(m=L.computeSourceURL(o,m,p)),u({source:m,generatedLine:d.generatedLine,generatedColumn:d.generatedColumn,originalLine:d.originalLine,originalColumn:d.originalColumn,name:d.name===null?null:l.at(d.name)})}};Ce.prototype.allGeneratedPositionsFor=function(i){var e=L.getArg(i,"line"),r={source:L.getArg(i,"source"),originalLine:e,originalColumn:L.getArg(i,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];var n=[],s=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",L.compareByOriginalPositions,Ja.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(i.column===void 0)for(var o=a.originalLine;a&&a.originalLine===o;)n.push({line:L.getArg(a,"generatedLine",null),column:L.getArg(a,"generatedColumn",null),lastColumn:L.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var u=a.originalColumn;a&&a.originalLine===e&&a.originalColumn==u;)n.push({line:L.getArg(a,"generatedLine",null),column:L.getArg(a,"generatedColumn",null),lastColumn:L.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return n};Xn.SourceMapConsumer=Ce;function Ve(t,i){var e=t;typeof t=="string"&&(e=L.parseSourceMapInput(t));var r=L.getArg(e,"version"),n=L.getArg(e,"sources"),s=L.getArg(e,"names",[]),a=L.getArg(e,"sourceRoot",null),o=L.getArg(e,"sourcesContent",null),u=L.getArg(e,"mappings"),l=L.getArg(e,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);a&&(a=L.normalize(a)),n=n.map(String).map(L.normalize).map(function(c){return a&&L.isAbsolute(a)&&L.isAbsolute(c)?L.relative(a,c):c}),this._names=ui.fromArray(s.map(String),!0),this._sources=ui.fromArray(n,!0),this._absoluteSources=this._sources.toArray().map(function(c){return L.computeSourceURL(a,c,i)}),this.sourceRoot=a,this.sourcesContent=o,this._mappings=u,this._sourceMapURL=i,this.file=l}Ve.prototype=Object.create(Ce.prototype);Ve.prototype.consumer=Ce;Ve.prototype._findSourceIndex=function(t){var i=t;if(this.sourceRoot!=null&&(i=L.relative(this.sourceRoot,i)),this._sources.has(i))return this._sources.indexOf(i);var e;for(e=0;e<this._absoluteSources.length;++e)if(this._absoluteSources[e]==t)return e;return-1};Ve.fromSourceMap=function(i,e){var r=Object.create(Ve.prototype),n=r._names=ui.fromArray(i._names.toArray(),!0),s=r._sources=ui.fromArray(i._sources.toArray(),!0);r.sourceRoot=i._sourceRoot,r.sourcesContent=i._generateSourcesContent(r._sources.toArray(),r.sourceRoot),r.file=i._file,r._sourceMapURL=e,r._absoluteSources=r._sources.toArray().map(function(h){return L.computeSourceURL(r.sourceRoot,h,e)});for(var a=i._mappings.toArray().slice(),o=r.__generatedMappings=[],u=r.__originalMappings=[],l=0,c=a.length;l<c;l++){var p=a[l],f=new sp;f.generatedLine=p.generatedLine,f.generatedColumn=p.generatedColumn,p.source&&(f.source=s.indexOf(p.source),f.originalLine=p.originalLine,f.originalColumn=p.originalColumn,p.name&&(f.name=n.indexOf(p.name)),u.push(f)),o.push(f)}return Zi(r.__originalMappings,L.compareByOriginalPositions),r};Ve.prototype._version=3;Object.defineProperty(Ve.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function sp(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}var Wa=L.compareByGeneratedPositionsDeflatedNoLine;function np(t,i){let e=t.length,r=t.length-i;if(!(r<=1))if(r==2){let n=t[i],s=t[i+1];Wa(n,s)>0&&(t[i]=s,t[i+1]=n)}else if(r<20)for(let n=i;n<e;n++)for(let s=n;s>i;s--){let a=t[s-1],o=t[s];if(Wa(a,o)<=0)break;t[s-1]=o,t[s]=a}else Zi(t,Wa,i)}Ve.prototype._parseMappings=function(i,e){var r=1,n=0,s=0,a=0,o=0,u=0,l=i.length,c=0,p={},f={},h=[],d=[],m,g,D,x,P;let C=0;for(;c<l;)if(i.charAt(c)===";")r++,c++,n=0,np(d,C),C=d.length;else if(i.charAt(c)===",")c++;else{for(m=new sp,m.generatedLine=r,x=c;x<l&&!this._charIsMappingSeparator(i,x);x++);for(g=i.slice(c,x),D=[];c<x;)Dy.decode(i,c,f),P=f.value,c=f.rest,D.push(P);if(D.length===2)throw new Error("Found a source, but no line and column");if(D.length===3)throw new Error("Found a source and line, but no column");if(m.generatedColumn=n+D[0],n=m.generatedColumn,D.length>1&&(m.source=o+D[1],o+=D[1],m.originalLine=s+D[2],s=m.originalLine,m.originalLine+=1,m.originalColumn=a+D[3],a=m.originalColumn,D.length>4&&(m.name=u+D[4],u+=D[4])),d.push(m),typeof m.originalLine=="number"){let S=m.source;for(;h.length<=S;)h.push(null);h[S]===null&&(h[S]=[]),h[S].push(m)}}np(d,C),this.__generatedMappings=d;for(var b=0;b<h.length;b++)h[b]!=null&&Zi(h[b],L.compareByOriginalPositionsNoSource);this.__originalMappings=[].concat(...h)};Ve.prototype._findMapping=function(i,e,r,n,s,a){if(i[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+i[r]);if(i[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+i[n]);return Ja.search(i,e,s,a)};Ve.prototype.computeColumnSpans=function(){for(var i=0;i<this._generatedMappings.length;++i){var e=this._generatedMappings[i];if(i+1<this._generatedMappings.length){var r=this._generatedMappings[i+1];if(e.generatedLine===r.generatedLine){e.lastGeneratedColumn=r.generatedColumn-1;continue}}e.lastGeneratedColumn=1/0}};Ve.prototype.originalPositionFor=function(i){var e={generatedLine:L.getArg(i,"line"),generatedColumn:L.getArg(i,"column")},r=this._findMapping(e,this._generatedMappings,"generatedLine","generatedColumn",L.compareByGeneratedPositionsDeflated,L.getArg(i,"bias",Ce.GREATEST_LOWER_BOUND));if(r>=0){var n=this._generatedMappings[r];if(n.generatedLine===e.generatedLine){var s=L.getArg(n,"source",null);s!==null&&(s=this._sources.at(s),s=L.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var a=L.getArg(n,"name",null);return a!==null&&(a=this._names.at(a)),{source:s,line:L.getArg(n,"originalLine",null),column:L.getArg(n,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}};Ve.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(i){return i==null}):!1};Ve.prototype.sourceContentFor=function(i,e){if(!this.sourcesContent)return null;var r=this._findSourceIndex(i);if(r>=0)return this.sourcesContent[r];var n=i;this.sourceRoot!=null&&(n=L.relative(this.sourceRoot,n));var s;if(this.sourceRoot!=null&&(s=L.urlParse(this.sourceRoot))){var a=n.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!s.path||s.path=="/")&&this._sources.has("/"+n))return this.sourcesContent[this._sources.indexOf("/"+n)]}if(e)return null;throw new Error('"'+n+'" is not in the SourceMap.')};Ve.prototype.generatedPositionFor=function(i){var e=L.getArg(i,"source");if(e=this._findSourceIndex(e),e<0)return{line:null,column:null,lastColumn:null};var r={source:e,originalLine:L.getArg(i,"line"),originalColumn:L.getArg(i,"column")},n=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",L.compareByOriginalPositions,L.getArg(i,"bias",Ce.GREATEST_LOWER_BOUND));if(n>=0){var s=this._originalMappings[n];if(s.source===r.source)return{line:L.getArg(s,"generatedLine",null),column:L.getArg(s,"generatedColumn",null),lastColumn:L.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};Xn.BasicSourceMapConsumer=Ve;function Tt(t,i){var e=t;typeof t=="string"&&(e=L.parseSourceMapInput(t));var r=L.getArg(e,"version"),n=L.getArg(e,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new ui,this._names=new ui;var s={line:-1,column:0};this._sections=n.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var o=L.getArg(a,"offset"),u=L.getArg(o,"line"),l=L.getArg(o,"column");if(u<s.line||u===s.line&&l<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=o,{generatedOffset:{generatedLine:u+1,generatedColumn:l+1},consumer:new Ce(L.getArg(a,"map"),i)}})}Tt.prototype=Object.create(Ce.prototype);Tt.prototype.constructor=Ce;Tt.prototype._version=3;Object.defineProperty(Tt.prototype,"sources",{get:function(){for(var t=[],i=0;i<this._sections.length;i++)for(var e=0;e<this._sections[i].consumer.sources.length;e++)t.push(this._sections[i].consumer.sources[e]);return t}});Tt.prototype.originalPositionFor=function(i){var e={generatedLine:L.getArg(i,"line"),generatedColumn:L.getArg(i,"column")},r=Ja.search(e,this._sections,function(s,a){var o=s.generatedLine-a.generatedOffset.generatedLine;return o||s.generatedColumn-a.generatedOffset.generatedColumn}),n=this._sections[r];return n?n.consumer.originalPositionFor({line:e.generatedLine-(n.generatedOffset.generatedLine-1),column:e.generatedColumn-(n.generatedOffset.generatedLine===e.generatedLine?n.generatedOffset.generatedColumn-1:0),bias:i.bias}):{source:null,line:null,column:null,name:null}};Tt.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(i){return i.consumer.hasContentsOfAllSources()})};Tt.prototype.sourceContentFor=function(i,e){for(var r=0;r<this._sections.length;r++){var n=this._sections[r],s=n.consumer.sourceContentFor(i,!0);if(s||s==="")return s}if(e)return null;throw new Error('"'+i+'" is not in the SourceMap.')};Tt.prototype.generatedPositionFor=function(i){for(var e=0;e<this._sections.length;e++){var r=this._sections[e];if(r.consumer._findSourceIndex(L.getArg(i,"source"))!==-1){var n=r.consumer.generatedPositionFor(i);if(n){var s={line:n.line+(r.generatedOffset.generatedLine-1),column:n.column+(r.generatedOffset.generatedLine===n.line?r.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}};Tt.prototype._parseMappings=function(i,e){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var n=this._sections[r],s=n.consumer._generatedMappings,a=0;a<s.length;a++){var o=s[a],u=n.consumer._sources.at(o.source);u!==null&&(u=L.computeSourceURL(n.consumer.sourceRoot,u,this._sourceMapURL)),this._sources.add(u),u=this._sources.indexOf(u);var l=null;o.name&&(l=n.consumer._names.at(o.name),this._names.add(l),l=this._names.indexOf(l));var c={source:u,generatedLine:o.generatedLine+(n.generatedOffset.generatedLine-1),generatedColumn:o.generatedColumn+(n.generatedOffset.generatedLine===o.generatedLine?n.generatedOffset.generatedColumn-1:0),originalLine:o.originalLine,originalColumn:o.originalColumn,name:l};this.__generatedMappings.push(c),typeof c.originalLine=="number"&&this.__originalMappings.push(c)}Zi(this.__generatedMappings,L.compareByGeneratedPositionsDeflated),Zi(this.__originalMappings,L.compareByOriginalPositions)};Xn.IndexedSourceMapConsumer=Tt});var up=W(op=>{var yy=za().SourceMapGenerator,Qn=oi(),xy=/(\r?\n)/,Cy=10,li="$$$isSourceNode$$$";function ut(t,i,e,r,n){this.children=[],this.sourceContents={},this.line=t??null,this.column=i??null,this.source=e??null,this.name=n??null,this[li]=!0,r!=null&&this.add(r)}ut.fromStringWithSourceMap=function(i,e,r){var n=new ut,s=i.split(xy),a=0,o=function(){var f=d(),h=d()||"";return f+h;function d(){return a<s.length?s[a++]:void 0}},u=1,l=0,c=null;return e.eachMapping(function(f){if(c!==null)if(u<f.generatedLine)p(c,o()),u++,l=0;else{var h=s[a]||"",d=h.substr(0,f.generatedColumn-l);s[a]=h.substr(f.generatedColumn-l),l=f.generatedColumn,p(c,d),c=f;return}for(;u<f.generatedLine;)n.add(o()),u++;if(l<f.generatedColumn){var h=s[a]||"";n.add(h.substr(0,f.generatedColumn)),s[a]=h.substr(f.generatedColumn),l=f.generatedColumn}c=f},this),a<s.length&&(c&&p(c,o()),n.add(s.splice(a).join(""))),e.sources.forEach(function(f){var h=e.sourceContentFor(f);h!=null&&(r!=null&&(f=Qn.join(r,f)),n.setSourceContent(f,h))}),n;function p(f,h){if(f===null||f.source===void 0)n.add(h);else{var d=r?Qn.join(r,f.source):f.source;n.add(new ut(f.originalLine,f.originalColumn,d,h,f.name))}}};ut.prototype.add=function(i){if(Array.isArray(i))i.forEach(function(e){this.add(e)},this);else if(i[li]||typeof i=="string")i&&this.children.push(i);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+i);return this};ut.prototype.prepend=function(i){if(Array.isArray(i))for(var e=i.length-1;e>=0;e--)this.prepend(i[e]);else if(i[li]||typeof i=="string")this.children.unshift(i);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+i);return this};ut.prototype.walk=function(i){for(var e,r=0,n=this.children.length;r<n;r++)e=this.children[r],e[li]?e.walk(i):e!==""&&i(e,{source:this.source,line:this.line,column:this.column,name:this.name})};ut.prototype.join=function(i){var e,r,n=this.children.length;if(n>0){for(e=[],r=0;r<n-1;r++)e.push(this.children[r]),e.push(i);e.push(this.children[r]),this.children=e}return this};ut.prototype.replaceRight=function(i,e){var r=this.children[this.children.length-1];return r[li]?r.replaceRight(i,e):typeof r=="string"?this.children[this.children.length-1]=r.replace(i,e):this.children.push("".replace(i,e)),this};ut.prototype.setSourceContent=function(i,e){this.sourceContents[Qn.toSetString(i)]=e};ut.prototype.walkSourceContents=function(i){for(var e=0,r=this.children.length;e<r;e++)this.children[e][li]&&this.children[e].walkSourceContents(i);for(var n=Object.keys(this.sourceContents),e=0,r=n.length;e<r;e++)i(Qn.fromSetString(n[e]),this.sourceContents[n[e]])};ut.prototype.toString=function(){var i="";return this.walk(function(e){i+=e}),i};ut.prototype.toStringWithSourceMap=function(i){var e={code:"",line:1,column:0},r=new yy(i),n=!1,s=null,a=null,o=null,u=null;return this.walk(function(l,c){e.code+=l,c.source!==null&&c.line!==null&&c.column!==null?((s!==c.source||a!==c.line||o!==c.column||u!==c.name)&&r.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:e.line,column:e.column},name:c.name}),s=c.source,a=c.line,o=c.column,u=c.name,n=!0):n&&(r.addMapping({generated:{line:e.line,column:e.column}}),s=null,n=!1);for(var p=0,f=l.length;p<f;p++)l.charCodeAt(p)===Cy?(e.line++,e.column=0,p+1===f?(s=null,n=!1):n&&r.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:e.line,column:e.column},name:c.name})):e.column++}),this.walkSourceContents(function(l,c){r.setSourceContent(l,c)}),{code:e.code,map:r}};op.SourceNode=ut});var lp=W(Yn=>{Yn.SourceMapGenerator=za().SourceMapGenerator;Yn.SourceMapConsumer=ap().SourceMapConsumer;Yn.SourceNode=up().SourceNode});var $p=W(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});function by(t,i){if(t==null)return{};var e={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(i.includes(r))continue;e[r]=t[r]}return e}var Ht=class{constructor(i,e,r){this.line=void 0,this.column=void 0,this.index=void 0,this.line=i,this.column=e,this.index=r}},hi=class{constructor(i,e){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=i,this.end=e}};function Qe(t,i){let{line:e,column:r,index:n}=t;return new Ht(e,r+i,n+i)}var cp="BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED",Ey={ImportMetaOutsideModule:{message:`import.meta may appear only with 'sourceType: "module"'`,code:cp},ImportOutsideModule:{message:`'import' and 'export' may appear only with 'sourceType: "module"'`,code:cp}},pp={ArrayPattern:"array destructuring pattern",AssignmentExpression:"assignment expression",AssignmentPattern:"assignment expression",ArrowFunctionExpression:"arrow function expression",ConditionalExpression:"conditional expression",CatchClause:"catch clause",ForOfStatement:"for-of statement",ForInStatement:"for-in statement",ForStatement:"for-loop",FormalParameters:"function parameter list",Identifier:"identifier",ImportSpecifier:"import specifier",ImportDefaultSpecifier:"import default specifier",ImportNamespaceSpecifier:"import namespace specifier",ObjectPattern:"object destructuring pattern",ParenthesizedExpression:"parenthesized expression",RestElement:"rest element",UpdateExpression:{true:"prefix operation",false:"postfix operation"},VariableDeclarator:"variable declaration",YieldExpression:"yield expression"},ts=t=>t.type==="UpdateExpression"?pp.UpdateExpression[`${t.prefix}`]:pp[t.type],Sy={AccessorIsGenerator:({kind:t})=>`A ${t}ter cannot be a generator.`,ArgumentsInClass:"'arguments' is only allowed in functions and class methods.",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block.",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function.",AwaitBindingIdentifierInStaticBlock:"Can not use 'await' as identifier inside a static block.",AwaitExpressionFormalParameter:"'await' is not allowed in async function parameters.",AwaitUsingNotInAsyncContext:"'await using' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncContext:"'await' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncFunction:"'await' is only allowed within async functions.",BadGetterArity:"A 'get' accessor must not have any formal parameters.",BadSetterArity:"A 'set' accessor must have exactly one formal parameter.",BadSetterRestParameter:"A 'set' accessor function argument must not be a rest parameter.",ConstructorClassField:"Classes may not have a field named 'constructor'.",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'.",ConstructorIsAccessor:"Class constructor may not be an accessor.",ConstructorIsAsync:"Constructor can't be an async function.",ConstructorIsGenerator:"Constructor can't be a generator.",DeclarationMissingInitializer:({kind:t})=>`Missing initializer in ${t} declaration.`,DecoratorArgumentsOutsideParentheses:"Decorator arguments must be moved inside parentheses: use '@(decorator(args))' instead of '@(decorator)(args)'.",DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. Remove the 'decoratorsBeforeExport: true' option to use the 'export @decorator class {}' syntax.",DecoratorsBeforeAfterExport:"Decorators can be placed *either* before or after the 'export' keyword, but not in both locations at the same time.",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Decorators must be placed *after* the 'export' keyword. Remove the 'decoratorsBeforeExport: false' option to use the '@decorator export class {}' syntax.",DecoratorSemicolon:"Decorators must not be followed by a semicolon.",DecoratorStaticBlock:"Decorators can't be used with a static block.",DeferImportRequiresNamespace:'Only `import defer * as x from "./module"` is valid.',DeletePrivateField:"Deleting a private field is not allowed.",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class.",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:({exportName:t})=>`\`${t}\` has already been exported. Exported identifiers must be unique.`,DuplicateProto:"Redefinition of __proto__ property.",DuplicateRegExpFlags:"Duplicate regular expression flag.",DynamicImportPhaseRequiresImportExpressions:({phase:t})=>`'import.${t}(...)' can only be parsed when using the 'createImportExpressions' option.`,ElementAfterRest:"Rest element must be last element.",EscapedCharNotAnIdentifier:"Invalid Unicode escape.",ExportBindingIsString:({localName:t,exportName:i})=>`A string literal cannot be used as an exported binding without \`from\`.
    - Did you mean \`export { '${t}' as '${i}' } from 'some-module'\`?`,ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'.",ForInOfLoopInitializer:({type:t})=>`'${t==="ForInStatement"?"for-in":"for-of"}' loop variable declaration may not have an initializer.`,ForInUsing:"For-in loop may not start with 'using' declaration.",ForOfAsync:"The left-hand side of a for-of loop may not be 'async'.",ForOfLet:"The left-hand side of a for-of loop may not start with 'let'.",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block.",IllegalBreakContinue:({type:t})=>`Unsyntactic ${t==="BreakStatement"?"break":"continue"}.`,IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list.",IllegalReturn:"'return' outside of function.",ImportAttributesUseAssert:"The `assert` keyword in import attributes is deprecated and it has been replaced by the `with` keyword. You can enable the `deprecatedAssertSyntax: true` option in the import attributes plugin to suppress this error.",ImportBindingIsString:({importName:t})=>`A string literal cannot be used as an imported binding.
    - Did you mean \`import { "${t}" as foo }\`?`,ImportCallArgumentTrailingComma:"Trailing comma is disallowed inside import(...) arguments.",ImportCallArity:({maxArgumentCount:t})=>`\`import()\` requires exactly ${t===1?"one argument":"one or two arguments"}.`,ImportCallNotNewExpression:"Cannot use new with import(...).",ImportCallSpreadArgument:"`...` is not allowed in `import()`.",ImportJSONBindingNotDefault:"A JSON module can only be imported with `default`.",ImportReflectionHasAssertion:"`import module x` cannot have assertions.",ImportReflectionNotBinding:'Only `import module x from "./module"` is valid.',IncompatibleRegExpUVFlags:"The 'u' and 'v' regular expression flags cannot be enabled at the same time.",InvalidBigIntLiteral:"Invalid BigIntLiteral.",InvalidCodePoint:"Code point out of bounds.",InvalidCoverInitializedName:"Invalid shorthand property initializer.",InvalidDecimal:"Invalid decimal.",InvalidDigit:({radix:t})=>`Expected number in radix ${t}.`,InvalidEscapeSequence:"Bad character escape sequence.",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template.",InvalidEscapedReservedWord:({reservedWord:t})=>`Escape sequence in keyword ${t}.`,InvalidIdentifier:({identifierName:t})=>`Invalid identifier ${t}.`,InvalidLhs:({ancestor:t})=>`Invalid left-hand side in ${ts(t)}.`,InvalidLhsBinding:({ancestor:t})=>`Binding invalid left-hand side in ${ts(t)}.`,InvalidLhsOptionalChaining:({ancestor:t})=>`Invalid optional chaining in the left-hand side of ${ts(t)}.`,InvalidNumber:"Invalid number.",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'.",InvalidOrUnexpectedToken:({unexpected:t})=>`Unexpected character '${t}'.`,InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern.",InvalidPrivateFieldResolution:({identifierName:t})=>`Private name #${t} is not defined.`,InvalidPropertyBindingPattern:"Binding member expression.",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions.",InvalidRestAssignmentPattern:"Invalid rest operator's argument.",LabelRedeclaration:({labelName:t})=>`Label '${t}' is already declared.`,LetInLexicalBinding:"'let' is disallowed as a lexically bound name.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'.",MalformedRegExpFlags:"Invalid regular expression flag.",MissingClassName:"A class name is required.",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingSemicolon:"Missing semicolon.",MissingPlugin:({missingPlugin:t})=>`This experimental syntax requires enabling the parser plugin: ${t.map(i=>JSON.stringify(i)).join(", ")}.`,MissingOneOfPlugins:({missingPlugin:t})=>`This experimental syntax requires enabling one of the following parser plugin(s): ${t.map(i=>JSON.stringify(i)).join(", ")}.`,MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX.",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators.",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`.",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values.",ModuleAttributesWithDuplicateKeys:({key:t})=>`Duplicate key "${t}" is not allowed in module attributes.`,ModuleExportNameHasLoneSurrogate:({surrogateCharCode:t})=>`An export name cannot include a lone surrogate, found '\\u${t.toString(16)}'.`,ModuleExportUndefined:({localName:t})=>`Export '${t}' is not defined.`,MultipleDefaultsInSwitch:"Multiple default clauses.",NewlineAfterThrow:"Illegal newline after throw.",NoCatchOrFinally:"Missing catch or finally clause.",NumberIdentifier:"Identifier directly after number.",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences.",ObsoleteAwaitStar:"'await*' has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"Constructors in/after an Optional Chain are not allowed.",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain.",OverrideOnConstructor:"'override' modifier cannot appear on a constructor declaration.",ParamDupe:"Argument name clash.",PatternHasAccessor:"Object pattern can't contain getter or setter.",PatternHasMethod:"Object pattern can't contain methods.",PrivateInExpectedIn:({identifierName:t})=>`Private names are only allowed in property accesses (\`obj.#${t}\`) or in \`in\` expressions (\`#${t} in obj\`).`,PrivateNameRedeclaration:({identifierName:t})=>`Duplicate private name #${t}.`,RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",RecordNoProto:"'__proto__' is not allowed in Record expressions.",RestTrailingComma:"Unexpected trailing comma after rest element.",SloppyFunction:"In non-strict mode code, functions can only be declared at top level or inside a block.",SloppyFunctionAnnexB:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement.",SourcePhaseImportRequiresDefault:'Only `import source x from "./module"` is valid.',StaticPrototype:"Classes may not have static property named prototype.",SuperNotAllowed:"`super()` is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super.",TrailingDecorator:"Decorators must be attached to a class element.",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder.",UnexpectedAwaitAfterPipelineBody:'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal.',UnexpectedDigitAfterHash:"Unexpected digit after hash token.",UnexpectedImportExport:"'import' and 'export' may only appear at the top level.",UnexpectedKeyword:({keyword:t})=>`Unexpected keyword '${t}'.`,UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration.",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context.",UnexpectedNewTarget:"`new.target` can only be used in functions or class properties.",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits.",UnexpectedPrivateField:"Unexpected private name.",UnexpectedReservedWord:({reservedWord:t})=>`Unexpected reserved word '${t}'.`,UnexpectedSuper:"'super' is only allowed in object methods and classes.",UnexpectedToken:({expected:t,unexpected:i})=>`Unexpected token${i?` '${i}'.`:""}${t?`, expected "${t}"`:""}`,UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnexpectedUsingDeclaration:"Using declaration cannot appear in the top level when source type is `script`.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration.",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"`import` can only be used in `import()` or `import.meta`.",UnsupportedMetaProperty:({target:t,onlyValidPropertyName:i})=>`The only valid meta property for ${t} is ${t}.${i}.`,UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters.",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties.",UnsupportedSuper:"'super' can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop]).",UnterminatedComment:"Unterminated comment.",UnterminatedRegExp:"Unterminated regular expression.",UnterminatedString:"Unterminated string constant.",UnterminatedTemplate:"Unterminated template.",UsingDeclarationExport:"Using declaration cannot be exported.",UsingDeclarationHasBindingPattern:"Using declaration cannot have destructuring patterns.",VarRedeclaration:({identifierName:t})=>`Identifier '${t}' has already been declared.`,YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator.",YieldInParameter:"Yield expression is not allowed in formal parameters.",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0."},Py={StrictDelete:"Deleting local variable in strict mode.",StrictEvalArguments:({referenceName:t})=>`Assigning to '${t}' in strict mode.`,StrictEvalArgumentsBinding:({bindingName:t})=>`Binding '${t}' in strict mode.`,StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block.",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'.",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode.",StrictWith:"'with' in strict mode."},Ay=new Set(["ArrowFunctionExpression","AssignmentExpression","ConditionalExpression","YieldExpression"]),Ty={PipeBodyIsTighter:"Unexpected yield after pipeline body; any yield expression acting as Hack-style pipe body must be parenthesized due to its loose operator precedence.",PipeTopicRequiresHackPipes:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.',PipeTopicUnbound:"Topic reference is unbound; it must be inside a pipe body.",PipeTopicUnconfiguredToken:({token:t})=>`Invalid topic token ${t}. In order to use ${t} as a topic reference, the pipelineOperator plugin must be configured with { "proposal": "hack", "topicToken": "${t}" }.`,PipeTopicUnused:"Hack-style pipe body does not contain a topic reference; Hack-style pipes must use topic at least once.",PipeUnparenthesizedBody:({type:t})=>`Hack-style pipe body cannot be an unparenthesized ${ts({type:t})}; please wrap it in parentheses.`,PipelineBodyNoArrow:'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized.',PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression.",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression.",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference.",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding.",PrimaryTopicRequiresSmartPipeline:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.'},wy=["message"];function fp(t,i,e){Object.defineProperty(t,i,{enumerable:!1,configurable:!0,value:e})}function vy({toMessage:t,code:i,reasonCode:e,syntaxPlugin:r}){let n=e==="MissingPlugin"||e==="MissingOneOfPlugins";{let s={AccessorCannotDeclareThisParameter:"AccesorCannotDeclareThisParameter",AccessorCannotHaveTypeParameters:"AccesorCannotHaveTypeParameters",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference",SetAccessorCannotHaveOptionalParameter:"SetAccesorCannotHaveOptionalParameter",SetAccessorCannotHaveRestParameter:"SetAccesorCannotHaveRestParameter",SetAccessorCannotHaveReturnType:"SetAccesorCannotHaveReturnType"};s[e]&&(e=s[e])}return function s(a,o){let u=new SyntaxError;return u.code=i,u.reasonCode=e,u.loc=a,u.pos=a.index,u.syntaxPlugin=r,n&&(u.missingPlugin=o.missingPlugin),fp(u,"clone",function(c={}){var p;let{line:f,column:h,index:d}=(p=c.loc)!=null?p:a;return s(new Ht(f,h,d),Object.assign({},o,c.details))}),fp(u,"details",o),Object.defineProperty(u,"message",{configurable:!0,get(){let l=`${t(o)} (${a.line}:${a.column})`;return this.message=l,l},set(l){Object.defineProperty(this,"message",{value:l,writable:!0})}}),u}}function lr(t,i){if(Array.isArray(t))return r=>lr(r,t[0]);let e={};for(let r of Object.keys(t)){let n=t[r],s=typeof n=="string"?{message:()=>n}:typeof n=="function"?{message:n}:n,{message:a}=s,o=by(s,wy),u=typeof a=="string"?()=>a:a;e[r]=vy(Object.assign({code:"BABEL_PARSER_SYNTAX_ERROR",reasonCode:r,toMessage:u},i?{syntaxPlugin:i}:{},o))}return e}var y=Object.assign({},lr(Ey),lr(Sy),lr(Py),lr`pipelineOperator`(Ty)),{defineProperty:Fy}=Object,dp=(t,i)=>{t&&Fy(t,i,{enumerable:!1,value:t[i]})};function en(t){return dp(t.loc.start,"index"),dp(t.loc.end,"index"),t}var Iy=t=>class extends t{parse(){let e=en(super.parse());return this.options.tokens&&(e.tokens=e.tokens.map(en)),e}parseRegExpLiteral({pattern:e,flags:r}){let n=null;try{n=new RegExp(e,r)}catch{}let s=this.estreeParseLiteral(n);return s.regex={pattern:e,flags:r},s}parseBigIntLiteral(e){let r;try{r=BigInt(e)}catch{r=null}let n=this.estreeParseLiteral(r);return n.bigint=String(n.value||e),n}parseDecimalLiteral(e){let n=this.estreeParseLiteral(null);return n.decimal=String(n.value||e),n}estreeParseLiteral(e){return this.parseLiteral(e,"Literal")}parseStringLiteral(e){return this.estreeParseLiteral(e)}parseNumericLiteral(e){return this.estreeParseLiteral(e)}parseNullLiteral(){return this.estreeParseLiteral(null)}parseBooleanLiteral(e){return this.estreeParseLiteral(e)}directiveToStmt(e){let r=e.value;delete e.value,r.type="Literal",r.raw=r.extra.raw,r.value=r.extra.expressionValue;let n=e;return n.type="ExpressionStatement",n.expression=r,n.directive=r.extra.rawValue,delete r.extra,n}initFunction(e,r){super.initFunction(e,r),e.expression=!1}checkDeclaration(e){e!=null&&this.isObjectProperty(e)?this.checkDeclaration(e.value):super.checkDeclaration(e)}getObjectOrClassMethodParams(e){return e.value.params}isValidDirective(e){var r;return e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&!((r=e.expression.extra)!=null&&r.parenthesized)}parseBlockBody(e,r,n,s,a){super.parseBlockBody(e,r,n,s,a);let o=e.directives.map(u=>this.directiveToStmt(u));e.body=o.concat(e.body),delete e.directives}pushClassMethod(e,r,n,s,a,o){this.parseMethod(r,n,s,a,o,"ClassMethod",!0),r.typeParameters&&(r.value.typeParameters=r.typeParameters,delete r.typeParameters),e.body.push(r)}parsePrivateName(){let e=super.parsePrivateName();return this.getPluginOption("estree","classFeatures")?this.convertPrivateNameToPrivateIdentifier(e):e}convertPrivateNameToPrivateIdentifier(e){let r=super.getPrivateNameSV(e);return e=e,delete e.id,e.name=r,e.type="PrivateIdentifier",e}isPrivateName(e){return this.getPluginOption("estree","classFeatures")?e.type==="PrivateIdentifier":super.isPrivateName(e)}getPrivateNameSV(e){return this.getPluginOption("estree","classFeatures")?e.name:super.getPrivateNameSV(e)}parseLiteral(e,r){let n=super.parseLiteral(e,r);return n.raw=n.extra.raw,delete n.extra,n}parseFunctionBody(e,r,n=!1){super.parseFunctionBody(e,r,n),e.expression=e.body.type!=="BlockStatement"}parseMethod(e,r,n,s,a,o,u=!1){let l=this.startNode();return l.kind=e.kind,l=super.parseMethod(l,r,n,s,a,o,u),l.type="FunctionExpression",delete l.kind,e.value=l,o==="ClassPrivateMethod"&&(e.computed=!1),this.finishNode(e,"MethodDefinition")}nameIsConstructor(e){return e.type==="Literal"?e.value==="constructor":super.nameIsConstructor(e)}parseClassProperty(...e){let r=super.parseClassProperty(...e);return this.getPluginOption("estree","classFeatures")&&(r.type="PropertyDefinition"),r}parseClassPrivateProperty(...e){let r=super.parseClassPrivateProperty(...e);return this.getPluginOption("estree","classFeatures")&&(r.type="PropertyDefinition",r.computed=!1),r}parseObjectMethod(e,r,n,s,a){let o=super.parseObjectMethod(e,r,n,s,a);return o&&(o.type="Property",o.kind==="method"&&(o.kind="init"),o.shorthand=!1),o}parseObjectProperty(e,r,n,s){let a=super.parseObjectProperty(e,r,n,s);return a&&(a.kind="init",a.type="Property"),a}isValidLVal(e,r,n){return e==="Property"?"value":super.isValidLVal(e,r,n)}isAssignable(e,r){return e!=null&&this.isObjectProperty(e)?this.isAssignable(e.value,r):super.isAssignable(e,r)}toAssignable(e,r=!1){if(e!=null&&this.isObjectProperty(e)){let{key:n,value:s}=e;this.isPrivateName(n)&&this.classScope.usePrivateName(this.getPrivateNameSV(n),n.loc.start),this.toAssignable(s,r)}else super.toAssignable(e,r)}toAssignableObjectExpressionProp(e,r,n){e.type==="Property"&&(e.kind==="get"||e.kind==="set")?this.raise(y.PatternHasAccessor,e.key):e.type==="Property"&&e.method?this.raise(y.PatternHasMethod,e.key):super.toAssignableObjectExpressionProp(e,r,n)}finishCallExpression(e,r){let n=super.finishCallExpression(e,r);if(n.callee.type==="Import"){if(n.type="ImportExpression",n.source=n.arguments[0],this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions")){var s,a;n.options=(s=n.arguments[1])!=null?s:null,n.attributes=(a=n.arguments[1])!=null?a:null}delete n.arguments,delete n.callee}return n}toReferencedArguments(e){e.type!=="ImportExpression"&&super.toReferencedArguments(e)}parseExport(e,r){let n=this.state.lastTokStartLoc,s=super.parseExport(e,r);switch(s.type){case"ExportAllDeclaration":s.exported=null;break;case"ExportNamedDeclaration":s.specifiers.length===1&&s.specifiers[0].type==="ExportNamespaceSpecifier"&&(s.type="ExportAllDeclaration",s.exported=s.specifiers[0].exported,delete s.specifiers);case"ExportDefaultDeclaration":{var a;let{declaration:o}=s;o?.type==="ClassDeclaration"&&((a=o.decorators)==null?void 0:a.length)>0&&o.start===s.start&&this.resetStartLocation(s,n)}break}return s}parseSubscript(e,r,n,s){let a=super.parseSubscript(e,r,n,s);if(s.optionalChainMember){if((a.type==="OptionalMemberExpression"||a.type==="OptionalCallExpression")&&(a.type=a.type.substring(8)),s.stop){let o=this.startNodeAtNode(a);return o.expression=a,this.finishNode(o,"ChainExpression")}}else(a.type==="MemberExpression"||a.type==="CallExpression")&&(a.optional=!1);return a}isOptionalMemberExpression(e){return e.type==="ChainExpression"?e.expression.type==="MemberExpression":super.isOptionalMemberExpression(e)}hasPropertyAsPrivateName(e){return e.type==="ChainExpression"&&(e=e.expression),super.hasPropertyAsPrivateName(e)}isObjectProperty(e){return e.type==="Property"&&e.kind==="init"&&!e.method}isObjectMethod(e){return e.type==="Property"&&(e.method||e.kind==="get"||e.kind==="set")}finishNodeAt(e,r,n){return en(super.finishNodeAt(e,r,n))}resetStartLocation(e,r){super.resetStartLocation(e,r),en(e)}resetEndLocation(e,r=this.state.lastTokEndLoc){super.resetEndLocation(e,r),en(e)}},jr=class{constructor(i,e){this.token=void 0,this.preserveSpace=void 0,this.token=i,this.preserveSpace=!!e}},ce={brace:new jr("{"),j_oTag:new jr("<tag"),j_cTag:new jr("</tag"),j_expr:new jr("<tag>...</tag>",!0)};ce.template=new jr("`",!0);var X=!0,I=!0,Ha=!0,tn=!0,Cr=!0,Ny=!0,ns=class{constructor(i,e={}){this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.label=i,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.rightAssociative=!!e.rightAssociative,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop!=null?e.binop:null,this.updateContext=null}},bo=new Map;function ee(t,i={}){i.keyword=t;let e=O(t,i);return bo.set(t,e),e}function Xe(t,i){return O(t,{beforeExpr:X,binop:i})}var an=-1,or=[],Eo=[],So=[],Po=[],Ao=[],To=[];function O(t,i={}){var e,r,n,s;return++an,Eo.push(t),So.push((e=i.binop)!=null?e:-1),Po.push((r=i.beforeExpr)!=null?r:!1),Ao.push((n=i.startsExpr)!=null?n:!1),To.push((s=i.prefix)!=null?s:!1),or.push(new ns(t,i)),an}function G(t,i={}){var e,r,n,s;return++an,bo.set(t,an),Eo.push(t),So.push((e=i.binop)!=null?e:-1),Po.push((r=i.beforeExpr)!=null?r:!1),Ao.push((n=i.startsExpr)!=null?n:!1),To.push((s=i.prefix)!=null?s:!1),or.push(new ns("name",i)),an}var ky={bracketL:O("[",{beforeExpr:X,startsExpr:I}),bracketHashL:O("#[",{beforeExpr:X,startsExpr:I}),bracketBarL:O("[|",{beforeExpr:X,startsExpr:I}),bracketR:O("]"),bracketBarR:O("|]"),braceL:O("{",{beforeExpr:X,startsExpr:I}),braceBarL:O("{|",{beforeExpr:X,startsExpr:I}),braceHashL:O("#{",{beforeExpr:X,startsExpr:I}),braceR:O("}"),braceBarR:O("|}"),parenL:O("(",{beforeExpr:X,startsExpr:I}),parenR:O(")"),comma:O(",",{beforeExpr:X}),semi:O(";",{beforeExpr:X}),colon:O(":",{beforeExpr:X}),doubleColon:O("::",{beforeExpr:X}),dot:O("."),question:O("?",{beforeExpr:X}),questionDot:O("?."),arrow:O("=>",{beforeExpr:X}),template:O("template"),ellipsis:O("...",{beforeExpr:X}),backQuote:O("`",{startsExpr:I}),dollarBraceL:O("${",{beforeExpr:X,startsExpr:I}),templateTail:O("...`",{startsExpr:I}),templateNonTail:O("...${",{beforeExpr:X,startsExpr:I}),at:O("@"),hash:O("#",{startsExpr:I}),interpreterDirective:O("#!..."),eq:O("=",{beforeExpr:X,isAssign:tn}),assign:O("_=",{beforeExpr:X,isAssign:tn}),slashAssign:O("_=",{beforeExpr:X,isAssign:tn}),xorAssign:O("_=",{beforeExpr:X,isAssign:tn}),moduloAssign:O("_=",{beforeExpr:X,isAssign:tn}),incDec:O("++/--",{prefix:Cr,postfix:Ny,startsExpr:I}),bang:O("!",{beforeExpr:X,prefix:Cr,startsExpr:I}),tilde:O("~",{beforeExpr:X,prefix:Cr,startsExpr:I}),doubleCaret:O("^^",{startsExpr:I}),doubleAt:O("@@",{startsExpr:I}),pipeline:Xe("|>",0),nullishCoalescing:Xe("??",1),logicalOR:Xe("||",1),logicalAND:Xe("&&",2),bitwiseOR:Xe("|",3),bitwiseXOR:Xe("^",4),bitwiseAND:Xe("&",5),equality:Xe("==/!=/===/!==",6),lt:Xe("</>/<=/>=",7),gt:Xe("</>/<=/>=",7),relational:Xe("</>/<=/>=",7),bitShift:Xe("<</>>/>>>",8),bitShiftL:Xe("<</>>/>>>",8),bitShiftR:Xe("<</>>/>>>",8),plusMin:O("+/-",{beforeExpr:X,binop:9,prefix:Cr,startsExpr:I}),modulo:O("%",{binop:10,startsExpr:I}),star:O("*",{binop:10}),slash:Xe("/",10),exponent:O("**",{beforeExpr:X,binop:11,rightAssociative:!0}),_in:ee("in",{beforeExpr:X,binop:7}),_instanceof:ee("instanceof",{beforeExpr:X,binop:7}),_break:ee("break"),_case:ee("case",{beforeExpr:X}),_catch:ee("catch"),_continue:ee("continue"),_debugger:ee("debugger"),_default:ee("default",{beforeExpr:X}),_else:ee("else",{beforeExpr:X}),_finally:ee("finally"),_function:ee("function",{startsExpr:I}),_if:ee("if"),_return:ee("return",{beforeExpr:X}),_switch:ee("switch"),_throw:ee("throw",{beforeExpr:X,prefix:Cr,startsExpr:I}),_try:ee("try"),_var:ee("var"),_const:ee("const"),_with:ee("with"),_new:ee("new",{beforeExpr:X,startsExpr:I}),_this:ee("this",{startsExpr:I}),_super:ee("super",{startsExpr:I}),_class:ee("class",{startsExpr:I}),_extends:ee("extends",{beforeExpr:X}),_export:ee("export"),_import:ee("import",{startsExpr:I}),_null:ee("null",{startsExpr:I}),_true:ee("true",{startsExpr:I}),_false:ee("false",{startsExpr:I}),_typeof:ee("typeof",{beforeExpr:X,prefix:Cr,startsExpr:I}),_void:ee("void",{beforeExpr:X,prefix:Cr,startsExpr:I}),_delete:ee("delete",{beforeExpr:X,prefix:Cr,startsExpr:I}),_do:ee("do",{isLoop:Ha,beforeExpr:X}),_for:ee("for",{isLoop:Ha}),_while:ee("while",{isLoop:Ha}),_as:G("as",{startsExpr:I}),_assert:G("assert",{startsExpr:I}),_async:G("async",{startsExpr:I}),_await:G("await",{startsExpr:I}),_defer:G("defer",{startsExpr:I}),_from:G("from",{startsExpr:I}),_get:G("get",{startsExpr:I}),_let:G("let",{startsExpr:I}),_meta:G("meta",{startsExpr:I}),_of:G("of",{startsExpr:I}),_sent:G("sent",{startsExpr:I}),_set:G("set",{startsExpr:I}),_source:G("source",{startsExpr:I}),_static:G("static",{startsExpr:I}),_using:G("using",{startsExpr:I}),_yield:G("yield",{startsExpr:I}),_asserts:G("asserts",{startsExpr:I}),_checks:G("checks",{startsExpr:I}),_exports:G("exports",{startsExpr:I}),_global:G("global",{startsExpr:I}),_implements:G("implements",{startsExpr:I}),_intrinsic:G("intrinsic",{startsExpr:I}),_infer:G("infer",{startsExpr:I}),_is:G("is",{startsExpr:I}),_mixins:G("mixins",{startsExpr:I}),_proto:G("proto",{startsExpr:I}),_require:G("require",{startsExpr:I}),_satisfies:G("satisfies",{startsExpr:I}),_keyof:G("keyof",{startsExpr:I}),_readonly:G("readonly",{startsExpr:I}),_unique:G("unique",{startsExpr:I}),_abstract:G("abstract",{startsExpr:I}),_declare:G("declare",{startsExpr:I}),_enum:G("enum",{startsExpr:I}),_module:G("module",{startsExpr:I}),_namespace:G("namespace",{startsExpr:I}),_interface:G("interface",{startsExpr:I}),_type:G("type",{startsExpr:I}),_opaque:G("opaque",{startsExpr:I}),name:O("name",{startsExpr:I}),string:O("string",{startsExpr:I}),num:O("num",{startsExpr:I}),bigint:O("bigint",{startsExpr:I}),decimal:O("decimal",{startsExpr:I}),regexp:O("regexp",{startsExpr:I}),privateName:O("#name",{startsExpr:I}),eof:O("eof"),jsxName:O("jsxName"),jsxText:O("jsxText",{beforeExpr:!0}),jsxTagStart:O("jsxTagStart",{startsExpr:!0}),jsxTagEnd:O("jsxTagEnd"),placeholder:O("%%",{startsExpr:!0})};function se(t){return t>=93&&t<=132}function By(t){return t<=92}function wt(t){return t>=58&&t<=132}function Ap(t){return t>=58&&t<=136}function Ly(t){return Po[t]}function eo(t){return Ao[t]}function Oy(t){return t>=29&&t<=33}function hp(t){return t>=129&&t<=131}function Ry(t){return t>=90&&t<=92}function wo(t){return t>=58&&t<=92}function My(t){return t>=39&&t<=59}function _y(t){return t===34}function jy(t){return To[t]}function $y(t){return t>=121&&t<=123}function Vy(t){return t>=124&&t<=130}function Er(t){return Eo[t]}function rs(t){return So[t]}function Uy(t){return t===57}function ss(t){return t>=24&&t<=25}function ar(t){return or[t]}or[8].updateContext=t=>{t.pop()},or[5].updateContext=or[7].updateContext=or[23].updateContext=t=>{t.push(ce.brace)},or[22].updateContext=t=>{t[t.length-1]===ce.template?t.pop():t.push(ce.template)},or[142].updateContext=t=>{t.push(ce.j_expr,ce.j_oTag)};var vo="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Tp="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",Ky=new RegExp("["+vo+"]"),zy=new RegExp("["+vo+Tp+"]");vo=Tp=null;var wp=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],qy=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239];function to(t,i){let e=65536;for(let r=0,n=i.length;r<n;r+=2){if(e+=i[r],e>t)return!1;if(e+=i[r+1],e>=t)return!0}return!1}function ur(t){return t<65?t===36:t<=90?!0:t<97?t===95:t<=122?!0:t<=65535?t>=170&&Ky.test(String.fromCharCode(t)):to(t,wp)}function pi(t){return t<48?t===36:t<58?!0:t<65?!1:t<=90?!0:t<97?t===95:t<=122?!0:t<=65535?t>=170&&zy.test(String.fromCharCode(t)):to(t,wp)||to(t,qy)}var Fo={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},Wy=new Set(Fo.keyword),Jy=new Set(Fo.strict),Hy=new Set(Fo.strictBind);function vp(t,i){return i&&t==="await"||t==="enum"}function Fp(t,i){return vp(t,i)||Jy.has(t)}function Ip(t){return Hy.has(t)}function Np(t,i){return Fp(t,i)||Ip(t)}function Gy(t){return Wy.has(t)}function Xy(t,i,e){return t===64&&i===64&&ur(e)}var Qy=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete","implements","interface","let","package","private","protected","public","static","yield","eval","arguments","enum","await"]);function Yy(t){return Qy.has(t)}var on=class{constructor(i){this.flags=0,this.names=new Map,this.firstLexicalName="",this.flags=i}},un=class{constructor(i,e){this.parser=void 0,this.scopeStack=[],this.inModule=void 0,this.undefinedExports=new Map,this.parser=i,this.inModule=e}get inTopLevel(){return(this.currentScope().flags&1)>0}get inFunction(){return(this.currentVarScopeFlags()&2)>0}get allowSuper(){return(this.currentThisScopeFlags()&16)>0}get allowDirectSuper(){return(this.currentThisScopeFlags()&32)>0}get inClass(){return(this.currentThisScopeFlags()&64)>0}get inClassAndNotInNonArrowFunction(){let i=this.currentThisScopeFlags();return(i&64)>0&&(i&2)===0}get inStaticBlock(){for(let i=this.scopeStack.length-1;;i--){let{flags:e}=this.scopeStack[i];if(e&128)return!0;if(e&451)return!1}}get inNonArrowFunction(){return(this.currentThisScopeFlags()&2)>0}get treatFunctionsAsVar(){return this.treatFunctionsAsVarInScope(this.currentScope())}createScope(i){return new on(i)}enter(i){this.scopeStack.push(this.createScope(i))}exit(){return this.scopeStack.pop().flags}treatFunctionsAsVarInScope(i){return!!(i.flags&130||!this.parser.inModule&&i.flags&1)}declareName(i,e,r){let n=this.currentScope();if(e&8||e&16){this.checkRedeclarationInScope(n,i,e,r);let s=n.names.get(i)||0;e&16?s=s|4:(n.firstLexicalName||(n.firstLexicalName=i),s=s|2),n.names.set(i,s),e&8&&this.maybeExportDefined(n,i)}else if(e&4)for(let s=this.scopeStack.length-1;s>=0&&(n=this.scopeStack[s],this.checkRedeclarationInScope(n,i,e,r),n.names.set(i,(n.names.get(i)||0)|1),this.maybeExportDefined(n,i),!(n.flags&387));--s);this.parser.inModule&&n.flags&1&&this.undefinedExports.delete(i)}maybeExportDefined(i,e){this.parser.inModule&&i.flags&1&&this.undefinedExports.delete(e)}checkRedeclarationInScope(i,e,r,n){this.isRedeclaredInScope(i,e,r)&&this.parser.raise(y.VarRedeclaration,n,{identifierName:e})}isRedeclaredInScope(i,e,r){if(!(r&1))return!1;if(r&8)return i.names.has(e);let n=i.names.get(e);return r&16?(n&2)>0||!this.treatFunctionsAsVarInScope(i)&&(n&1)>0:(n&2)>0&&!(i.flags&8&&i.firstLexicalName===e)||!this.treatFunctionsAsVarInScope(i)&&(n&4)>0}checkLocalExport(i){let{name:e}=i;this.scopeStack[0].names.has(e)||this.undefinedExports.set(e,i.loc.start)}currentScope(){return this.scopeStack[this.scopeStack.length-1]}currentVarScopeFlags(){for(let i=this.scopeStack.length-1;;i--){let{flags:e}=this.scopeStack[i];if(e&387)return e}}currentThisScopeFlags(){for(let i=this.scopeStack.length-1;;i--){let{flags:e}=this.scopeStack[i];if(e&451&&!(e&4))return e}}},ro=class extends on{constructor(...i){super(...i),this.declareFunctions=new Set}},io=class extends un{createScope(i){return new ro(i)}declareName(i,e,r){let n=this.currentScope();if(e&2048){this.checkRedeclarationInScope(n,i,e,r),this.maybeExportDefined(n,i),n.declareFunctions.add(i);return}super.declareName(i,e,r)}isRedeclaredInScope(i,e,r){if(super.isRedeclaredInScope(i,e,r))return!0;if(r&2048&&!i.declareFunctions.has(e)){let n=i.names.get(e);return(n&4)>0||(n&2)>0}return!1}checkLocalExport(i){this.scopeStack[0].declareFunctions.has(i.name)||super.checkLocalExport(i)}},no=class{constructor(){this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1}hasPlugin(i){if(typeof i=="string")return this.plugins.has(i);{let[e,r]=i;if(!this.hasPlugin(e))return!1;let n=this.plugins.get(e);for(let s of Object.keys(r))if(n?.[s]!==r[s])return!1;return!0}}getPluginOption(i,e){var r;return(r=this.plugins.get(i))==null?void 0:r[e]}};function kp(t,i){t.trailingComments===void 0?t.trailingComments=i:t.trailingComments.unshift(...i)}function Zy(t,i){t.leadingComments===void 0?t.leadingComments=i:t.leadingComments.unshift(...i)}function ln(t,i){t.innerComments===void 0?t.innerComments=i:t.innerComments.unshift(...i)}function rn(t,i,e){let r=null,n=i.length;for(;r===null&&n>0;)r=i[--n];r===null||r.start>e.start?ln(t,e.comments):kp(r,e.comments)}var so=class extends no{addComment(i){this.filename&&(i.loc.filename=this.filename);let{commentsLen:e}=this.state;this.comments.length!==e&&(this.comments.length=e),this.comments.push(i),this.state.commentsLen++}processComment(i){let{commentStack:e}=this.state,r=e.length;if(r===0)return;let n=r-1,s=e[n];s.start===i.end&&(s.leadingNode=i,n--);let{start:a}=i;for(;n>=0;n--){let o=e[n],u=o.end;if(u>a)o.containingNode=i,this.finalizeComment(o),e.splice(n,1);else{u===a&&(o.trailingNode=i);break}}}finalizeComment(i){let{comments:e}=i;if(i.leadingNode!==null||i.trailingNode!==null)i.leadingNode!==null&&kp(i.leadingNode,e),i.trailingNode!==null&&Zy(i.trailingNode,e);else{let{containingNode:r,start:n}=i;if(this.input.charCodeAt(n-1)===44)switch(r.type){case"ObjectExpression":case"ObjectPattern":case"RecordExpression":rn(r,r.properties,i);break;case"CallExpression":case"OptionalCallExpression":rn(r,r.arguments,i);break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":rn(r,r.params,i);break;case"ArrayExpression":case"ArrayPattern":case"TupleExpression":rn(r,r.elements,i);break;case"ExportNamedDeclaration":case"ImportDeclaration":rn(r,r.specifiers,i);break;default:ln(r,e)}else ln(r,e)}}finalizeRemainingComments(){let{commentStack:i}=this.state;for(let e=i.length-1;e>=0;e--)this.finalizeComment(i[e]);this.state.commentStack=[]}resetPreviousNodeTrailingComments(i){let{commentStack:e}=this.state,{length:r}=e;if(r===0)return;let n=e[r-1];n.leadingNode===i&&(n.leadingNode=null)}resetPreviousIdentifierLeadingComments(i){let{commentStack:e}=this.state,{length:r}=e;r!==0&&(e[r-1].trailingNode===i?e[r-1].trailingNode=null:r>=2&&e[r-2].trailingNode===i&&(e[r-2].trailingNode=null))}takeSurroundingComments(i,e,r){let{commentStack:n}=this.state,s=n.length;if(s===0)return;let a=s-1;for(;a>=0;a--){let o=n[a],u=o.end;if(o.start===r)o.leadingNode=i;else if(u===e)o.trailingNode=i;else if(u<e)break}}},ex=/\r\n|[\r\n\u2028\u2029]/,Zn=new RegExp(ex.source,"g");function fi(t){switch(t){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function mp(t,i,e){for(let r=i;r<e;r++)if(fi(t.charCodeAt(r)))return!0;return!1}var Ga=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Xa=/(?:[^\S\n\r\u2028\u2029]|\/\/.*|\/\*.*?\*\/)*/g;function tx(t){switch(t){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}var ao=class t{constructor(){this.flags=1024,this.curLine=void 0,this.lineStart=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.labels=[],this.commentsLen=0,this.commentStack=[],this.pos=0,this.type=139,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.context=[ce.brace],this.firstInvalidTemplateEscapePos=null,this.strictErrors=new Map,this.tokensLength=0}get strict(){return(this.flags&1)>0}set strict(i){i?this.flags|=1:this.flags&=-2}init({strictMode:i,sourceType:e,startLine:r,startColumn:n}){this.strict=i===!1?!1:i===!0?!0:e==="module",this.curLine=r,this.lineStart=-n,this.startLoc=this.endLoc=new Ht(r,n,0)}get maybeInArrowParameters(){return(this.flags&2)>0}set maybeInArrowParameters(i){i?this.flags|=2:this.flags&=-3}get inType(){return(this.flags&4)>0}set inType(i){i?this.flags|=4:this.flags&=-5}get noAnonFunctionType(){return(this.flags&8)>0}set noAnonFunctionType(i){i?this.flags|=8:this.flags&=-9}get hasFlowComment(){return(this.flags&16)>0}set hasFlowComment(i){i?this.flags|=16:this.flags&=-17}get isAmbientContext(){return(this.flags&32)>0}set isAmbientContext(i){i?this.flags|=32:this.flags&=-33}get inAbstractClass(){return(this.flags&64)>0}set inAbstractClass(i){i?this.flags|=64:this.flags&=-65}get inDisallowConditionalTypesContext(){return(this.flags&128)>0}set inDisallowConditionalTypesContext(i){i?this.flags|=128:this.flags&=-129}get soloAwait(){return(this.flags&256)>0}set soloAwait(i){i?this.flags|=256:this.flags&=-257}get inFSharpPipelineDirectBody(){return(this.flags&512)>0}set inFSharpPipelineDirectBody(i){i?this.flags|=512:this.flags&=-513}get canStartJSXElement(){return(this.flags&1024)>0}set canStartJSXElement(i){i?this.flags|=1024:this.flags&=-1025}get containsEsc(){return(this.flags&2048)>0}set containsEsc(i){i?this.flags|=2048:this.flags&=-2049}get hasTopLevelAwait(){return(this.flags&4096)>0}set hasTopLevelAwait(i){i?this.flags|=4096:this.flags&=-4097}curPosition(){return new Ht(this.curLine,this.pos-this.lineStart,this.pos)}clone(){let i=new t;return i.flags=this.flags,i.curLine=this.curLine,i.lineStart=this.lineStart,i.startLoc=this.startLoc,i.endLoc=this.endLoc,i.errors=this.errors.slice(),i.potentialArrowAt=this.potentialArrowAt,i.noArrowAt=this.noArrowAt.slice(),i.noArrowParamsConversionAt=this.noArrowParamsConversionAt.slice(),i.topicContext=this.topicContext,i.labels=this.labels.slice(),i.commentsLen=this.commentsLen,i.commentStack=this.commentStack.slice(),i.pos=this.pos,i.type=this.type,i.value=this.value,i.start=this.start,i.end=this.end,i.lastTokEndLoc=this.lastTokEndLoc,i.lastTokStartLoc=this.lastTokStartLoc,i.context=this.context.slice(),i.firstInvalidTemplateEscapePos=this.firstInvalidTemplateEscapePos,i.strictErrors=this.strictErrors,i.tokensLength=this.tokensLength,i}},rx=function(i){return i>=48&&i<=57},gp={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},es={bin:t=>t===48||t===49,oct:t=>t>=48&&t<=55,dec:t=>t>=48&&t<=57,hex:t=>t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102};function Dp(t,i,e,r,n,s){let a=e,o=r,u=n,l="",c=null,p=e,{length:f}=i;for(;;){if(e>=f){s.unterminated(a,o,u),l+=i.slice(p,e);break}let h=i.charCodeAt(e);if(ix(t,h,i,e)){l+=i.slice(p,e);break}if(h===92){l+=i.slice(p,e);let d=nx(i,e,r,n,t==="template",s);d.ch===null&&!c?c={pos:e,lineStart:r,curLine:n}:l+=d.ch,{pos:e,lineStart:r,curLine:n}=d,p=e}else h===8232||h===8233?(++e,++n,r=e):h===10||h===13?t==="template"?(l+=i.slice(p,e)+`
    `,++e,h===13&&i.charCodeAt(e)===10&&++e,++n,p=r=e):s.unterminated(a,o,u):++e}return{pos:e,str:l,firstInvalidLoc:c,lineStart:r,curLine:n,containsInvalid:!!c}}function ix(t,i,e,r){return t==="template"?i===96||i===36&&e.charCodeAt(r+1)===123:i===(t==="double"?34:39)}function nx(t,i,e,r,n,s){let a=!n;i++;let o=l=>({pos:i,ch:l,lineStart:e,curLine:r}),u=t.charCodeAt(i++);switch(u){case 110:return o(`
    `);case 114:return o("\r");case 120:{let l;return{code:l,pos:i}=oo(t,i,e,r,2,!1,a,s),o(l===null?null:String.fromCharCode(l))}case 117:{let l;return{code:l,pos:i}=Lp(t,i,e,r,a,s),o(l===null?null:String.fromCodePoint(l))}case 116:return o("	");case 98:return o("\b");case 118:return o("\v");case 102:return o("\f");case 13:t.charCodeAt(i)===10&&++i;case 10:e=i,++r;case 8232:case 8233:return o("");case 56:case 57:if(n)return o(null);s.strictNumericEscape(i-1,e,r);default:if(u>=48&&u<=55){let l=i-1,p=/^[0-7]+/.exec(t.slice(l,i+2))[0],f=parseInt(p,8);f>255&&(p=p.slice(0,-1),f=parseInt(p,8)),i+=p.length-1;let h=t.charCodeAt(i);if(p!=="0"||h===56||h===57){if(n)return o(null);s.strictNumericEscape(l,e,r)}return o(String.fromCharCode(f))}return o(String.fromCharCode(u))}}function oo(t,i,e,r,n,s,a,o){let u=i,l;return{n:l,pos:i}=Bp(t,i,e,r,16,n,s,!1,o,!a),l===null&&(a?o.invalidEscapeSequence(u,e,r):i=u-1),{code:l,pos:i}}function Bp(t,i,e,r,n,s,a,o,u,l){let c=i,p=n===16?gp.hex:gp.decBinOct,f=n===16?es.hex:n===10?es.dec:n===8?es.oct:es.bin,h=!1,d=0;for(let m=0,g=s??1/0;m<g;++m){let D=t.charCodeAt(i),x;if(D===95&&o!=="bail"){let P=t.charCodeAt(i-1),C=t.charCodeAt(i+1);if(o){if(Number.isNaN(C)||!f(C)||p.has(P)||p.has(C)){if(l)return{n:null,pos:i};u.unexpectedNumericSeparator(i,e,r)}}else{if(l)return{n:null,pos:i};u.numericSeparatorInEscapeSequence(i,e,r)}++i;continue}if(D>=97?x=D-97+10:D>=65?x=D-65+10:rx(D)?x=D-48:x=1/0,x>=n){if(x<=9&&l)return{n:null,pos:i};if(x<=9&&u.invalidDigit(i,e,r,n))x=0;else if(a)x=0,h=!0;else break}++i,d=d*n+x}return i===c||s!=null&&i-c!==s||h?{n:null,pos:i}:{n:d,pos:i}}function Lp(t,i,e,r,n,s){let a=t.charCodeAt(i),o;if(a===123){if(++i,{code:o,pos:i}=oo(t,i,e,r,t.indexOf("}",i)-i,!0,n,s),++i,o!==null&&o>1114111)if(n)s.invalidCodePoint(i,e,r);else return{code:null,pos:i}}else({code:o,pos:i}=oo(t,i,e,r,4,!1,n,s));return{code:o,pos:i}}function nn(t,i,e){return new Ht(e,t-i,t)}var sx=new Set([103,109,115,105,121,117,100,118]),Jt=class{constructor(i){this.type=i.type,this.value=i.value,this.start=i.start,this.end=i.end,this.loc=new hi(i.startLoc,i.endLoc)}},uo=class extends so{constructor(i,e){super(),this.isLookahead=void 0,this.tokens=[],this.errorHandlers_readInt={invalidDigit:(r,n,s,a)=>this.options.errorRecovery?(this.raise(y.InvalidDigit,nn(r,n,s),{radix:a}),!0):!1,numericSeparatorInEscapeSequence:this.errorKhulnasoft(y.NumericSeparatorInEscapeSequence),unexpectedNumericSeparator:this.errorKhulnasoft(y.UnexpectedNumericSeparator)},this.errorHandlers_readCodePoint=Object.assign({},this.errorHandlers_readInt,{invalidEscapeSequence:this.errorKhulnasoft(y.InvalidEscapeSequence),invalidCodePoint:this.errorKhulnasoft(y.InvalidCodePoint)}),this.errorHandlers_readStringContents_string=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:(r,n,s)=>{this.recordStrictModeErrors(y.StrictNumericEscape,nn(r,n,s))},unterminated:(r,n,s)=>{throw this.raise(y.UnterminatedString,nn(r-1,n,s))}}),this.errorHandlers_readStringContents_template=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:this.errorKhulnasoft(y.StrictNumericEscape),unterminated:(r,n,s)=>{throw this.raise(y.UnterminatedTemplate,nn(r,n,s))}}),this.state=new ao,this.state.init(i),this.input=e,this.length=e.length,this.comments=[],this.isLookahead=!1}pushToken(i){this.tokens.length=this.state.tokensLength,this.tokens.push(i),++this.state.tokensLength}next(){this.checkKeywordEscapes(),this.options.tokens&&this.pushToken(new Jt(this.state)),this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()}eat(i){return this.match(i)?(this.next(),!0):!1}match(i){return this.state.type===i}createLookaheadState(i){return{pos:i.pos,value:null,type:i.type,start:i.start,end:i.end,context:[this.curContext()],inType:i.inType,startLoc:i.startLoc,lastTokEndLoc:i.lastTokEndLoc,curLine:i.curLine,lineStart:i.lineStart,curPosition:i.curPosition}}lookahead(){let i=this.state;this.state=this.createLookaheadState(i),this.isLookahead=!0,this.nextToken(),this.isLookahead=!1;let e=this.state;return this.state=i,e}nextTokenStart(){return this.nextTokenStartSince(this.state.pos)}nextTokenStartSince(i){return Ga.lastIndex=i,Ga.test(this.input)?Ga.lastIndex:i}lookaheadCharCode(){return this.input.charCodeAt(this.nextTokenStart())}nextTokenInLineStart(){return this.nextTokenInLineStartSince(this.state.pos)}nextTokenInLineStartSince(i){return Xa.lastIndex=i,Xa.test(this.input)?Xa.lastIndex:i}lookaheadInLineCharCode(){return this.input.charCodeAt(this.nextTokenInLineStart())}codePointAtPos(i){let e=this.input.charCodeAt(i);if((e&64512)===55296&&++i<this.input.length){let r=this.input.charCodeAt(i);(r&64512)===56320&&(e=65536+((e&1023)<<10)+(r&1023))}return e}setStrict(i){this.state.strict=i,i&&(this.state.strictErrors.forEach(([e,r])=>this.raise(e,r)),this.state.strictErrors.clear())}curContext(){return this.state.context[this.state.context.length-1]}nextToken(){if(this.skipSpace(),this.state.start=this.state.pos,this.isLookahead||(this.state.startLoc=this.state.curPosition()),this.state.pos>=this.length){this.finishToken(139);return}this.getTokenFromCode(this.codePointAtPos(this.state.pos))}skipBlockComment(i){let e;this.isLookahead||(e=this.state.curPosition());let r=this.state.pos,n=this.input.indexOf(i,r+2);if(n===-1)throw this.raise(y.UnterminatedComment,this.state.curPosition());for(this.state.pos=n+i.length,Zn.lastIndex=r+2;Zn.test(this.input)&&Zn.lastIndex<=n;)++this.state.curLine,this.state.lineStart=Zn.lastIndex;if(this.isLookahead)return;let s={type:"CommentBlock",value:this.input.slice(r+2,n),start:r,end:n+i.length,loc:new hi(e,this.state.curPosition())};return this.options.tokens&&this.pushToken(s),s}skipLineComment(i){let e=this.state.pos,r;this.isLookahead||(r=this.state.curPosition());let n=this.input.charCodeAt(this.state.pos+=i);if(this.state.pos<this.length)for(;!fi(n)&&++this.state.pos<this.length;)n=this.input.charCodeAt(this.state.pos);if(this.isLookahead)return;let s=this.state.pos,o={type:"CommentLine",value:this.input.slice(e+i,s),start:e,end:s,loc:new hi(r,this.state.curPosition())};return this.options.tokens&&this.pushToken(o),o}skipSpace(){let i=this.state.pos,e=[];e:for(;this.state.pos<this.length;){let r=this.input.charCodeAt(this.state.pos);switch(r){case 32:case 160:case 9:++this.state.pos;break;case 13:this.input.charCodeAt(this.state.pos+1)===10&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:{let n=this.skipBlockComment("*/");n!==void 0&&(this.addComment(n),this.options.attachComment&&e.push(n));break}case 47:{let n=this.skipLineComment(2);n!==void 0&&(this.addComment(n),this.options.attachComment&&e.push(n));break}default:break e}break;default:if(tx(r))++this.state.pos;else if(r===45&&!this.inModule&&this.options.annexB){let n=this.state.pos;if(this.input.charCodeAt(n+1)===45&&this.input.charCodeAt(n+2)===62&&(i===0||this.state.lineStart>i)){let s=this.skipLineComment(3);s!==void 0&&(this.addComment(s),this.options.attachComment&&e.push(s))}else break e}else if(r===60&&!this.inModule&&this.options.annexB){let n=this.state.pos;if(this.input.charCodeAt(n+1)===33&&this.input.charCodeAt(n+2)===45&&this.input.charCodeAt(n+3)===45){let s=this.skipLineComment(4);s!==void 0&&(this.addComment(s),this.options.attachComment&&e.push(s))}else break e}else break e}}if(e.length>0){let r=this.state.pos,n={start:i,end:r,comments:e,leadingNode:null,trailingNode:null,containingNode:null};this.state.commentStack.push(n)}}finishToken(i,e){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();let r=this.state.type;this.state.type=i,this.state.value=e,this.isLookahead||this.updateContext(r)}replaceToken(i){this.state.type=i,this.updateContext()}readToken_numberSign(){if(this.state.pos===0&&this.readToken_interpreter())return;let i=this.state.pos+1,e=this.codePointAtPos(i);if(e>=48&&e<=57)throw this.raise(y.UnexpectedDigitAfterHash,this.state.curPosition());if(e===123||e===91&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),this.getPluginOption("recordAndTuple","syntaxType")==="bar")throw this.raise(e===123?y.RecordExpressionHashIncorrectStartSyntaxType:y.TupleExpressionHashIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,e===123?this.finishToken(7):this.finishToken(1)}else ur(e)?(++this.state.pos,this.finishToken(138,this.readWord1(e))):e===92?(++this.state.pos,this.finishToken(138,this.readWord1())):this.finishOp(27,1)}readToken_dot(){let i=this.input.charCodeAt(this.state.pos+1);if(i>=48&&i<=57){this.readNumber(!0);return}i===46&&this.input.charCodeAt(this.state.pos+2)===46?(this.state.pos+=3,this.finishToken(21)):(++this.state.pos,this.finishToken(16))}readToken_slash(){this.input.charCodeAt(this.state.pos+1)===61?this.finishOp(31,2):this.finishOp(56,1)}readToken_interpreter(){if(this.state.pos!==0||this.length<2)return!1;let i=this.input.charCodeAt(this.state.pos+1);if(i!==33)return!1;let e=this.state.pos;for(this.state.pos+=1;!fi(i)&&++this.state.pos<this.length;)i=this.input.charCodeAt(this.state.pos);let r=this.input.slice(e+2,this.state.pos);return this.finishToken(28,r),!0}readToken_mult_modulo(i){let e=i===42?55:54,r=1,n=this.input.charCodeAt(this.state.pos+1);i===42&&n===42&&(r++,n=this.input.charCodeAt(this.state.pos+2),e=57),n===61&&!this.state.inType&&(r++,e=i===37?33:30),this.finishOp(e,r)}readToken_pipe_amp(i){let e=this.input.charCodeAt(this.state.pos+1);if(e===i){this.input.charCodeAt(this.state.pos+2)===61?this.finishOp(30,3):this.finishOp(i===124?41:42,2);return}if(i===124){if(e===62){this.finishOp(39,2);return}if(this.hasPlugin("recordAndTuple")&&e===125){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(y.RecordExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(9);return}if(this.hasPlugin("recordAndTuple")&&e===93){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(y.TupleExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(4);return}}if(e===61){this.finishOp(30,2);return}this.finishOp(i===124?43:45,1)}readToken_caret(){let i=this.input.charCodeAt(this.state.pos+1);i===61&&!this.state.inType?this.finishOp(32,2):i===94&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"^^"}])?(this.finishOp(37,2),this.input.codePointAt(this.state.pos)===94&&this.unexpected()):this.finishOp(44,1)}readToken_atSign(){this.input.charCodeAt(this.state.pos+1)===64&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"@@"}])?this.finishOp(38,2):this.finishOp(26,1)}readToken_plus_min(i){let e=this.input.charCodeAt(this.state.pos+1);if(e===i){this.finishOp(34,2);return}e===61?this.finishOp(30,2):this.finishOp(53,1)}readToken_lt(){let{pos:i}=this.state,e=this.input.charCodeAt(i+1);if(e===60){if(this.input.charCodeAt(i+2)===61){this.finishOp(30,3);return}this.finishOp(51,2);return}if(e===61){this.finishOp(49,2);return}this.finishOp(47,1)}readToken_gt(){let{pos:i}=this.state,e=this.input.charCodeAt(i+1);if(e===62){let r=this.input.charCodeAt(i+2)===62?3:2;if(this.input.charCodeAt(i+r)===61){this.finishOp(30,r+1);return}this.finishOp(52,r);return}if(e===61){this.finishOp(49,2);return}this.finishOp(48,1)}readToken_eq_excl(i){let e=this.input.charCodeAt(this.state.pos+1);if(e===61){this.finishOp(46,this.input.charCodeAt(this.state.pos+2)===61?3:2);return}if(i===61&&e===62){this.state.pos+=2,this.finishToken(19);return}this.finishOp(i===61?29:35,1)}readToken_question(){let i=this.input.charCodeAt(this.state.pos+1),e=this.input.charCodeAt(this.state.pos+2);i===63?e===61?this.finishOp(30,3):this.finishOp(40,2):i===46&&!(e>=48&&e<=57)?(this.state.pos+=2,this.finishToken(18)):(++this.state.pos,this.finishToken(17))}getTokenFromCode(i){switch(i){case 46:this.readToken_dot();return;case 40:++this.state.pos,this.finishToken(10);return;case 41:++this.state.pos,this.finishToken(11);return;case 59:++this.state.pos,this.finishToken(13);return;case 44:++this.state.pos,this.finishToken(12);return;case 91:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(y.TupleExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(2)}else++this.state.pos,this.finishToken(0);return;case 93:++this.state.pos,this.finishToken(3);return;case 123:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(y.RecordExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(6)}else++this.state.pos,this.finishToken(5);return;case 125:++this.state.pos,this.finishToken(8);return;case 58:this.hasPlugin("functionBind")&&this.input.charCodeAt(this.state.pos+1)===58?this.finishOp(15,2):(++this.state.pos,this.finishToken(14));return;case 63:this.readToken_question();return;case 96:this.readTemplateToken();return;case 48:{let e=this.input.charCodeAt(this.state.pos+1);if(e===120||e===88){this.readRadixNumber(16);return}if(e===111||e===79){this.readRadixNumber(8);return}if(e===98||e===66){this.readRadixNumber(2);return}}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:this.readNumber(!1);return;case 34:case 39:this.readString(i);return;case 47:this.readToken_slash();return;case 37:case 42:this.readToken_mult_modulo(i);return;case 124:case 38:this.readToken_pipe_amp(i);return;case 94:this.readToken_caret();return;case 43:case 45:this.readToken_plus_min(i);return;case 60:this.readToken_lt();return;case 62:this.readToken_gt();return;case 61:case 33:this.readToken_eq_excl(i);return;case 126:this.finishOp(36,1);return;case 64:this.readToken_atSign();return;case 35:this.readToken_numberSign();return;case 92:this.readWord();return;default:if(ur(i)){this.readWord(i);return}}throw this.raise(y.InvalidOrUnexpectedToken,this.state.curPosition(),{unexpected:String.fromCodePoint(i)})}finishOp(i,e){let r=this.input.slice(this.state.pos,this.state.pos+e);this.state.pos+=e,this.finishToken(i,r)}readRegexp(){let i=this.state.startLoc,e=this.state.start+1,r,n,{pos:s}=this.state;for(;;++s){if(s>=this.length)throw this.raise(y.UnterminatedRegExp,Qe(i,1));let l=this.input.charCodeAt(s);if(fi(l))throw this.raise(y.UnterminatedRegExp,Qe(i,1));if(r)r=!1;else{if(l===91)n=!0;else if(l===93&&n)n=!1;else if(l===47&&!n)break;r=l===92}}let a=this.input.slice(e,s);++s;let o="",u=()=>Qe(i,s+2-e);for(;s<this.length;){let l=this.codePointAtPos(s),c=String.fromCharCode(l);if(sx.has(l))l===118?o.includes("u")&&this.raise(y.IncompatibleRegExpUVFlags,u()):l===117&&o.includes("v")&&this.raise(y.IncompatibleRegExpUVFlags,u()),o.includes(c)&&this.raise(y.DuplicateRegExpFlags,u());else if(pi(l)||l===92)this.raise(y.MalformedRegExpFlags,u());else break;++s,o+=c}this.state.pos=s,this.finishToken(137,{pattern:a,flags:o})}readInt(i,e,r=!1,n=!0){let{n:s,pos:a}=Bp(this.input,this.state.pos,this.state.lineStart,this.state.curLine,i,e,r,n,this.errorHandlers_readInt,!1);return this.state.pos=a,s}readRadixNumber(i){let e=this.state.curPosition(),r=!1;this.state.pos+=2;let n=this.readInt(i);n==null&&this.raise(y.InvalidDigit,Qe(e,2),{radix:i});let s=this.input.charCodeAt(this.state.pos);if(s===110)++this.state.pos,r=!0;else if(s===109)throw this.raise(y.InvalidDecimal,e);if(ur(this.codePointAtPos(this.state.pos)))throw this.raise(y.NumberIdentifier,this.state.curPosition());if(r){let a=this.input.slice(e.index,this.state.pos).replace(/[_n]/g,"");this.finishToken(135,a);return}this.finishToken(134,n)}readNumber(i){let e=this.state.pos,r=this.state.curPosition(),n=!1,s=!1,a=!1,o=!1,u=!1;!i&&this.readInt(10)===null&&this.raise(y.InvalidNumber,this.state.curPosition());let l=this.state.pos-e>=2&&this.input.charCodeAt(e)===48;if(l){let h=this.input.slice(e,this.state.pos);if(this.recordStrictModeErrors(y.StrictOctalLiteral,r),!this.state.strict){let d=h.indexOf("_");d>0&&this.raise(y.ZeroDigitNumericSeparator,Qe(r,d))}u=l&&!/[89]/.test(h)}let c=this.input.charCodeAt(this.state.pos);if(c===46&&!u&&(++this.state.pos,this.readInt(10),n=!0,c=this.input.charCodeAt(this.state.pos)),(c===69||c===101)&&!u&&(c=this.input.charCodeAt(++this.state.pos),(c===43||c===45)&&++this.state.pos,this.readInt(10)===null&&this.raise(y.InvalidOrMissingExponent,r),n=!0,o=!0,c=this.input.charCodeAt(this.state.pos)),c===110&&((n||l)&&this.raise(y.InvalidBigIntLiteral,r),++this.state.pos,s=!0),c===109&&(this.expectPlugin("decimal",this.state.curPosition()),(o||l)&&this.raise(y.InvalidDecimal,r),++this.state.pos,a=!0),ur(this.codePointAtPos(this.state.pos)))throw this.raise(y.NumberIdentifier,this.state.curPosition());let p=this.input.slice(e,this.state.pos).replace(/[_mn]/g,"");if(s){this.finishToken(135,p);return}if(a){this.finishToken(136,p);return}let f=u?parseInt(p,8):parseFloat(p);this.finishToken(134,f)}readCodePoint(i){let{code:e,pos:r}=Lp(this.input,this.state.pos,this.state.lineStart,this.state.curLine,i,this.errorHandlers_readCodePoint);return this.state.pos=r,e}readString(i){let{str:e,pos:r,curLine:n,lineStart:s}=Dp(i===34?"double":"single",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_string);this.state.pos=r+1,this.state.lineStart=s,this.state.curLine=n,this.finishToken(133,e)}readTemplateContinuation(){this.match(8)||this.unexpected(null,8),this.state.pos--,this.readTemplateToken()}readTemplateToken(){let i=this.input[this.state.pos],{str:e,firstInvalidLoc:r,pos:n,curLine:s,lineStart:a}=Dp("template",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_template);this.state.pos=n+1,this.state.lineStart=a,this.state.curLine=s,r&&(this.state.firstInvalidTemplateEscapePos=new Ht(r.curLine,r.pos-r.lineStart,r.pos)),this.input.codePointAt(n)===96?this.finishToken(24,r?null:i+e+"`"):(this.state.pos++,this.finishToken(25,r?null:i+e+"${"))}recordStrictModeErrors(i,e){let r=e.index;this.state.strict&&!this.state.strictErrors.has(r)?this.raise(i,e):this.state.strictErrors.set(r,[i,e])}readWord1(i){this.state.containsEsc=!1;let e="",r=this.state.pos,n=this.state.pos;for(i!==void 0&&(this.state.pos+=i<=65535?1:2);this.state.pos<this.length;){let s=this.codePointAtPos(this.state.pos);if(pi(s))this.state.pos+=s<=65535?1:2;else if(s===92){this.state.containsEsc=!0,e+=this.input.slice(n,this.state.pos);let a=this.state.curPosition(),o=this.state.pos===r?ur:pi;if(this.input.charCodeAt(++this.state.pos)!==117){this.raise(y.MissingUnicodeEscape,this.state.curPosition()),n=this.state.pos-1;continue}++this.state.pos;let u=this.readCodePoint(!0);u!==null&&(o(u)||this.raise(y.EscapedCharNotAnIdentifier,a),e+=String.fromCodePoint(u)),n=this.state.pos}else break}return e+this.input.slice(n,this.state.pos)}readWord(i){let e=this.readWord1(i),r=bo.get(e);r!==void 0?this.finishToken(r,Er(r)):this.finishToken(132,e)}checkKeywordEscapes(){let{type:i}=this.state;wo(i)&&this.state.containsEsc&&this.raise(y.InvalidEscapedReservedWord,this.state.startLoc,{reservedWord:Er(i)})}raise(i,e,r={}){let n=e instanceof Ht?e:e.loc.start,s=i(n,r);if(!this.options.errorRecovery)throw s;return this.isLookahead||this.state.errors.push(s),s}raiseOverwrite(i,e,r={}){let n=e instanceof Ht?e:e.loc.start,s=n.index,a=this.state.errors;for(let o=a.length-1;o>=0;o--){let u=a[o];if(u.loc.index===s)return a[o]=i(n,r);if(u.loc.index<s)break}return this.raise(i,e,r)}updateContext(i){}unexpected(i,e){throw this.raise(y.UnexpectedToken,i??this.state.startLoc,{expected:e?Er(e):null})}expectPlugin(i,e){if(this.hasPlugin(i))return!0;throw this.raise(y.MissingPlugin,e??this.state.startLoc,{missingPlugin:[i]})}expectOnePlugin(i){if(!i.some(e=>this.hasPlugin(e)))throw this.raise(y.MissingOneOfPlugins,this.state.startLoc,{missingPlugin:i})}errorKhulnasoft(i){return(e,r,n)=>{this.raise(i,nn(e,r,n))}}},lo=class{constructor(){this.privateNames=new Set,this.loneAccessors=new Map,this.undefinedPrivateNames=new Map}},co=class{constructor(i){this.parser=void 0,this.stack=[],this.undefinedPrivateNames=new Map,this.parser=i}current(){return this.stack[this.stack.length-1]}enter(){this.stack.push(new lo)}exit(){let i=this.stack.pop(),e=this.current();for(let[r,n]of Array.from(i.undefinedPrivateNames))e?e.undefinedPrivateNames.has(r)||e.undefinedPrivateNames.set(r,n):this.parser.raise(y.InvalidPrivateFieldResolution,n,{identifierName:r})}declarePrivateName(i,e,r){let{privateNames:n,loneAccessors:s,undefinedPrivateNames:a}=this.current(),o=n.has(i);if(e&3){let u=o&&s.get(i);if(u){let l=u&4,c=e&4,p=u&3,f=e&3;o=p===f||l!==c,o||s.delete(i)}else o||s.set(i,e)}o&&this.parser.raise(y.PrivateNameRedeclaration,r,{identifierName:i}),n.add(i),a.delete(i)}usePrivateName(i,e){let r;for(r of this.stack)if(r.privateNames.has(i))return;r?r.undefinedPrivateNames.set(i,e):this.parser.raise(y.InvalidPrivateFieldResolution,e,{identifierName:i})}},mi=class{constructor(i=0){this.type=i}canBeArrowParameterDeclaration(){return this.type===2||this.type===1}isCertainlyParameterDeclaration(){return this.type===3}},as=class extends mi{constructor(i){super(i),this.declarationErrors=new Map}recordDeclarationError(i,e){let r=e.index;this.declarationErrors.set(r,[i,e])}clearDeclarationError(i){this.declarationErrors.delete(i)}iterateErrors(i){this.declarationErrors.forEach(i)}},po=class{constructor(i){this.parser=void 0,this.stack=[new mi],this.parser=i}enter(i){this.stack.push(i)}exit(){this.stack.pop()}recordParameterInitializerError(i,e){let r=e.loc.start,{stack:n}=this,s=n.length-1,a=n[s];for(;!a.isCertainlyParameterDeclaration();){if(a.canBeArrowParameterDeclaration())a.recordDeclarationError(i,r);else return;a=n[--s]}this.parser.raise(i,r)}recordArrowParameterBindingError(i,e){let{stack:r}=this,n=r[r.length-1],s=e.loc.start;if(n.isCertainlyParameterDeclaration())this.parser.raise(i,s);else if(n.canBeArrowParameterDeclaration())n.recordDeclarationError(i,s);else return}recordAsyncArrowParametersError(i){let{stack:e}=this,r=e.length-1,n=e[r];for(;n.canBeArrowParameterDeclaration();)n.type===2&&n.recordDeclarationError(y.AwaitBindingIdentifier,i),n=e[--r]}validateAsPattern(){let{stack:i}=this,e=i[i.length-1];e.canBeArrowParameterDeclaration()&&e.iterateErrors(([r,n])=>{this.parser.raise(r,n);let s=i.length-2,a=i[s];for(;a.canBeArrowParameterDeclaration();)a.clearDeclarationError(n.index),a=i[--s]})}};function ax(){return new mi(3)}function ox(){return new as(1)}function ux(){return new as(2)}function Op(){return new mi}var fo=class{constructor(){this.stacks=[]}enter(i){this.stacks.push(i)}exit(){this.stacks.pop()}currentFlags(){return this.stacks[this.stacks.length-1]}get hasAwait(){return(this.currentFlags()&2)>0}get hasYield(){return(this.currentFlags()&1)>0}get hasReturn(){return(this.currentFlags()&4)>0}get hasIn(){return(this.currentFlags()&8)>0}};function is(t,i){return(t?2:0)|(i?1:0)}var ho=class extends uo{addExtra(i,e,r,n=!0){if(!i)return;let{extra:s}=i;s==null&&(s={},i.extra=s),n?s[e]=r:Object.defineProperty(s,e,{enumerable:n,value:r})}isContextual(i){return this.state.type===i&&!this.state.containsEsc}isUnparsedContextual(i,e){let r=i+e.length;if(this.input.slice(i,r)===e){let n=this.input.charCodeAt(r);return!(pi(n)||(n&64512)===55296)}return!1}isLookaheadContextual(i){let e=this.nextTokenStart();return this.isUnparsedContextual(e,i)}eatContextual(i){return this.isContextual(i)?(this.next(),!0):!1}expectContextual(i,e){if(!this.eatContextual(i)){if(e!=null)throw this.raise(e,this.state.startLoc);this.unexpected(null,i)}}canInsertSemicolon(){return this.match(139)||this.match(8)||this.hasPrecedingLineBreak()}hasPrecedingLineBreak(){return mp(this.input,this.state.lastTokEndLoc.index,this.state.start)}hasFollowingLineBreak(){return mp(this.input,this.state.end,this.nextTokenStart())}isLineTerminator(){return this.eat(13)||this.canInsertSemicolon()}semicolon(i=!0){(i?this.isLineTerminator():this.eat(13))||this.raise(y.MissingSemicolon,this.state.lastTokEndLoc)}expect(i,e){this.eat(i)||this.unexpected(e,i)}tryParse(i,e=this.state.clone()){let r={node:null};try{let n=i((s=null)=>{throw r.node=s,r});if(this.state.errors.length>e.errors.length){let s=this.state;return this.state=e,this.state.tokensLength=s.tokensLength,{node:n,error:s.errors[e.errors.length],thrown:!1,aborted:!1,failState:s}}return{node:n,error:null,thrown:!1,aborted:!1,failState:null}}catch(n){let s=this.state;if(this.state=e,n instanceof SyntaxError)return{node:null,error:n,thrown:!0,aborted:!1,failState:s};if(n===r)return{node:r.node,error:null,thrown:!1,aborted:!0,failState:s};throw n}}checkExpressionErrors(i,e){if(!i)return!1;let{shorthandAssignLoc:r,doubleProtoLoc:n,privateKeyLoc:s,optionalParametersLoc:a}=i,o=!!r||!!n||!!a||!!s;if(!e)return o;r!=null&&this.raise(y.InvalidCoverInitializedName,r),n!=null&&this.raise(y.DuplicateProto,n),s!=null&&this.raise(y.UnexpectedPrivateField,s),a!=null&&this.unexpected(a)}isLiteralPropertyName(){return Ap(this.state.type)}isPrivateName(i){return i.type==="PrivateName"}getPrivateNameSV(i){return i.id.name}hasPropertyAsPrivateName(i){return(i.type==="MemberExpression"||i.type==="OptionalMemberExpression")&&this.isPrivateName(i.property)}isObjectProperty(i){return i.type==="ObjectProperty"}isObjectMethod(i){return i.type==="ObjectMethod"}initializeScopes(i=this.options.sourceType==="module"){let e=this.state.labels;this.state.labels=[];let r=this.exportedIdentifiers;this.exportedIdentifiers=new Set;let n=this.inModule;this.inModule=i;let s=this.scope,a=this.getScopeHandler();this.scope=new a(this,i);let o=this.prodParam;this.prodParam=new fo;let u=this.classScope;this.classScope=new co(this);let l=this.expressionScope;return this.expressionScope=new po(this),()=>{this.state.labels=e,this.exportedIdentifiers=r,this.inModule=n,this.scope=s,this.prodParam=o,this.classScope=u,this.expressionScope=l}}enterInitialScopes(){let i=0;this.inModule&&(i|=2),this.scope.enter(1),this.prodParam.enter(i)}checkDestructuringPrivate(i){let{privateKeyLoc:e}=i;e!==null&&this.expectPlugin("destructuringPrivate",e)}},di=class{constructor(){this.shorthandAssignLoc=null,this.doubleProtoLoc=null,this.privateKeyLoc=null,this.optionalParametersLoc=null}},gi=class{constructor(i,e,r){this.type="",this.start=e,this.end=0,this.loc=new hi(r),i!=null&&i.options.ranges&&(this.range=[e,0]),i!=null&&i.filename&&(this.loc.filename=i.filename)}},Io=gi.prototype;Io.__clone=function(){let t=new gi(void 0,this.start,this.loc.start),i=Object.keys(this);for(let e=0,r=i.length;e<r;e++){let n=i[e];n!=="leadingComments"&&n!=="trailingComments"&&n!=="innerComments"&&(t[n]=this[n])}return t};function lx(t){return cr(t)}function cr(t){let{type:i,start:e,end:r,loc:n,range:s,extra:a,name:o}=t,u=Object.create(Io);return u.type=i,u.start=e,u.end=r,u.loc=n,u.range=s,u.extra=a,u.name=o,i==="Placeholder"&&(u.expectedNode=t.expectedNode),u}function cx(t){let{type:i,start:e,end:r,loc:n,range:s,extra:a}=t;if(i==="Placeholder")return lx(t);let o=Object.create(Io);return o.type=i,o.start=e,o.end=r,o.loc=n,o.range=s,t.raw!==void 0?o.raw=t.raw:o.extra=a,o.value=t.value,o}var mo=class extends ho{startNode(){let i=this.state.startLoc;return new gi(this,i.index,i)}startNodeAt(i){return new gi(this,i.index,i)}startNodeAtNode(i){return this.startNodeAt(i.loc.start)}finishNode(i,e){return this.finishNodeAt(i,e,this.state.lastTokEndLoc)}finishNodeAt(i,e,r){return i.type=e,i.end=r.index,i.loc.end=r,this.options.ranges&&(i.range[1]=r.index),this.options.attachComment&&this.processComment(i),i}resetStartLocation(i,e){i.start=e.index,i.loc.start=e,this.options.ranges&&(i.range[0]=e.index)}resetEndLocation(i,e=this.state.lastTokEndLoc){i.end=e.index,i.loc.end=e,this.options.ranges&&(i.range[1]=e.index)}resetStartLocationFromNode(i,e){this.resetStartLocation(i,e.loc.start)}},px=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),R=lr`flow`({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module.",AssignReservedType:({reservedType:t})=>`Cannot overwrite reserved type ${t}.`,DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement.",EnumBooleanMemberNotInitialized:({memberName:t,enumName:i})=>`Boolean enum members need to be initialized. Use either \`${t} = true,\` or \`${t} = false,\` in enum \`${i}\`.`,EnumDuplicateMemberName:({memberName:t,enumName:i})=>`Enum member names need to be unique, but the name \`${t}\` has already been used before in enum \`${i}\`.`,EnumInconsistentMemberValues:({enumName:t})=>`Enum \`${t}\` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.`,EnumInvalidExplicitType:({invalidEnumType:t,enumName:i})=>`Enum type \`${t}\` is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${i}\`.`,EnumInvalidExplicitTypeUnknownSupplied:({enumName:t})=>`Supplied enum type is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${t}\`.`,EnumInvalidMemberInitializerPrimaryType:({enumName:t,memberName:i,explicitType:e})=>`Enum \`${t}\` has type \`${e}\`, so the initializer of \`${i}\` needs to be a ${e} literal.`,EnumInvalidMemberInitializerSymbolType:({enumName:t,memberName:i})=>`Symbol enum members cannot be initialized. Use \`${i},\` in enum \`${t}\`.`,EnumInvalidMemberInitializerUnknownType:({enumName:t,memberName:i})=>`The enum member initializer for \`${i}\` needs to be a literal (either a boolean, number, or string) in enum \`${t}\`.`,EnumInvalidMemberName:({enumName:t,memberName:i,suggestion:e})=>`Enum member names cannot start with lowercase 'a' through 'z'. Instead of using \`${i}\`, consider using \`${e}\`, in enum \`${t}\`.`,EnumNumberMemberNotInitialized:({enumName:t,memberName:i})=>`Number enum members need to be initialized, e.g. \`${i} = 1\` in enum \`${t}\`.`,EnumStringMemberInconsistentlyInitialized:({enumName:t})=>`String enum members need to consistently either all use initializers, or use no initializers, in enum \`${t}\`.`,GetterMayNotHaveThisParam:"A getter cannot have a `this` parameter.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` or `typeof` keyword.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements.",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type.",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions.",InexactVariance:"Explicit inexact syntax cannot have variance.",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`.",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`.",NestedFlowComment:"Cannot have a flow comment inside another flow comment.",PatternIsOptional:Object.assign({message:"A binding pattern parameter cannot be optional in an implementation signature."},{reasonCode:"OptionalBindingPattern"}),SetterMayNotHaveThisParam:"A setter cannot have a `this` parameter.",SpreadVariance:"Spread properties cannot have variance.",ThisParamAnnotationRequired:"A type annotation is required for the `this` parameter.",ThisParamBannedInConstructor:"Constructors cannot have a `this` parameter; constructors don't bind `this` like other functions.",ThisParamMayNotBeOptional:"The `this` parameter cannot be optional.",ThisParamMustBeFirst:"The `this` parameter must be the first function parameter.",ThisParamNoDefault:"The `this` parameter may not have a default value.",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis.",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object.",UnexpectedReservedType:({reservedType:t})=>`Unexpected reserved type ${t}.`,UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new.",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions.",UnexpectedSubtractionOperand:'Unexpected token, expected "number" or "bigint".',UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration.",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`.",UnsupportedDeclareExportKind:({unsupportedExportKind:t,suggestion:i})=>`\`declare export ${t}\` is not supported. Use \`${i}\` instead.`,UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module.",UnterminatedFlowComment:"Unterminated flow-comment."});function fx(t){return t.type==="DeclareExportAllDeclaration"||t.type==="DeclareExportDeclaration"&&(!t.declaration||t.declaration.type!=="TypeAlias"&&t.declaration.type!=="InterfaceDeclaration")}function yp(t){return t.importKind==="type"||t.importKind==="typeof"}var dx={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"};function hx(t,i){let e=[],r=[];for(let n=0;n<t.length;n++)(i(t[n],n,t)?e:r).push(t[n]);return[e,r]}var mx=/\*?\s*@((?:no)?flow)\b/,gx=t=>class extends t{constructor(...e){super(...e),this.flowPragma=void 0}getScopeHandler(){return io}shouldParseTypes(){return this.getPluginOption("flow","all")||this.flowPragma==="flow"}shouldParseEnums(){return!!this.getPluginOption("flow","enums")}finishToken(e,r){e!==133&&e!==13&&e!==28&&this.flowPragma===void 0&&(this.flowPragma=null),super.finishToken(e,r)}addComment(e){if(this.flowPragma===void 0){let r=mx.exec(e.value);if(r)if(r[1]==="flow")this.flowPragma="flow";else if(r[1]==="noflow")this.flowPragma="noflow";else throw new Error("Unexpected flow pragma")}super.addComment(e)}flowParseTypeInitialiser(e){let r=this.state.inType;this.state.inType=!0,this.expect(e||14);let n=this.flowParseType();return this.state.inType=r,n}flowParsePredicate(){let e=this.startNode(),r=this.state.startLoc;return this.next(),this.expectContextual(110),this.state.lastTokStartLoc.index>r.index+1&&this.raise(R.UnexpectedSpaceBetweenModuloChecks,r),this.eat(10)?(e.value=super.parseExpression(),this.expect(11),this.finishNode(e,"DeclaredPredicate")):this.finishNode(e,"InferredPredicate")}flowParseTypeAndPredicateInitialiser(){let e=this.state.inType;this.state.inType=!0,this.expect(14);let r=null,n=null;return this.match(54)?(this.state.inType=e,n=this.flowParsePredicate()):(r=this.flowParseType(),this.state.inType=e,this.match(54)&&(n=this.flowParsePredicate())),[r,n]}flowParseDeclareClass(e){return this.next(),this.flowParseInterfaceish(e,!0),this.finishNode(e,"DeclareClass")}flowParseDeclareFunction(e){this.next();let r=e.id=this.parseIdentifier(),n=this.startNode(),s=this.startNode();this.match(47)?n.typeParameters=this.flowParseTypeParameterDeclaration():n.typeParameters=null,this.expect(10);let a=this.flowParseFunctionTypeParams();return n.params=a.params,n.rest=a.rest,n.this=a._this,this.expect(11),[n.returnType,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),s.typeAnnotation=this.finishNode(n,"FunctionTypeAnnotation"),r.typeAnnotation=this.finishNode(s,"TypeAnnotation"),this.resetEndLocation(r),this.semicolon(),this.scope.declareName(e.id.name,2048,e.id.loc.start),this.finishNode(e,"DeclareFunction")}flowParseDeclare(e,r){if(this.match(80))return this.flowParseDeclareClass(e);if(this.match(68))return this.flowParseDeclareFunction(e);if(this.match(74))return this.flowParseDeclareVariable(e);if(this.eatContextual(127))return this.match(16)?this.flowParseDeclareModuleExports(e):(r&&this.raise(R.NestedDeclareModule,this.state.lastTokStartLoc),this.flowParseDeclareModule(e));if(this.isContextual(130))return this.flowParseDeclareTypeAlias(e);if(this.isContextual(131))return this.flowParseDeclareOpaqueType(e);if(this.isContextual(129))return this.flowParseDeclareInterface(e);if(this.match(82))return this.flowParseDeclareExportDeclaration(e,r);this.unexpected()}flowParseDeclareVariable(e){return this.next(),e.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(e.id.name,5,e.id.loc.start),this.semicolon(),this.finishNode(e,"DeclareVariable")}flowParseDeclareModule(e){this.scope.enter(0),this.match(133)?e.id=super.parseExprAtom():e.id=this.parseIdentifier();let r=e.body=this.startNode(),n=r.body=[];for(this.expect(5);!this.match(8);){let o=this.startNode();this.match(83)?(this.next(),!this.isContextual(130)&&!this.match(87)&&this.raise(R.InvalidNonTypeImportInDeclareModule,this.state.lastTokStartLoc),super.parseImport(o)):(this.expectContextual(125,R.UnsupportedStatementInDeclareModule),o=this.flowParseDeclare(o,!0)),n.push(o)}this.scope.exit(),this.expect(8),this.finishNode(r,"BlockStatement");let s=null,a=!1;return n.forEach(o=>{fx(o)?(s==="CommonJS"&&this.raise(R.AmbiguousDeclareModuleKind,o),s="ES"):o.type==="DeclareModuleExports"&&(a&&this.raise(R.DuplicateDeclareModuleExports,o),s==="ES"&&this.raise(R.AmbiguousDeclareModuleKind,o),s="CommonJS",a=!0)}),e.kind=s||"CommonJS",this.finishNode(e,"DeclareModule")}flowParseDeclareExportDeclaration(e,r){if(this.expect(82),this.eat(65))return this.match(68)||this.match(80)?e.declaration=this.flowParseDeclare(this.startNode()):(e.declaration=this.flowParseType(),this.semicolon()),e.default=!0,this.finishNode(e,"DeclareExportDeclaration");if(this.match(75)||this.isLet()||(this.isContextual(130)||this.isContextual(129))&&!r){let n=this.state.value;throw this.raise(R.UnsupportedDeclareExportKind,this.state.startLoc,{unsupportedExportKind:n,suggestion:dx[n]})}if(this.match(74)||this.match(68)||this.match(80)||this.isContextual(131))return e.declaration=this.flowParseDeclare(this.startNode()),e.default=!1,this.finishNode(e,"DeclareExportDeclaration");if(this.match(55)||this.match(5)||this.isContextual(129)||this.isContextual(130)||this.isContextual(131))return e=this.parseExport(e,null),e.type==="ExportNamedDeclaration"&&(e.type="ExportDeclaration",e.default=!1,delete e.exportKind),e.type="Declare"+e.type,e;this.unexpected()}flowParseDeclareModuleExports(e){return this.next(),this.expectContextual(111),e.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(e,"DeclareModuleExports")}flowParseDeclareTypeAlias(e){this.next();let r=this.flowParseTypeAlias(e);return r.type="DeclareTypeAlias",r}flowParseDeclareOpaqueType(e){this.next();let r=this.flowParseOpaqueType(e,!0);return r.type="DeclareOpaqueType",r}flowParseDeclareInterface(e){return this.next(),this.flowParseInterfaceish(e,!1),this.finishNode(e,"DeclareInterface")}flowParseInterfaceish(e,r){if(e.id=this.flowParseRestrictedIdentifier(!r,!0),this.scope.declareName(e.id.name,r?17:8201,e.id.loc.start),this.match(47)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.extends=[],this.eat(81))do e.extends.push(this.flowParseInterfaceExtends());while(!r&&this.eat(12));if(r){if(e.implements=[],e.mixins=[],this.eatContextual(117))do e.mixins.push(this.flowParseInterfaceExtends());while(this.eat(12));if(this.eatContextual(113))do e.implements.push(this.flowParseInterfaceExtends());while(this.eat(12))}e.body=this.flowParseObjectType({allowStatic:r,allowExact:!1,allowSpread:!1,allowProto:r,allowInexact:!1})}flowParseInterfaceExtends(){let e=this.startNode();return e.id=this.flowParseQualifiedTypeIdentifier(),this.match(47)?e.typeParameters=this.flowParseTypeParameterInstantiation():e.typeParameters=null,this.finishNode(e,"InterfaceExtends")}flowParseInterface(e){return this.flowParseInterfaceish(e,!1),this.finishNode(e,"InterfaceDeclaration")}checkNotUnderscore(e){e==="_"&&this.raise(R.UnexpectedReservedUnderscore,this.state.startLoc)}checkReservedType(e,r,n){px.has(e)&&this.raise(n?R.AssignReservedType:R.UnexpectedReservedType,r,{reservedType:e})}flowParseRestrictedIdentifier(e,r){return this.checkReservedType(this.state.value,this.state.startLoc,r),this.parseIdentifier(e)}flowParseTypeAlias(e){return e.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(e.id.name,8201,e.id.loc.start),this.match(47)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.right=this.flowParseTypeInitialiser(29),this.semicolon(),this.finishNode(e,"TypeAlias")}flowParseOpaqueType(e,r){return this.expectContextual(130),e.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(e.id.name,8201,e.id.loc.start),this.match(47)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.supertype=null,this.match(14)&&(e.supertype=this.flowParseTypeInitialiser(14)),e.impltype=null,r||(e.impltype=this.flowParseTypeInitialiser(29)),this.semicolon(),this.finishNode(e,"OpaqueType")}flowParseTypeParameter(e=!1){let r=this.state.startLoc,n=this.startNode(),s=this.flowParseVariance(),a=this.flowParseTypeAnnotatableIdentifier();return n.name=a.name,n.variance=s,n.bound=a.typeAnnotation,this.match(29)?(this.eat(29),n.default=this.flowParseType()):e&&this.raise(R.MissingTypeParamDefault,r),this.finishNode(n,"TypeParameter")}flowParseTypeParameterDeclaration(){let e=this.state.inType,r=this.startNode();r.params=[],this.state.inType=!0,this.match(47)||this.match(142)?this.next():this.unexpected();let n=!1;do{let s=this.flowParseTypeParameter(n);r.params.push(s),s.default&&(n=!0),this.match(48)||this.expect(12)}while(!this.match(48));return this.expect(48),this.state.inType=e,this.finishNode(r,"TypeParameterDeclaration")}flowParseTypeParameterInstantiation(){let e=this.startNode(),r=this.state.inType;e.params=[],this.state.inType=!0,this.expect(47);let n=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.match(48);)e.params.push(this.flowParseType()),this.match(48)||this.expect(12);return this.state.noAnonFunctionType=n,this.expect(48),this.state.inType=r,this.finishNode(e,"TypeParameterInstantiation")}flowParseTypeParameterInstantiationCallOrNew(){let e=this.startNode(),r=this.state.inType;for(e.params=[],this.state.inType=!0,this.expect(47);!this.match(48);)e.params.push(this.flowParseTypeOrImplicitInstantiation()),this.match(48)||this.expect(12);return this.expect(48),this.state.inType=r,this.finishNode(e,"TypeParameterInstantiation")}flowParseInterfaceType(){let e=this.startNode();if(this.expectContextual(129),e.extends=[],this.eat(81))do e.extends.push(this.flowParseInterfaceExtends());while(this.eat(12));return e.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(e,"InterfaceTypeAnnotation")}flowParseObjectPropertyKey(){return this.match(134)||this.match(133)?super.parseExprAtom():this.parseIdentifier(!0)}flowParseObjectTypeIndexer(e,r,n){return e.static=r,this.lookahead().type===14?(e.id=this.flowParseObjectPropertyKey(),e.key=this.flowParseTypeInitialiser()):(e.id=null,e.key=this.flowParseType()),this.expect(3),e.value=this.flowParseTypeInitialiser(),e.variance=n,this.finishNode(e,"ObjectTypeIndexer")}flowParseObjectTypeInternalSlot(e,r){return e.static=r,e.id=this.flowParseObjectPropertyKey(),this.expect(3),this.expect(3),this.match(47)||this.match(10)?(e.method=!0,e.optional=!1,e.value=this.flowParseObjectTypeMethodish(this.startNodeAt(e.loc.start))):(e.method=!1,this.eat(17)&&(e.optional=!0),e.value=this.flowParseTypeInitialiser()),this.finishNode(e,"ObjectTypeInternalSlot")}flowParseObjectTypeMethodish(e){for(e.params=[],e.rest=null,e.typeParameters=null,e.this=null,this.match(47)&&(e.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(10),this.match(78)&&(e.this=this.flowParseFunctionTypeParam(!0),e.this.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)e.params.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(e.rest=this.flowParseFunctionTypeParam(!1)),this.expect(11),e.returnType=this.flowParseTypeInitialiser(),this.finishNode(e,"FunctionTypeAnnotation")}flowParseObjectTypeCallProperty(e,r){let n=this.startNode();return e.static=r,e.value=this.flowParseObjectTypeMethodish(n),this.finishNode(e,"ObjectTypeCallProperty")}flowParseObjectType({allowStatic:e,allowExact:r,allowSpread:n,allowProto:s,allowInexact:a}){let o=this.state.inType;this.state.inType=!0;let u=this.startNode();u.callProperties=[],u.properties=[],u.indexers=[],u.internalSlots=[];let l,c,p=!1;for(r&&this.match(6)?(this.expect(6),l=9,c=!0):(this.expect(5),l=8,c=!1),u.exact=c;!this.match(l);){let h=!1,d=null,m=null,g=this.startNode();if(s&&this.isContextual(118)){let x=this.lookahead();x.type!==14&&x.type!==17&&(this.next(),d=this.state.startLoc,e=!1)}if(e&&this.isContextual(106)){let x=this.lookahead();x.type!==14&&x.type!==17&&(this.next(),h=!0)}let D=this.flowParseVariance();if(this.eat(0))d!=null&&this.unexpected(d),this.eat(0)?(D&&this.unexpected(D.loc.start),u.internalSlots.push(this.flowParseObjectTypeInternalSlot(g,h))):u.indexers.push(this.flowParseObjectTypeIndexer(g,h,D));else if(this.match(10)||this.match(47))d!=null&&this.unexpected(d),D&&this.unexpected(D.loc.start),u.callProperties.push(this.flowParseObjectTypeCallProperty(g,h));else{let x="init";if(this.isContextual(99)||this.isContextual(104)){let C=this.lookahead();Ap(C.type)&&(x=this.state.value,this.next())}let P=this.flowParseObjectTypeProperty(g,h,d,D,x,n,a??!c);P===null?(p=!0,m=this.state.lastTokStartLoc):u.properties.push(P)}this.flowObjectTypeSemicolon(),m&&!this.match(8)&&!this.match(9)&&this.raise(R.UnexpectedExplicitInexactInObject,m)}this.expect(l),n&&(u.inexact=p);let f=this.finishNode(u,"ObjectTypeAnnotation");return this.state.inType=o,f}flowParseObjectTypeProperty(e,r,n,s,a,o,u){if(this.eat(21))return this.match(12)||this.match(13)||this.match(8)||this.match(9)?(o?u||this.raise(R.InexactInsideExact,this.state.lastTokStartLoc):this.raise(R.InexactInsideNonObject,this.state.lastTokStartLoc),s&&this.raise(R.InexactVariance,s),null):(o||this.raise(R.UnexpectedSpreadType,this.state.lastTokStartLoc),n!=null&&this.unexpected(n),s&&this.raise(R.SpreadVariance,s),e.argument=this.flowParseType(),this.finishNode(e,"ObjectTypeSpreadProperty"));{e.key=this.flowParseObjectPropertyKey(),e.static=r,e.proto=n!=null,e.kind=a;let l=!1;return this.match(47)||this.match(10)?(e.method=!0,n!=null&&this.unexpected(n),s&&this.unexpected(s.loc.start),e.value=this.flowParseObjectTypeMethodish(this.startNodeAt(e.loc.start)),(a==="get"||a==="set")&&this.flowCheckGetterSetterParams(e),!o&&e.key.name==="constructor"&&e.value.this&&this.raise(R.ThisParamBannedInConstructor,e.value.this)):(a!=="init"&&this.unexpected(),e.method=!1,this.eat(17)&&(l=!0),e.value=this.flowParseTypeInitialiser(),e.variance=s),e.optional=l,this.finishNode(e,"ObjectTypeProperty")}}flowCheckGetterSetterParams(e){let r=e.kind==="get"?0:1,n=e.value.params.length+(e.value.rest?1:0);e.value.this&&this.raise(e.kind==="get"?R.GetterMayNotHaveThisParam:R.SetterMayNotHaveThisParam,e.value.this),n!==r&&this.raise(e.kind==="get"?y.BadGetterArity:y.BadSetterArity,e),e.kind==="set"&&e.value.rest&&this.raise(y.BadSetterRestParameter,e)}flowObjectTypeSemicolon(){!this.eat(13)&&!this.eat(12)&&!this.match(8)&&!this.match(9)&&this.unexpected()}flowParseQualifiedTypeIdentifier(e,r){var n;(n=e)!=null||(e=this.state.startLoc);let s=r||this.flowParseRestrictedIdentifier(!0);for(;this.eat(16);){let a=this.startNodeAt(e);a.qualification=s,a.id=this.flowParseRestrictedIdentifier(!0),s=this.finishNode(a,"QualifiedTypeIdentifier")}return s}flowParseGenericType(e,r){let n=this.startNodeAt(e);return n.typeParameters=null,n.id=this.flowParseQualifiedTypeIdentifier(e,r),this.match(47)&&(n.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(n,"GenericTypeAnnotation")}flowParseTypeofType(){let e=this.startNode();return this.expect(87),e.argument=this.flowParsePrimaryType(),this.finishNode(e,"TypeofTypeAnnotation")}flowParseTupleType(){let e=this.startNode();for(e.types=[],this.expect(0);this.state.pos<this.length&&!this.match(3)&&(e.types.push(this.flowParseType()),!this.match(3));)this.expect(12);return this.expect(3),this.finishNode(e,"TupleTypeAnnotation")}flowParseFunctionTypeParam(e){let r=null,n=!1,s=null,a=this.startNode(),o=this.lookahead(),u=this.state.type===78;return o.type===14||o.type===17?(u&&!e&&this.raise(R.ThisParamMustBeFirst,a),r=this.parseIdentifier(u),this.eat(17)&&(n=!0,u&&this.raise(R.ThisParamMayNotBeOptional,a)),s=this.flowParseTypeInitialiser()):s=this.flowParseType(),a.name=r,a.optional=n,a.typeAnnotation=s,this.finishNode(a,"FunctionTypeParam")}reinterpretTypeAsFunctionTypeParam(e){let r=this.startNodeAt(e.loc.start);return r.name=null,r.optional=!1,r.typeAnnotation=e,this.finishNode(r,"FunctionTypeParam")}flowParseFunctionTypeParams(e=[]){let r=null,n=null;for(this.match(78)&&(n=this.flowParseFunctionTypeParam(!0),n.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)e.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(r=this.flowParseFunctionTypeParam(!1)),{params:e,rest:r,_this:n}}flowIdentToTypeAnnotation(e,r,n){switch(n.name){case"any":return this.finishNode(r,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(r,"BooleanTypeAnnotation");case"mixed":return this.finishNode(r,"MixedTypeAnnotation");case"empty":return this.finishNode(r,"EmptyTypeAnnotation");case"number":return this.finishNode(r,"NumberTypeAnnotation");case"string":return this.finishNode(r,"StringTypeAnnotation");case"symbol":return this.finishNode(r,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(n.name),this.flowParseGenericType(e,n)}}flowParsePrimaryType(){let e=this.state.startLoc,r=this.startNode(),n,s,a=!1,o=this.state.noAnonFunctionType;switch(this.state.type){case 5:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case 6:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case 0:return this.state.noAnonFunctionType=!1,s=this.flowParseTupleType(),this.state.noAnonFunctionType=o,s;case 47:{let u=this.startNode();return u.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(10),n=this.flowParseFunctionTypeParams(),u.params=n.params,u.rest=n.rest,u.this=n._this,this.expect(11),this.expect(19),u.returnType=this.flowParseType(),this.finishNode(u,"FunctionTypeAnnotation")}case 10:{let u=this.startNode();if(this.next(),!this.match(11)&&!this.match(21))if(se(this.state.type)||this.match(78)){let l=this.lookahead().type;a=l!==17&&l!==14}else a=!0;if(a){if(this.state.noAnonFunctionType=!1,s=this.flowParseType(),this.state.noAnonFunctionType=o,this.state.noAnonFunctionType||!(this.match(12)||this.match(11)&&this.lookahead().type===19))return this.expect(11),s;this.eat(12)}return s?n=this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(s)]):n=this.flowParseFunctionTypeParams(),u.params=n.params,u.rest=n.rest,u.this=n._this,this.expect(11),this.expect(19),u.returnType=this.flowParseType(),u.typeParameters=null,this.finishNode(u,"FunctionTypeAnnotation")}case 133:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case 85:case 86:return r.value=this.match(85),this.next(),this.finishNode(r,"BooleanLiteralTypeAnnotation");case 53:if(this.state.value==="-"){if(this.next(),this.match(134))return this.parseLiteralAtNode(-this.state.value,"NumberLiteralTypeAnnotation",r);if(this.match(135))return this.parseLiteralAtNode(-this.state.value,"BigIntLiteralTypeAnnotation",r);throw this.raise(R.UnexpectedSubtractionOperand,this.state.startLoc)}this.unexpected();return;case 134:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case 135:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case 88:return this.next(),this.finishNode(r,"VoidTypeAnnotation");case 84:return this.next(),this.finishNode(r,"NullLiteralTypeAnnotation");case 78:return this.next(),this.finishNode(r,"ThisTypeAnnotation");case 55:return this.next(),this.finishNode(r,"ExistsTypeAnnotation");case 87:return this.flowParseTypeofType();default:if(wo(this.state.type)){let u=Er(this.state.type);return this.next(),super.createIdentifier(r,u)}else if(se(this.state.type))return this.isContextual(129)?this.flowParseInterfaceType():this.flowIdentToTypeAnnotation(e,r,this.parseIdentifier())}this.unexpected()}flowParsePostfixType(){let e=this.state.startLoc,r=this.flowParsePrimaryType(),n=!1;for(;(this.match(0)||this.match(18))&&!this.canInsertSemicolon();){let s=this.startNodeAt(e),a=this.eat(18);n=n||a,this.expect(0),!a&&this.match(3)?(s.elementType=r,this.next(),r=this.finishNode(s,"ArrayTypeAnnotation")):(s.objectType=r,s.indexType=this.flowParseType(),this.expect(3),n?(s.optional=a,r=this.finishNode(s,"OptionalIndexedAccessType")):r=this.finishNode(s,"IndexedAccessType"))}return r}flowParsePrefixType(){let e=this.startNode();return this.eat(17)?(e.typeAnnotation=this.flowParsePrefixType(),this.finishNode(e,"NullableTypeAnnotation")):this.flowParsePostfixType()}flowParseAnonFunctionWithoutParens(){let e=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(19)){let r=this.startNodeAt(e.loc.start);return r.params=[this.reinterpretTypeAsFunctionTypeParam(e)],r.rest=null,r.this=null,r.returnType=this.flowParseType(),r.typeParameters=null,this.finishNode(r,"FunctionTypeAnnotation")}return e}flowParseIntersectionType(){let e=this.startNode();this.eat(45);let r=this.flowParseAnonFunctionWithoutParens();for(e.types=[r];this.eat(45);)e.types.push(this.flowParseAnonFunctionWithoutParens());return e.types.length===1?r:this.finishNode(e,"IntersectionTypeAnnotation")}flowParseUnionType(){let e=this.startNode();this.eat(43);let r=this.flowParseIntersectionType();for(e.types=[r];this.eat(43);)e.types.push(this.flowParseIntersectionType());return e.types.length===1?r:this.finishNode(e,"UnionTypeAnnotation")}flowParseType(){let e=this.state.inType;this.state.inType=!0;let r=this.flowParseUnionType();return this.state.inType=e,r}flowParseTypeOrImplicitInstantiation(){if(this.state.type===132&&this.state.value==="_"){let e=this.state.startLoc,r=this.parseIdentifier();return this.flowParseGenericType(e,r)}else return this.flowParseType()}flowParseTypeAnnotation(){let e=this.startNode();return e.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(e,"TypeAnnotation")}flowParseTypeAnnotatableIdentifier(e){let r=e?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(14)&&(r.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(r)),r}typeCastToParameter(e){return e.expression.typeAnnotation=e.typeAnnotation,this.resetEndLocation(e.expression,e.typeAnnotation.loc.end),e.expression}flowParseVariance(){let e=null;return this.match(53)?(e=this.startNode(),this.state.value==="+"?e.kind="plus":e.kind="minus",this.next(),this.finishNode(e,"Variance")):e}parseFunctionBody(e,r,n=!1){if(r){this.forwardNoArrowParamsConversionAt(e,()=>super.parseFunctionBody(e,!0,n));return}super.parseFunctionBody(e,!1,n)}parseFunctionBodyAndFinish(e,r,n=!1){if(this.match(14)){let s=this.startNode();[s.typeAnnotation,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),e.returnType=s.typeAnnotation?this.finishNode(s,"TypeAnnotation"):null}return super.parseFunctionBodyAndFinish(e,r,n)}parseStatementLike(e){if(this.state.strict&&this.isContextual(129)){let n=this.lookahead();if(wt(n.type)){let s=this.startNode();return this.next(),this.flowParseInterface(s)}}else if(this.shouldParseEnums()&&this.isContextual(126)){let n=this.startNode();return this.next(),this.flowParseEnumDeclaration(n)}let r=super.parseStatementLike(e);return this.flowPragma===void 0&&!this.isValidDirective(r)&&(this.flowPragma=null),r}parseExpressionStatement(e,r,n){if(r.type==="Identifier"){if(r.name==="declare"){if(this.match(80)||se(this.state.type)||this.match(68)||this.match(74)||this.match(82))return this.flowParseDeclare(e)}else if(se(this.state.type)){if(r.name==="interface")return this.flowParseInterface(e);if(r.name==="type")return this.flowParseTypeAlias(e);if(r.name==="opaque")return this.flowParseOpaqueType(e,!1)}}return super.parseExpressionStatement(e,r,n)}shouldParseExportDeclaration(){let{type:e}=this.state;return hp(e)||this.shouldParseEnums()&&e===126?!this.state.containsEsc:super.shouldParseExportDeclaration()}isExportDefaultSpecifier(){let{type:e}=this.state;return hp(e)||this.shouldParseEnums()&&e===126?this.state.containsEsc:super.isExportDefaultSpecifier()}parseExportDefaultExpression(){if(this.shouldParseEnums()&&this.isContextual(126)){let e=this.startNode();return this.next(),this.flowParseEnumDeclaration(e)}return super.parseExportDefaultExpression()}parseConditional(e,r,n){if(!this.match(17))return e;if(this.state.maybeInArrowParameters){let f=this.lookaheadCharCode();if(f===44||f===61||f===58||f===41)return this.setOptionalParametersError(n),e}this.expect(17);let s=this.state.clone(),a=this.state.noArrowAt,o=this.startNodeAt(r),{consequent:u,failed:l}=this.tryParseConditionalConsequent(),[c,p]=this.getArrowLikeExpressions(u);if(l||p.length>0){let f=[...a];if(p.length>0){this.state=s,this.state.noArrowAt=f;for(let h=0;h<p.length;h++)f.push(p[h].start);({consequent:u,failed:l}=this.tryParseConditionalConsequent()),[c,p]=this.getArrowLikeExpressions(u)}l&&c.length>1&&this.raise(R.AmbiguousConditionalArrow,s.startLoc),l&&c.length===1&&(this.state=s,f.push(c[0].start),this.state.noArrowAt=f,{consequent:u,failed:l}=this.tryParseConditionalConsequent())}return this.getArrowLikeExpressions(u,!0),this.state.noArrowAt=a,this.expect(14),o.test=e,o.consequent=u,o.alternate=this.forwardNoArrowParamsConversionAt(o,()=>this.parseMaybeAssign(void 0,void 0)),this.finishNode(o,"ConditionalExpression")}tryParseConditionalConsequent(){this.state.noArrowParamsConversionAt.push(this.state.start);let e=this.parseMaybeAssignAllowIn(),r=!this.match(14);return this.state.noArrowParamsConversionAt.pop(),{consequent:e,failed:r}}getArrowLikeExpressions(e,r){let n=[e],s=[];for(;n.length!==0;){let a=n.pop();a.type==="ArrowFunctionExpression"&&a.body.type!=="BlockStatement"?(a.typeParameters||!a.returnType?this.finishArrowValidation(a):s.push(a),n.push(a.body)):a.type==="ConditionalExpression"&&(n.push(a.consequent),n.push(a.alternate))}return r?(s.forEach(a=>this.finishArrowValidation(a)),[s,[]]):hx(s,a=>a.params.every(o=>this.isAssignable(o,!0)))}finishArrowValidation(e){var r;this.toAssignableList(e.params,(r=e.extra)==null?void 0:r.trailingCommaLoc,!1),this.scope.enter(6),super.checkParams(e,!1,!0),this.scope.exit()}forwardNoArrowParamsConversionAt(e,r){let n;return this.state.noArrowParamsConversionAt.includes(e.start)?(this.state.noArrowParamsConversionAt.push(this.state.start),n=r(),this.state.noArrowParamsConversionAt.pop()):n=r(),n}parseParenItem(e,r){let n=super.parseParenItem(e,r);if(this.eat(17)&&(n.optional=!0,this.resetEndLocation(e)),this.match(14)){let s=this.startNodeAt(r);return s.expression=n,s.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(s,"TypeCastExpression")}return n}assertModuleNodeAllowed(e){e.type==="ImportDeclaration"&&(e.importKind==="type"||e.importKind==="typeof")||e.type==="ExportNamedDeclaration"&&e.exportKind==="type"||e.type==="ExportAllDeclaration"&&e.exportKind==="type"||super.assertModuleNodeAllowed(e)}parseExportDeclaration(e){if(this.isContextual(130)){e.exportKind="type";let r=this.startNode();return this.next(),this.match(5)?(e.specifiers=this.parseExportSpecifiers(!0),super.parseExportFrom(e),null):this.flowParseTypeAlias(r)}else if(this.isContextual(131)){e.exportKind="type";let r=this.startNode();return this.next(),this.flowParseOpaqueType(r,!1)}else if(this.isContextual(129)){e.exportKind="type";let r=this.startNode();return this.next(),this.flowParseInterface(r)}else if(this.shouldParseEnums()&&this.isContextual(126)){e.exportKind="value";let r=this.startNode();return this.next(),this.flowParseEnumDeclaration(r)}else return super.parseExportDeclaration(e)}eatExportStar(e){return super.eatExportStar(e)?!0:this.isContextual(130)&&this.lookahead().type===55?(e.exportKind="type",this.next(),this.next(),!0):!1}maybeParseExportNamespaceSpecifier(e){let{startLoc:r}=this.state,n=super.maybeParseExportNamespaceSpecifier(e);return n&&e.exportKind==="type"&&this.unexpected(r),n}parseClassId(e,r,n){super.parseClassId(e,r,n),this.match(47)&&(e.typeParameters=this.flowParseTypeParameterDeclaration())}parseClassMember(e,r,n){let{startLoc:s}=this.state;if(this.isContextual(125)){if(super.parseClassMemberFromModifier(e,r))return;r.declare=!0}super.parseClassMember(e,r,n),r.declare&&(r.type!=="ClassProperty"&&r.type!=="ClassPrivateProperty"&&r.type!=="PropertyDefinition"?this.raise(R.DeclareClassElement,s):r.value&&this.raise(R.DeclareClassFieldInitializer,r.value))}isIterator(e){return e==="iterator"||e==="asyncIterator"}readIterator(){let e=super.readWord1(),r="@@"+e;(!this.isIterator(e)||!this.state.inType)&&this.raise(y.InvalidIdentifier,this.state.curPosition(),{identifierName:r}),this.finishToken(132,r)}getTokenFromCode(e){let r=this.input.charCodeAt(this.state.pos+1);e===123&&r===124?this.finishOp(6,2):this.state.inType&&(e===62||e===60)?this.finishOp(e===62?48:47,1):this.state.inType&&e===63?r===46?this.finishOp(18,2):this.finishOp(17,1):Xy(e,r,this.input.charCodeAt(this.state.pos+2))?(this.state.pos+=2,this.readIterator()):super.getTokenFromCode(e)}isAssignable(e,r){return e.type==="TypeCastExpression"?this.isAssignable(e.expression,r):super.isAssignable(e,r)}toAssignable(e,r=!1){!r&&e.type==="AssignmentExpression"&&e.left.type==="TypeCastExpression"&&(e.left=this.typeCastToParameter(e.left)),super.toAssignable(e,r)}toAssignableList(e,r,n){for(let s=0;s<e.length;s++){let a=e[s];a?.type==="TypeCastExpression"&&(e[s]=this.typeCastToParameter(a))}super.toAssignableList(e,r,n)}toReferencedList(e,r){for(let s=0;s<e.length;s++){var n;let a=e[s];a&&a.type==="TypeCastExpression"&&!((n=a.extra)!=null&&n.parenthesized)&&(e.length>1||!r)&&this.raise(R.TypeCastInPattern,a.typeAnnotation)}return e}parseArrayLike(e,r,n,s){let a=super.parseArrayLike(e,r,n,s);return r&&!this.state.maybeInArrowParameters&&this.toReferencedList(a.elements),a}isValidLVal(e,r,n){return e==="TypeCastExpression"||super.isValidLVal(e,r,n)}parseClassProperty(e){return this.match(14)&&(e.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassProperty(e)}parseClassPrivateProperty(e){return this.match(14)&&(e.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassPrivateProperty(e)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(14)||super.isClassProperty()}isNonstaticConstructor(e){return!this.match(14)&&super.isNonstaticConstructor(e)}pushClassMethod(e,r,n,s,a,o){if(r.variance&&this.unexpected(r.variance.loc.start),delete r.variance,this.match(47)&&(r.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassMethod(e,r,n,s,a,o),r.params&&a){let u=r.params;u.length>0&&this.isThisParam(u[0])&&this.raise(R.ThisParamBannedInConstructor,r)}else if(r.type==="MethodDefinition"&&a&&r.value.params){let u=r.value.params;u.length>0&&this.isThisParam(u[0])&&this.raise(R.ThisParamBannedInConstructor,r)}}pushClassPrivateMethod(e,r,n,s){r.variance&&this.unexpected(r.variance.loc.start),delete r.variance,this.match(47)&&(r.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassPrivateMethod(e,r,n,s)}parseClassSuper(e){if(super.parseClassSuper(e),e.superClass&&this.match(47)&&(e.superTypeParameters=this.flowParseTypeParameterInstantiation()),this.isContextual(113)){this.next();let r=e.implements=[];do{let n=this.startNode();n.id=this.flowParseRestrictedIdentifier(!0),this.match(47)?n.typeParameters=this.flowParseTypeParameterInstantiation():n.typeParameters=null,r.push(this.finishNode(n,"ClassImplements"))}while(this.eat(12))}}checkGetterSetterParams(e){super.checkGetterSetterParams(e);let r=this.getObjectOrClassMethodParams(e);if(r.length>0){let n=r[0];this.isThisParam(n)&&e.kind==="get"?this.raise(R.GetterMayNotHaveThisParam,n):this.isThisParam(n)&&this.raise(R.SetterMayNotHaveThisParam,n)}}parsePropertyNamePrefixOperator(e){e.variance=this.flowParseVariance()}parseObjPropValue(e,r,n,s,a,o,u){e.variance&&this.unexpected(e.variance.loc.start),delete e.variance;let l;this.match(47)&&!o&&(l=this.flowParseTypeParameterDeclaration(),this.match(10)||this.unexpected());let c=super.parseObjPropValue(e,r,n,s,a,o,u);return l&&((c.value||c).typeParameters=l),c}parseAssignableListItemTypes(e){return this.eat(17)&&(e.type!=="Identifier"&&this.raise(R.PatternIsOptional,e),this.isThisParam(e)&&this.raise(R.ThisParamMayNotBeOptional,e),e.optional=!0),this.match(14)?e.typeAnnotation=this.flowParseTypeAnnotation():this.isThisParam(e)&&this.raise(R.ThisParamAnnotationRequired,e),this.match(29)&&this.isThisParam(e)&&this.raise(R.ThisParamNoDefault,e),this.resetEndLocation(e),e}parseMaybeDefault(e,r){let n=super.parseMaybeDefault(e,r);return n.type==="AssignmentPattern"&&n.typeAnnotation&&n.right.start<n.typeAnnotation.start&&this.raise(R.TypeBeforeInitializer,n.typeAnnotation),n}checkImportReflection(e){super.checkImportReflection(e),e.module&&e.importKind!=="value"&&this.raise(R.ImportReflectionHasImportType,e.specifiers[0].loc.start)}parseImportSpecifierLocal(e,r,n){r.local=yp(e)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),e.specifiers.push(this.finishImportSpecifier(r,n))}isPotentialImportPhase(e){if(super.isPotentialImportPhase(e))return!0;if(this.isContextual(130)){if(!e)return!0;let r=this.lookaheadCharCode();return r===123||r===42}return!e&&this.isContextual(87)}applyImportPhase(e,r,n,s){if(super.applyImportPhase(e,r,n,s),r){if(!n&&this.match(65))return;e.exportKind=n==="type"?n:"value"}else n==="type"&&this.match(55)&&this.unexpected(),e.importKind=n==="type"||n==="typeof"?n:"value"}parseImportSpecifier(e,r,n,s,a){let o=e.imported,u=null;o.type==="Identifier"&&(o.name==="type"?u="type":o.name==="typeof"&&(u="typeof"));let l=!1;if(this.isContextual(93)&&!this.isLookaheadContextual("as")){let p=this.parseIdentifier(!0);u!==null&&!wt(this.state.type)?(e.imported=p,e.importKind=u,e.local=cr(p)):(e.imported=o,e.importKind=null,e.local=this.parseIdentifier())}else{if(u!==null&&wt(this.state.type))e.imported=this.parseIdentifier(!0),e.importKind=u;else{if(r)throw this.raise(y.ImportBindingIsString,e,{importName:o.value});e.imported=o,e.importKind=null}this.eatContextual(93)?e.local=this.parseIdentifier():(l=!0,e.local=cr(e.imported))}let c=yp(e);return n&&c&&this.raise(R.ImportTypeShorthandOnlyInPureImport,e),(n||c)&&this.checkReservedType(e.local.name,e.local.loc.start,!0),l&&!n&&!c&&this.checkReservedWord(e.local.name,e.loc.start,!0,!0),this.finishImportSpecifier(e,"ImportSpecifier")}parseBindingAtom(){switch(this.state.type){case 78:return this.parseIdentifier(!0);default:return super.parseBindingAtom()}}parseFunctionParams(e,r){let n=e.kind;n!=="get"&&n!=="set"&&this.match(47)&&(e.typeParameters=this.flowParseTypeParameterDeclaration()),super.parseFunctionParams(e,r)}parseVarId(e,r){super.parseVarId(e,r),this.match(14)&&(e.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(e.id))}parseAsyncArrowFromCallExpression(e,r){if(this.match(14)){let n=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,e.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=n}return super.parseAsyncArrowFromCallExpression(e,r)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}parseMaybeAssign(e,r){var n;let s=null,a;if(this.hasPlugin("jsx")&&(this.match(142)||this.match(47))){if(s=this.state.clone(),a=this.tryParse(()=>super.parseMaybeAssign(e,r),s),!a.error)return a.node;let{context:l}=this.state,c=l[l.length-1];(c===ce.j_oTag||c===ce.j_expr)&&l.pop()}if((n=a)!=null&&n.error||this.match(47)){var o,u;s=s||this.state.clone();let l,c=this.tryParse(f=>{var h;l=this.flowParseTypeParameterDeclaration();let d=this.forwardNoArrowParamsConversionAt(l,()=>{let g=super.parseMaybeAssign(e,r);return this.resetStartLocationFromNode(g,l),g});(h=d.extra)!=null&&h.parenthesized&&f();let m=this.maybeUnwrapTypeCastExpression(d);return m.type!=="ArrowFunctionExpression"&&f(),m.typeParameters=l,this.resetStartLocationFromNode(m,l),d},s),p=null;if(c.node&&this.maybeUnwrapTypeCastExpression(c.node).type==="ArrowFunctionExpression"){if(!c.error&&!c.aborted)return c.node.async&&this.raise(R.UnexpectedTypeParameterBeforeAsyncArrowFunction,l),c.node;p=c.node}if((o=a)!=null&&o.node)return this.state=a.failState,a.node;if(p)return this.state=c.failState,p;throw(u=a)!=null&&u.thrown?a.error:c.thrown?c.error:this.raise(R.UnexpectedTokenAfterTypeParameter,l)}return super.parseMaybeAssign(e,r)}parseArrow(e){if(this.match(14)){let r=this.tryParse(()=>{let n=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;let s=this.startNode();return[s.typeAnnotation,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),this.state.noAnonFunctionType=n,this.canInsertSemicolon()&&this.unexpected(),this.match(19)||this.unexpected(),s});if(r.thrown)return null;r.error&&(this.state=r.failState),e.returnType=r.node.typeAnnotation?this.finishNode(r.node,"TypeAnnotation"):null}return super.parseArrow(e)}shouldParseArrow(e){return this.match(14)||super.shouldParseArrow(e)}setArrowFunctionParameters(e,r){this.state.noArrowParamsConversionAt.includes(e.start)?e.params=r:super.setArrowFunctionParameters(e,r)}checkParams(e,r,n,s=!0){if(!(n&&this.state.noArrowParamsConversionAt.includes(e.start))){for(let a=0;a<e.params.length;a++)this.isThisParam(e.params[a])&&a>0&&this.raise(R.ThisParamMustBeFirst,e.params[a]);super.checkParams(e,r,n,s)}}parseParenAndDistinguishExpression(e){return super.parseParenAndDistinguishExpression(e&&!this.state.noArrowAt.includes(this.state.start))}parseSubscripts(e,r,n){if(e.type==="Identifier"&&e.name==="async"&&this.state.noArrowAt.includes(r.index)){this.next();let s=this.startNodeAt(r);s.callee=e,s.arguments=super.parseCallExpressionArguments(11,!1),e=this.finishNode(s,"CallExpression")}else if(e.type==="Identifier"&&e.name==="async"&&this.match(47)){let s=this.state.clone(),a=this.tryParse(u=>this.parseAsyncArrowWithTypeParameters(r)||u(),s);if(!a.error&&!a.aborted)return a.node;let o=this.tryParse(()=>super.parseSubscripts(e,r,n),s);if(o.node&&!o.error)return o.node;if(a.node)return this.state=a.failState,a.node;if(o.node)return this.state=o.failState,o.node;throw a.error||o.error}return super.parseSubscripts(e,r,n)}parseSubscript(e,r,n,s){if(this.match(18)&&this.isLookaheadToken_lt()){if(s.optionalChainMember=!0,n)return s.stop=!0,e;this.next();let a=this.startNodeAt(r);return a.callee=e,a.typeArguments=this.flowParseTypeParameterInstantiation(),this.expect(10),a.arguments=this.parseCallExpressionArguments(11,!1),a.optional=!0,this.finishCallExpression(a,!0)}else if(!n&&this.shouldParseTypes()&&this.match(47)){let a=this.startNodeAt(r);a.callee=e;let o=this.tryParse(()=>(a.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(10),a.arguments=super.parseCallExpressionArguments(11,!1),s.optionalChainMember&&(a.optional=!1),this.finishCallExpression(a,s.optionalChainMember)));if(o.node)return o.error&&(this.state=o.failState),o.node}return super.parseSubscript(e,r,n,s)}parseNewCallee(e){super.parseNewCallee(e);let r=null;this.shouldParseTypes()&&this.match(47)&&(r=this.tryParse(()=>this.flowParseTypeParameterInstantiationCallOrNew()).node),e.typeArguments=r}parseAsyncArrowWithTypeParameters(e){let r=this.startNodeAt(e);if(this.parseFunctionParams(r,!1),!!this.parseArrow(r))return super.parseArrowExpression(r,void 0,!0)}readToken_mult_modulo(e){let r=this.input.charCodeAt(this.state.pos+1);if(e===42&&r===47&&this.state.hasFlowComment){this.state.hasFlowComment=!1,this.state.pos+=2,this.nextToken();return}super.readToken_mult_modulo(e)}readToken_pipe_amp(e){let r=this.input.charCodeAt(this.state.pos+1);if(e===124&&r===125){this.finishOp(9,2);return}super.readToken_pipe_amp(e)}parseTopLevel(e,r){let n=super.parseTopLevel(e,r);return this.state.hasFlowComment&&this.raise(R.UnterminatedFlowComment,this.state.curPosition()),n}skipBlockComment(){if(this.hasPlugin("flowComments")&&this.skipFlowComment()){if(this.state.hasFlowComment)throw this.raise(R.NestedFlowComment,this.state.startLoc);this.hasFlowCommentCompletion();let e=this.skipFlowComment();e&&(this.state.pos+=e,this.state.hasFlowComment=!0);return}return super.skipBlockComment(this.state.hasFlowComment?"*-/":"*/")}skipFlowComment(){let{pos:e}=this.state,r=2;for(;[32,9].includes(this.input.charCodeAt(e+r));)r++;let n=this.input.charCodeAt(r+e),s=this.input.charCodeAt(r+e+1);return n===58&&s===58?r+2:this.input.slice(r+e,r+e+12)==="flow-include"?r+12:n===58&&s!==58?r:!1}hasFlowCommentCompletion(){if(this.input.indexOf("*/",this.state.pos)===-1)throw this.raise(y.UnterminatedComment,this.state.curPosition())}flowEnumErrorBooleanMemberNotInitialized(e,{enumName:r,memberName:n}){this.raise(R.EnumBooleanMemberNotInitialized,e,{memberName:n,enumName:r})}flowEnumErrorInvalidMemberInitializer(e,r){return this.raise(r.explicitType?r.explicitType==="symbol"?R.EnumInvalidMemberInitializerSymbolType:R.EnumInvalidMemberInitializerPrimaryType:R.EnumInvalidMemberInitializerUnknownType,e,r)}flowEnumErrorNumberMemberNotInitialized(e,r){this.raise(R.EnumNumberMemberNotInitialized,e,r)}flowEnumErrorStringMemberInconsistentlyInitialized(e,r){this.raise(R.EnumStringMemberInconsistentlyInitialized,e,r)}flowEnumMemberInit(){let e=this.state.startLoc,r=()=>this.match(12)||this.match(8);switch(this.state.type){case 134:{let n=this.parseNumericLiteral(this.state.value);return r()?{type:"number",loc:n.loc.start,value:n}:{type:"invalid",loc:e}}case 133:{let n=this.parseStringLiteral(this.state.value);return r()?{type:"string",loc:n.loc.start,value:n}:{type:"invalid",loc:e}}case 85:case 86:{let n=this.parseBooleanLiteral(this.match(85));return r()?{type:"boolean",loc:n.loc.start,value:n}:{type:"invalid",loc:e}}default:return{type:"invalid",loc:e}}}flowEnumMemberRaw(){let e=this.state.startLoc,r=this.parseIdentifier(!0),n=this.eat(29)?this.flowEnumMemberInit():{type:"none",loc:e};return{id:r,init:n}}flowEnumCheckExplicitTypeMismatch(e,r,n){let{explicitType:s}=r;s!==null&&s!==n&&this.flowEnumErrorInvalidMemberInitializer(e,r)}flowEnumMembers({enumName:e,explicitType:r}){let n=new Set,s={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]},a=!1;for(;!this.match(8);){if(this.eat(21)){a=!0;break}let o=this.startNode(),{id:u,init:l}=this.flowEnumMemberRaw(),c=u.name;if(c==="")continue;/^[a-z]/.test(c)&&this.raise(R.EnumInvalidMemberName,u,{memberName:c,suggestion:c[0].toUpperCase()+c.slice(1),enumName:e}),n.has(c)&&this.raise(R.EnumDuplicateMemberName,u,{memberName:c,enumName:e}),n.add(c);let p={enumName:e,explicitType:r,memberName:c};switch(o.id=u,l.type){case"boolean":{this.flowEnumCheckExplicitTypeMismatch(l.loc,p,"boolean"),o.init=l.value,s.booleanMembers.push(this.finishNode(o,"EnumBooleanMember"));break}case"number":{this.flowEnumCheckExplicitTypeMismatch(l.loc,p,"number"),o.init=l.value,s.numberMembers.push(this.finishNode(o,"EnumNumberMember"));break}case"string":{this.flowEnumCheckExplicitTypeMismatch(l.loc,p,"string"),o.init=l.value,s.stringMembers.push(this.finishNode(o,"EnumStringMember"));break}case"invalid":throw this.flowEnumErrorInvalidMemberInitializer(l.loc,p);case"none":switch(r){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized(l.loc,p);break;case"number":this.flowEnumErrorNumberMemberNotInitialized(l.loc,p);break;default:s.defaultedMembers.push(this.finishNode(o,"EnumDefaultedMember"))}}this.match(8)||this.expect(12)}return{members:s,hasUnknownMembers:a}}flowEnumStringMembers(e,r,{enumName:n}){if(e.length===0)return r;if(r.length===0)return e;if(r.length>e.length){for(let s of e)this.flowEnumErrorStringMemberInconsistentlyInitialized(s,{enumName:n});return r}else{for(let s of r)this.flowEnumErrorStringMemberInconsistentlyInitialized(s,{enumName:n});return e}}flowEnumParseExplicitType({enumName:e}){if(!this.eatContextual(102))return null;if(!se(this.state.type))throw this.raise(R.EnumInvalidExplicitTypeUnknownSupplied,this.state.startLoc,{enumName:e});let{value:r}=this.state;return this.next(),r!=="boolean"&&r!=="number"&&r!=="string"&&r!=="symbol"&&this.raise(R.EnumInvalidExplicitType,this.state.startLoc,{enumName:e,invalidEnumType:r}),r}flowEnumBody(e,r){let n=r.name,s=r.loc.start,a=this.flowEnumParseExplicitType({enumName:n});this.expect(5);let{members:o,hasUnknownMembers:u}=this.flowEnumMembers({enumName:n,explicitType:a});switch(e.hasUnknownMembers=u,a){case"boolean":return e.explicitType=!0,e.members=o.booleanMembers,this.expect(8),this.finishNode(e,"EnumBooleanBody");case"number":return e.explicitType=!0,e.members=o.numberMembers,this.expect(8),this.finishNode(e,"EnumNumberBody");case"string":return e.explicitType=!0,e.members=this.flowEnumStringMembers(o.stringMembers,o.defaultedMembers,{enumName:n}),this.expect(8),this.finishNode(e,"EnumStringBody");case"symbol":return e.members=o.defaultedMembers,this.expect(8),this.finishNode(e,"EnumSymbolBody");default:{let l=()=>(e.members=[],this.expect(8),this.finishNode(e,"EnumStringBody"));e.explicitType=!1;let c=o.booleanMembers.length,p=o.numberMembers.length,f=o.stringMembers.length,h=o.defaultedMembers.length;if(!c&&!p&&!f&&!h)return l();if(!c&&!p)return e.members=this.flowEnumStringMembers(o.stringMembers,o.defaultedMembers,{enumName:n}),this.expect(8),this.finishNode(e,"EnumStringBody");if(!p&&!f&&c>=h){for(let d of o.defaultedMembers)this.flowEnumErrorBooleanMemberNotInitialized(d.loc.start,{enumName:n,memberName:d.id.name});return e.members=o.booleanMembers,this.expect(8),this.finishNode(e,"EnumBooleanBody")}else if(!c&&!f&&p>=h){for(let d of o.defaultedMembers)this.flowEnumErrorNumberMemberNotInitialized(d.loc.start,{enumName:n,memberName:d.id.name});return e.members=o.numberMembers,this.expect(8),this.finishNode(e,"EnumNumberBody")}else return this.raise(R.EnumInconsistentMemberValues,s,{enumName:n}),l()}}}flowParseEnumDeclaration(e){let r=this.parseIdentifier();return e.id=r,e.body=this.flowEnumBody(this.startNode(),r),this.finishNode(e,"EnumDeclaration")}isLookaheadToken_lt(){let e=this.nextTokenStart();if(this.input.charCodeAt(e)===60){let r=this.input.charCodeAt(e+1);return r!==60&&r!==61}return!1}maybeUnwrapTypeCastExpression(e){return e.type==="TypeCastExpression"?e.expression:e}},Dx={__proto__:null,quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",lang:"\u2329",rang:"\u232A",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"},_r=lr`jsx`({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression.",MissingClosingTagElement:({openingTagName:t})=>`Expected corresponding JSX closing tag for <${t}>.`,MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>.",UnexpectedSequenceExpression:"Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",UnexpectedToken:({unexpected:t,HTMLEntity:i})=>`Unexpected token \`${t}\`. Did you mean \`${i}\` or \`{'${t}'}\`?`,UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text.",UnterminatedJsxContent:"Unterminated JSX contents.",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"});function br(t){return t?t.type==="JSXOpeningFragment"||t.type==="JSXClosingFragment":!1}function ci(t){if(t.type==="JSXIdentifier")return t.name;if(t.type==="JSXNamespacedName")return t.namespace.name+":"+t.name.name;if(t.type==="JSXMemberExpression")return ci(t.object)+"."+ci(t.property);throw new Error("Node had unexpected type: "+t.type)}var yx=t=>class extends t{jsxReadToken(){let e="",r=this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(_r.UnterminatedJsxContent,this.state.startLoc);let n=this.input.charCodeAt(this.state.pos);switch(n){case 60:case 123:if(this.state.pos===this.state.start){n===60&&this.state.canStartJSXElement?(++this.state.pos,this.finishToken(142)):super.getTokenFromCode(n);return}e+=this.input.slice(r,this.state.pos),this.finishToken(141,e);return;case 38:e+=this.input.slice(r,this.state.pos),e+=this.jsxReadEntity(),r=this.state.pos;break;case 62:case 125:default:fi(n)?(e+=this.input.slice(r,this.state.pos),e+=this.jsxReadNewLine(!0),r=this.state.pos):++this.state.pos}}}jsxReadNewLine(e){let r=this.input.charCodeAt(this.state.pos),n;return++this.state.pos,r===13&&this.input.charCodeAt(this.state.pos)===10?(++this.state.pos,n=e?`
    `:`\r
    `):n=String.fromCharCode(r),++this.state.curLine,this.state.lineStart=this.state.pos,n}jsxReadString(e){let r="",n=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(y.UnterminatedString,this.state.startLoc);let s=this.input.charCodeAt(this.state.pos);if(s===e)break;s===38?(r+=this.input.slice(n,this.state.pos),r+=this.jsxReadEntity(),n=this.state.pos):fi(s)?(r+=this.input.slice(n,this.state.pos),r+=this.jsxReadNewLine(!1),n=this.state.pos):++this.state.pos}r+=this.input.slice(n,this.state.pos++),this.finishToken(133,r)}jsxReadEntity(){let e=++this.state.pos;if(this.codePointAtPos(this.state.pos)===35){++this.state.pos;let r=10;this.codePointAtPos(this.state.pos)===120&&(r=16,++this.state.pos);let n=this.readInt(r,void 0,!1,"bail");if(n!==null&&this.codePointAtPos(this.state.pos)===59)return++this.state.pos,String.fromCodePoint(n)}else{let r=0,n=!1;for(;r++<10&&this.state.pos<this.length&&!(n=this.codePointAtPos(this.state.pos)===59);)++this.state.pos;if(n){let s=this.input.slice(e,this.state.pos),a=Dx[s];if(++this.state.pos,a)return a}}return this.state.pos=e,"&"}jsxReadWord(){let e,r=this.state.pos;do e=this.input.charCodeAt(++this.state.pos);while(pi(e)||e===45);this.finishToken(140,this.input.slice(r,this.state.pos))}jsxParseIdentifier(){let e=this.startNode();return this.match(140)?e.name=this.state.value:wo(this.state.type)?e.name=Er(this.state.type):this.unexpected(),this.next(),this.finishNode(e,"JSXIdentifier")}jsxParseNamespacedName(){let e=this.state.startLoc,r=this.jsxParseIdentifier();if(!this.eat(14))return r;let n=this.startNodeAt(e);return n.namespace=r,n.name=this.jsxParseIdentifier(),this.finishNode(n,"JSXNamespacedName")}jsxParseElementName(){let e=this.state.startLoc,r=this.jsxParseNamespacedName();if(r.type==="JSXNamespacedName")return r;for(;this.eat(16);){let n=this.startNodeAt(e);n.object=r,n.property=this.jsxParseIdentifier(),r=this.finishNode(n,"JSXMemberExpression")}return r}jsxParseAttributeValue(){let e;switch(this.state.type){case 5:return e=this.startNode(),this.setContext(ce.brace),this.next(),e=this.jsxParseExpressionContainer(e,ce.j_oTag),e.expression.type==="JSXEmptyExpression"&&this.raise(_r.AttributeIsEmpty,e),e;case 142:case 133:return this.parseExprAtom();default:throw this.raise(_r.UnsupportedJsxValue,this.state.startLoc)}}jsxParseEmptyExpression(){let e=this.startNodeAt(this.state.lastTokEndLoc);return this.finishNodeAt(e,"JSXEmptyExpression",this.state.startLoc)}jsxParseSpreadChild(e){return this.next(),e.expression=this.parseExpression(),this.setContext(ce.j_expr),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(e,"JSXSpreadChild")}jsxParseExpressionContainer(e,r){if(this.match(8))e.expression=this.jsxParseEmptyExpression();else{let n=this.parseExpression();e.expression=n}return this.setContext(r),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(e,"JSXExpressionContainer")}jsxParseAttribute(){let e=this.startNode();return this.match(5)?(this.setContext(ce.brace),this.next(),this.expect(21),e.argument=this.parseMaybeAssignAllowIn(),this.setContext(ce.j_oTag),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(e,"JSXSpreadAttribute")):(e.name=this.jsxParseNamespacedName(),e.value=this.eat(29)?this.jsxParseAttributeValue():null,this.finishNode(e,"JSXAttribute"))}jsxParseOpeningElementAt(e){let r=this.startNodeAt(e);return this.eat(143)?this.finishNode(r,"JSXOpeningFragment"):(r.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(r))}jsxParseOpeningElementAfterName(e){let r=[];for(;!this.match(56)&&!this.match(143);)r.push(this.jsxParseAttribute());return e.attributes=r,e.selfClosing=this.eat(56),this.expect(143),this.finishNode(e,"JSXOpeningElement")}jsxParseClosingElementAt(e){let r=this.startNodeAt(e);return this.eat(143)?this.finishNode(r,"JSXClosingFragment"):(r.name=this.jsxParseElementName(),this.expect(143),this.finishNode(r,"JSXClosingElement"))}jsxParseElementAt(e){let r=this.startNodeAt(e),n=[],s=this.jsxParseOpeningElementAt(e),a=null;if(!s.selfClosing){e:for(;;)switch(this.state.type){case 142:if(e=this.state.startLoc,this.next(),this.eat(56)){a=this.jsxParseClosingElementAt(e);break e}n.push(this.jsxParseElementAt(e));break;case 141:n.push(this.parseLiteral(this.state.value,"JSXText"));break;case 5:{let o=this.startNode();this.setContext(ce.brace),this.next(),this.match(21)?n.push(this.jsxParseSpreadChild(o)):n.push(this.jsxParseExpressionContainer(o,ce.j_expr));break}default:this.unexpected()}br(s)&&!br(a)&&a!==null?this.raise(_r.MissingClosingTagFragment,a):!br(s)&&br(a)?this.raise(_r.MissingClosingTagElement,a,{openingTagName:ci(s.name)}):!br(s)&&!br(a)&&ci(a.name)!==ci(s.name)&&this.raise(_r.MissingClosingTagElement,a,{openingTagName:ci(s.name)})}if(br(s)?(r.openingFragment=s,r.closingFragment=a):(r.openingElement=s,r.closingElement=a),r.children=n,this.match(47))throw this.raise(_r.UnwrappedAdjacentJSXElements,this.state.startLoc);return br(s)?this.finishNode(r,"JSXFragment"):this.finishNode(r,"JSXElement")}jsxParseElement(){let e=this.state.startLoc;return this.next(),this.jsxParseElementAt(e)}setContext(e){let{context:r}=this.state;r[r.length-1]=e}parseExprAtom(e){return this.match(142)?this.jsxParseElement():this.match(47)&&this.input.charCodeAt(this.state.pos)!==33?(this.replaceToken(142),this.jsxParseElement()):super.parseExprAtom(e)}skipSpace(){this.curContext().preserveSpace||super.skipSpace()}getTokenFromCode(e){let r=this.curContext();if(r===ce.j_expr){this.jsxReadToken();return}if(r===ce.j_oTag||r===ce.j_cTag){if(ur(e)){this.jsxReadWord();return}if(e===62){++this.state.pos,this.finishToken(143);return}if((e===34||e===39)&&r===ce.j_oTag){this.jsxReadString(e);return}}if(e===60&&this.state.canStartJSXElement&&this.input.charCodeAt(this.state.pos+1)!==33){++this.state.pos,this.finishToken(142);return}super.getTokenFromCode(e)}updateContext(e){let{context:r,type:n}=this.state;if(n===56&&e===142)r.splice(-2,2,ce.j_cTag),this.state.canStartJSXElement=!1;else if(n===142)r.push(ce.j_oTag);else if(n===143){let s=r[r.length-1];s===ce.j_oTag&&e===56||s===ce.j_cTag?(r.pop(),this.state.canStartJSXElement=r[r.length-1]===ce.j_expr):(this.setContext(ce.j_expr),this.state.canStartJSXElement=!0)}else this.state.canStartJSXElement=Ly(n)}},go=class extends on{constructor(...i){super(...i),this.tsNames=new Map}},Do=class extends un{constructor(...i){super(...i),this.importsStack=[]}createScope(i){return this.importsStack.push(new Set),new go(i)}enter(i){i===256&&this.importsStack.push(new Set),super.enter(i)}exit(){let i=super.exit();return i===256&&this.importsStack.pop(),i}hasImport(i,e){let r=this.importsStack.length;if(this.importsStack[r-1].has(i))return!0;if(!e&&r>1){for(let n=0;n<r-1;n++)if(this.importsStack[n].has(i))return!0}return!1}declareName(i,e,r){if(e&4096){this.hasImport(i,!0)&&this.parser.raise(y.VarRedeclaration,r,{identifierName:i}),this.importsStack[this.importsStack.length-1].add(i);return}let n=this.currentScope(),s=n.tsNames.get(i)||0;if(e&1024){this.maybeExportDefined(n,i),n.tsNames.set(i,s|16);return}super.declareName(i,e,r),e&2&&(e&1||(this.checkRedeclarationInScope(n,i,e,r),this.maybeExportDefined(n,i)),s=s|1),e&256&&(s=s|2),e&512&&(s=s|4),e&128&&(s=s|8),s&&n.tsNames.set(i,s)}isRedeclaredInScope(i,e,r){let n=i.tsNames.get(e);if((n&2)>0){if(r&256){let s=!!(r&512),a=(n&4)>0;return s!==a}return!0}return r&128&&(n&8)>0?i.names.get(e)&2?!!(r&1):!1:r&2&&(n&1)>0?!0:super.isRedeclaredInScope(i,e,r)}checkLocalExport(i){let{name:e}=i;if(this.hasImport(e))return;let r=this.scopeStack.length;for(let n=r-1;n>=0;n--){let a=this.scopeStack[n].tsNames.get(e);if((a&1)>0||(a&16)>0)return}super.checkLocalExport(i)}},Rp=t=>t.type==="ParenthesizedExpression"?Rp(t.expression):t,yo=class extends mo{toAssignable(i,e=!1){var r,n;let s;switch((i.type==="ParenthesizedExpression"||(r=i.extra)!=null&&r.parenthesized)&&(s=Rp(i),e?s.type==="Identifier"?this.expressionScope.recordArrowParameterBindingError(y.InvalidParenthesizedAssignment,i):s.type!=="MemberExpression"&&!this.isOptionalMemberExpression(s)&&this.raise(y.InvalidParenthesizedAssignment,i):this.raise(y.InvalidParenthesizedAssignment,i)),i.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":i.type="ObjectPattern";for(let o=0,u=i.properties.length,l=u-1;o<u;o++){var a;let c=i.properties[o],p=o===l;this.toAssignableObjectExpressionProp(c,p,e),p&&c.type==="RestElement"&&(a=i.extra)!=null&&a.trailingCommaLoc&&this.raise(y.RestTrailingComma,i.extra.trailingCommaLoc)}break;case"ObjectProperty":{let{key:o,value:u}=i;this.isPrivateName(o)&&this.classScope.usePrivateName(this.getPrivateNameSV(o),o.loc.start),this.toAssignable(u,e);break}case"SpreadElement":throw new Error("Internal @babel/parser error (this is a bug, please report it). SpreadElement should be converted by .toAssignable's caller.");case"ArrayExpression":i.type="ArrayPattern",this.toAssignableList(i.elements,(n=i.extra)==null?void 0:n.trailingCommaLoc,e);break;case"AssignmentExpression":i.operator!=="="&&this.raise(y.MissingEqInAssignment,i.left.loc.end),i.type="AssignmentPattern",delete i.operator,this.toAssignable(i.left,e);break;case"ParenthesizedExpression":this.toAssignable(s,e);break}}toAssignableObjectExpressionProp(i,e,r){if(i.type==="ObjectMethod")this.raise(i.kind==="get"||i.kind==="set"?y.PatternHasAccessor:y.PatternHasMethod,i.key);else if(i.type==="SpreadElement"){i.type="RestElement";let n=i.argument;this.checkToRestConversion(n,!1),this.toAssignable(n,r),e||this.raise(y.RestTrailingComma,i)}else this.toAssignable(i,r)}toAssignableList(i,e,r){let n=i.length-1;for(let s=0;s<=n;s++){let a=i[s];if(a){if(a.type==="SpreadElement"){a.type="RestElement";let o=a.argument;this.checkToRestConversion(o,!0),this.toAssignable(o,r)}else this.toAssignable(a,r);a.type==="RestElement"&&(s<n?this.raise(y.RestTrailingComma,a):e&&this.raise(y.RestTrailingComma,e))}}}isAssignable(i,e){switch(i.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":return!0;case"ObjectExpression":{let r=i.properties.length-1;return i.properties.every((n,s)=>n.type!=="ObjectMethod"&&(s===r||n.type!=="SpreadElement")&&this.isAssignable(n))}case"ObjectProperty":return this.isAssignable(i.value);case"SpreadElement":return this.isAssignable(i.argument);case"ArrayExpression":return i.elements.every(r=>r===null||this.isAssignable(r));case"AssignmentExpression":return i.operator==="=";case"ParenthesizedExpression":return this.isAssignable(i.expression);case"MemberExpression":case"OptionalMemberExpression":return!e;default:return!1}}toReferencedList(i,e){return i}toReferencedListDeep(i,e){this.toReferencedList(i,e);for(let r of i)r?.type==="ArrayExpression"&&this.toReferencedListDeep(r.elements)}parseSpread(i){let e=this.startNode();return this.next(),e.argument=this.parseMaybeAssignAllowIn(i,void 0),this.finishNode(e,"SpreadElement")}parseRestBinding(){let i=this.startNode();return this.next(),i.argument=this.parseBindingAtom(),this.finishNode(i,"RestElement")}parseBindingAtom(){switch(this.state.type){case 0:{let i=this.startNode();return this.next(),i.elements=this.parseBindingList(3,93,1),this.finishNode(i,"ArrayPattern")}case 5:return this.parseObjectLike(8,!0)}return this.parseIdentifier()}parseBindingList(i,e,r){let n=r&1,s=[],a=!0;for(;!this.eat(i);)if(a?a=!1:this.expect(12),n&&this.match(12))s.push(null);else{if(this.eat(i))break;if(this.match(21)){if(s.push(this.parseAssignableListItemTypes(this.parseRestBinding(),r)),!this.checkCommaAfterRest(e)){this.expect(i);break}}else{let o=[];for(this.match(26)&&this.hasPlugin("decorators")&&this.raise(y.UnsupportedParameterDecorator,this.state.startLoc);this.match(26);)o.push(this.parseDecorator());s.push(this.parseAssignableListItem(r,o))}}return s}parseBindingRestProperty(i){return this.next(),i.argument=this.parseIdentifier(),this.checkCommaAfterRest(125),this.finishNode(i,"RestElement")}parseBindingProperty(){let{type:i,startLoc:e}=this.state;if(i===21)return this.parseBindingRestProperty(this.startNode());let r=this.startNode();return i===138?(this.expectPlugin("destructuringPrivate",e),this.classScope.usePrivateName(this.state.value,e),r.key=this.parsePrivateName()):this.parsePropertyName(r),r.method=!1,this.parseObjPropValue(r,e,!1,!1,!0,!1)}parseAssignableListItem(i,e){let r=this.parseMaybeDefault();this.parseAssignableListItemTypes(r,i);let n=this.parseMaybeDefault(r.loc.start,r);return e.length&&(r.decorators=e),n}parseAssignableListItemTypes(i,e){return i}parseMaybeDefault(i,e){var r,n;if((r=i)!=null||(i=this.state.startLoc),e=(n=e)!=null?n:this.parseBindingAtom(),!this.eat(29))return e;let s=this.startNodeAt(i);return s.left=e,s.right=this.parseMaybeAssignAllowIn(),this.finishNode(s,"AssignmentPattern")}isValidLVal(i,e,r){switch(i){case"AssignmentPattern":return"left";case"RestElement":return"argument";case"ObjectProperty":return"value";case"ParenthesizedExpression":return"expression";case"ArrayPattern":return"elements";case"ObjectPattern":return"properties"}return!1}isOptionalMemberExpression(i){return i.type==="OptionalMemberExpression"}checkLVal(i,e,r=64,n=!1,s=!1,a=!1){var o;let u=i.type;if(this.isObjectMethod(i))return;let l=this.isOptionalMemberExpression(i);if(l||u==="MemberExpression"){l&&(this.expectPlugin("optionalChainingAssign",i.loc.start),e.type!=="AssignmentExpression"&&this.raise(y.InvalidLhsOptionalChaining,i,{ancestor:e})),r!==64&&this.raise(y.InvalidPropertyBindingPattern,i);return}if(u==="Identifier"){this.checkIdentifier(i,r,s);let{name:m}=i;n&&(n.has(m)?this.raise(y.ParamDupe,i):n.add(m));return}let c=this.isValidLVal(u,!(a||(o=i.extra)!=null&&o.parenthesized)&&e.type==="AssignmentExpression",r);if(c===!0)return;if(c===!1){let m=r===64?y.InvalidLhs:y.InvalidLhsBinding;this.raise(m,i,{ancestor:e});return}let p,f;typeof c=="string"?(p=c,f=u==="ParenthesizedExpression"):[p,f]=c;let h=u==="ArrayPattern"||u==="ObjectPattern"?{type:u}:e,d=i[p];if(Array.isArray(d))for(let m of d)m&&this.checkLVal(m,h,r,n,s,f);else d&&this.checkLVal(d,h,r,n,s,f)}checkIdentifier(i,e,r=!1){this.state.strict&&(r?Np(i.name,this.inModule):Ip(i.name))&&(e===64?this.raise(y.StrictEvalArguments,i,{referenceName:i.name}):this.raise(y.StrictEvalArgumentsBinding,i,{bindingName:i.name})),e&8192&&i.name==="let"&&this.raise(y.LetInLexicalBinding,i),e&64||this.declareNameFromIdentifier(i,e)}declareNameFromIdentifier(i,e){this.scope.declareName(i.name,e,i.loc.start)}checkToRestConversion(i,e){switch(i.type){case"ParenthesizedExpression":this.checkToRestConversion(i.expression,e);break;case"Identifier":case"MemberExpression":break;case"ArrayExpression":case"ObjectExpression":if(e)break;default:this.raise(y.InvalidRestAssignmentPattern,i)}}checkCommaAfterRest(i){return this.match(12)?(this.raise(this.lookaheadCharCode()===i?y.RestTrailingComma:y.ElementAfterRest,this.state.startLoc),!0):!1}};function xx(t){if(t==null)throw new Error(`Unexpected ${t} value.`);return t}function xp(t){if(!t)throw new Error("Assert fail")}var B=lr`typescript`({AbstractMethodHasImplementation:({methodName:t})=>`Method '${t}' cannot have an implementation because it is marked abstract.`,AbstractPropertyHasInitializer:({propertyName:t})=>`Property '${t}' cannot have an initializer because it is marked abstract.`,AccessorCannotBeOptional:"An 'accessor' property cannot be declared optional.",AccessorCannotDeclareThisParameter:"'get' and 'set' accessors cannot declare 'this' parameters.",AccessorCannotHaveTypeParameters:"An accessor cannot have type parameters.",ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier.",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier.",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"A 'const' initializer in an ambient context must be a string or numeric literal or literal enum reference.",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareAccessor:({kind:t})=>`'declare' is not allowed in ${t}ters.`,DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateAccessibilityModifier:({modifier:t})=>"Accessibility modifier already seen.",DuplicateModifier:({modifier:t})=>`Duplicate modifier: '${t}'.`,EmptyHeritageClauseType:({token:t})=>`'${t}' list cannot be empty.`,EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",ExpectedAmbientAfterExportDeclare:"'export declare' must be followed by an ambient declaration.",ImportAliasHasImportType:"An import alias can not use 'import type'.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` modifier",IncompatibleModifiers:({modifiers:t})=>`'${t[0]}' modifier cannot be used with '${t[1]}' modifier.`,IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier.",IndexSignatureHasAccessibility:({modifier:t})=>`Index signatures cannot have an accessibility modifier ('${t}').`,IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier.",IndexSignatureHasOverride:"'override' modifier cannot appear on an index signature.",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier.",InitializerNotAllowedInAmbientContext:"Initializers are not allowed in ambient contexts.",InvalidModifierOnTypeMember:({modifier:t})=>`'${t}' modifier cannot appear on a type member.`,InvalidModifierOnTypeParameter:({modifier:t})=>`'${t}' modifier cannot appear on a type parameter.`,InvalidModifierOnTypeParameterPositions:({modifier:t})=>`'${t}' modifier can only appear on a type parameter of a class, interface or type alias.`,InvalidModifiersOrder:({orderedModifiers:t})=>`'${t[0]}' modifier must precede '${t[1]}' modifier.`,InvalidPropertyAccessAfterInstantiationExpression:"Invalid property access after an instantiation expression. You can either wrap the instantiation expression in parentheses, or delete the type arguments.",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MissingInterfaceName:"'interface' declarations must be followed by an identifier.",NonAbstractClassHasAbstractMethod:"Abstract methods can only appear within an abstract class.",NonClassMethodPropertyHasAbstractModifer:"'abstract' modifier can only appear on a class, method, or property declaration.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",OverrideNotInSubClass:"This member cannot have an 'override' modifier because its containing class does not extend another class.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:({modifier:t})=>`Private elements cannot have an accessibility modifier ('${t}').`,ReadonlyForMethodSignature:"'readonly' modifier can only appear on a property declaration or index signature.",ReservedArrowTypeParam:"This syntax is reserved in files with the .mts or .cts extension. Add a trailing comma, as in `<T,>() => ...`.",ReservedTypeAssertion:"This syntax is reserved in files with the .mts or .cts extension. Use an `as` expression instead.",SetAccessorCannotHaveOptionalParameter:"A 'set' accessor cannot have an optional parameter.",SetAccessorCannotHaveRestParameter:"A 'set' accessor cannot have rest parameter.",SetAccessorCannotHaveReturnType:"A 'set' accessor cannot have a return type annotation.",SingleTypeParameterWithoutTrailingComma:({typeParameterName:t})=>`Single type parameter ${t} should have a trailing comma. Example usage: <${t},>.`,StaticBlockCannotHaveModifier:"Static class blocks cannot have any modifier.",TupleOptionalAfterType:"A labeled tuple optional element must be declared using a question mark after the name and before the colon (`name?: type`), rather than after the type (`name: type?`).",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeImportCannotSpecifyDefaultAndNamed:"A type-only import can specify a default import or named bindings, but not both.",TypeModifierIsUsedInTypeExports:"The 'type' modifier cannot be used on a named export when 'export type' is used on its export statement.",TypeModifierIsUsedInTypeImports:"The 'type' modifier cannot be used on a named import when 'import type' is used on its import statement.",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal.",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:({type:t})=>`Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got ${t}.`});function Cx(t){switch(t){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return}}function Cp(t){return t==="private"||t==="public"||t==="protected"}function bx(t){return t==="in"||t==="out"}var Ex=t=>class extends t{constructor(...e){super(...e),this.tsParseInOutModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out"],disallowedModifiers:["const","public","private","protected","readonly","declare","abstract","override"],errorTemplate:B.InvalidModifierOnTypeParameter}),this.tsParseConstModifier=this.tsParseModifiers.bind(this,{allowedModifiers:["const"],disallowedModifiers:["in","out"],errorTemplate:B.InvalidModifierOnTypeParameterPositions}),this.tsParseInOutConstModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out","const"],disallowedModifiers:["public","private","protected","readonly","declare","abstract","override"],errorTemplate:B.InvalidModifierOnTypeParameter})}getScopeHandler(){return Do}tsIsIdentifier(){return se(this.state.type)}tsTokenCanFollowModifier(){return this.match(0)||this.match(5)||this.match(55)||this.match(21)||this.match(138)||this.isLiteralPropertyName()}tsNextTokenOnSameLineAndCanFollowModifier(){return this.next(),this.hasPrecedingLineBreak()?!1:this.tsTokenCanFollowModifier()}tsNextTokenCanFollowModifier(){return this.match(106)?(this.next(),this.tsTokenCanFollowModifier()):this.tsNextTokenOnSameLineAndCanFollowModifier()}tsParseModifier(e,r){if(!se(this.state.type)&&this.state.type!==58&&this.state.type!==75)return;let n=this.state.value;if(e.includes(n)){if(r&&this.tsIsStartOfStaticBlocks())return;if(this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this)))return n}}tsParseModifiers({allowedModifiers:e,disallowedModifiers:r,stopOnStartOfClassStaticBlock:n,errorTemplate:s=B.InvalidModifierOnTypeMember},a){let o=(l,c,p,f)=>{c===p&&a[f]&&this.raise(B.InvalidModifiersOrder,l,{orderedModifiers:[p,f]})},u=(l,c,p,f)=>{(a[p]&&c===f||a[f]&&c===p)&&this.raise(B.IncompatibleModifiers,l,{modifiers:[p,f]})};for(;;){let{startLoc:l}=this.state,c=this.tsParseModifier(e.concat(r??[]),n);if(!c)break;Cp(c)?a.accessibility?this.raise(B.DuplicateAccessibilityModifier,l,{modifier:c}):(o(l,c,c,"override"),o(l,c,c,"static"),o(l,c,c,"readonly"),a.accessibility=c):bx(c)?(a[c]&&this.raise(B.DuplicateModifier,l,{modifier:c}),a[c]=!0,o(l,c,"in","out")):(hasOwnProperty.call(a,c)?this.raise(B.DuplicateModifier,l,{modifier:c}):(o(l,c,"static","readonly"),o(l,c,"static","override"),o(l,c,"override","readonly"),o(l,c,"abstract","override"),u(l,c,"declare","override"),u(l,c,"static","abstract")),a[c]=!0),r!=null&&r.includes(c)&&this.raise(s,l,{modifier:c})}}tsIsListTerminator(e){switch(e){case"EnumMembers":case"TypeMembers":return this.match(8);case"HeritageClauseElement":return this.match(5);case"TupleElementTypes":return this.match(3);case"TypeParametersOrArguments":return this.match(48)}}tsParseList(e,r){let n=[];for(;!this.tsIsListTerminator(e);)n.push(r());return n}tsParseDelimitedList(e,r,n){return xx(this.tsParseDelimitedListWorker(e,r,!0,n))}tsParseDelimitedListWorker(e,r,n,s){let a=[],o=-1;for(;!this.tsIsListTerminator(e);){o=-1;let u=r();if(u==null)return;if(a.push(u),this.eat(12)){o=this.state.lastTokStartLoc.index;continue}if(this.tsIsListTerminator(e))break;n&&this.expect(12);return}return s&&(s.value=o),a}tsParseBracketedList(e,r,n,s,a){s||(n?this.expect(0):this.expect(47));let o=this.tsParseDelimitedList(e,r,a);return n?this.expect(3):this.expect(48),o}tsParseImportType(){let e=this.startNode();return this.expect(83),this.expect(10),this.match(133)||this.raise(B.UnsupportedImportTypeArgument,this.state.startLoc),e.argument=super.parseExprAtom(),(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))&&(e.options=null),this.eat(12)&&(this.expectImportAttributesPlugin(),this.match(11)||(e.options=super.parseMaybeAssignAllowIn(),this.eat(12))),this.expect(11),this.eat(16)&&(e.qualifier=this.tsParseEntityName()),this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSImportType")}tsParseEntityName(e=!0){let r=this.parseIdentifier(e);for(;this.eat(16);){let n=this.startNodeAtNode(r);n.left=r,n.right=this.parseIdentifier(e),r=this.finishNode(n,"TSQualifiedName")}return r}tsParseTypeReference(){let e=this.startNode();return e.typeName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSTypeReference")}tsParseThisTypePredicate(e){this.next();let r=this.startNodeAtNode(e);return r.parameterName=e,r.typeAnnotation=this.tsParseTypeAnnotation(!1),r.asserts=!1,this.finishNode(r,"TSTypePredicate")}tsParseThisTypeNode(){let e=this.startNode();return this.next(),this.finishNode(e,"TSThisType")}tsParseTypeQuery(){let e=this.startNode();return this.expect(87),this.match(83)?e.exprName=this.tsParseImportType():e.exprName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSTypeQuery")}tsParseTypeParameter(e){let r=this.startNode();return e(r),r.name=this.tsParseTypeParameterName(),r.constraint=this.tsEatThenParseType(81),r.default=this.tsEatThenParseType(29),this.finishNode(r,"TSTypeParameter")}tsTryParseTypeParameters(e){if(this.match(47))return this.tsParseTypeParameters(e)}tsParseTypeParameters(e){let r=this.startNode();this.match(47)||this.match(142)?this.next():this.unexpected();let n={value:-1};return r.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this,e),!1,!0,n),r.params.length===0&&this.raise(B.EmptyTypeParameters,r),n.value!==-1&&this.addExtra(r,"trailingComma",n.value),this.finishNode(r,"TSTypeParameterDeclaration")}tsFillSignature(e,r){let n=e===19,s="parameters",a="typeAnnotation";r.typeParameters=this.tsTryParseTypeParameters(this.tsParseConstModifier),this.expect(10),r[s]=this.tsParseBindingListForSignature(),n?r[a]=this.tsParseTypeOrTypePredicateAnnotation(e):this.match(e)&&(r[a]=this.tsParseTypeOrTypePredicateAnnotation(e))}tsParseBindingListForSignature(){let e=super.parseBindingList(11,41,2);for(let r of e){let{type:n}=r;(n==="AssignmentPattern"||n==="TSParameterProperty")&&this.raise(B.UnsupportedSignatureParameterKind,r,{type:n})}return e}tsParseTypeMemberSemicolon(){!this.eat(12)&&!this.isLineTerminator()&&this.expect(13)}tsParseSignatureMember(e,r){return this.tsFillSignature(14,r),this.tsParseTypeMemberSemicolon(),this.finishNode(r,e)}tsIsUnambiguouslyIndexSignature(){return this.next(),se(this.state.type)?(this.next(),this.match(14)):!1}tsTryParseIndexSignature(e){if(!(this.match(0)&&this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this))))return;this.expect(0);let r=this.parseIdentifier();r.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(r),this.expect(3),e.parameters=[r];let n=this.tsTryParseTypeAnnotation();return n&&(e.typeAnnotation=n),this.tsParseTypeMemberSemicolon(),this.finishNode(e,"TSIndexSignature")}tsParsePropertyOrMethodSignature(e,r){this.eat(17)&&(e.optional=!0);let n=e;if(this.match(10)||this.match(47)){r&&this.raise(B.ReadonlyForMethodSignature,e);let s=n;s.kind&&this.match(47)&&this.raise(B.AccessorCannotHaveTypeParameters,this.state.curPosition()),this.tsFillSignature(14,s),this.tsParseTypeMemberSemicolon();let a="parameters",o="typeAnnotation";if(s.kind==="get")s[a].length>0&&(this.raise(y.BadGetterArity,this.state.curPosition()),this.isThisParam(s[a][0])&&this.raise(B.AccessorCannotDeclareThisParameter,this.state.curPosition()));else if(s.kind==="set"){if(s[a].length!==1)this.raise(y.BadSetterArity,this.state.curPosition());else{let u=s[a][0];this.isThisParam(u)&&this.raise(B.AccessorCannotDeclareThisParameter,this.state.curPosition()),u.type==="Identifier"&&u.optional&&this.raise(B.SetAccessorCannotHaveOptionalParameter,this.state.curPosition()),u.type==="RestElement"&&this.raise(B.SetAccessorCannotHaveRestParameter,this.state.curPosition())}s[o]&&this.raise(B.SetAccessorCannotHaveReturnType,s[o])}else s.kind="method";return this.finishNode(s,"TSMethodSignature")}else{let s=n;r&&(s.readonly=!0);let a=this.tsTryParseTypeAnnotation();return a&&(s.typeAnnotation=a),this.tsParseTypeMemberSemicolon(),this.finishNode(s,"TSPropertySignature")}}tsParseTypeMember(){let e=this.startNode();if(this.match(10)||this.match(47))return this.tsParseSignatureMember("TSCallSignatureDeclaration",e);if(this.match(77)){let n=this.startNode();return this.next(),this.match(10)||this.match(47)?this.tsParseSignatureMember("TSConstructSignatureDeclaration",e):(e.key=this.createIdentifier(n,"new"),this.tsParsePropertyOrMethodSignature(e,!1))}this.tsParseModifiers({allowedModifiers:["readonly"],disallowedModifiers:["declare","abstract","private","protected","public","static","override"]},e);let r=this.tsTryParseIndexSignature(e);return r||(super.parsePropertyName(e),!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.tsTokenCanFollowModifier()&&(e.kind=e.key.name,super.parsePropertyName(e)),this.tsParsePropertyOrMethodSignature(e,!!e.readonly))}tsParseTypeLiteral(){let e=this.startNode();return e.members=this.tsParseObjectTypeMembers(),this.finishNode(e,"TSTypeLiteral")}tsParseObjectTypeMembers(){this.expect(5);let e=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(8),e}tsIsStartOfMappedType(){return this.next(),this.eat(53)?this.isContextual(122):(this.isContextual(122)&&this.next(),!this.match(0)||(this.next(),!this.tsIsIdentifier())?!1:(this.next(),this.match(58)))}tsParseMappedType(){let e=this.startNode();this.expect(5),this.match(53)?(e.readonly=this.state.value,this.next(),this.expectContextual(122)):this.eatContextual(122)&&(e.readonly=!0),this.expect(0);{let r=this.startNode();r.name=this.tsParseTypeParameterName(),r.constraint=this.tsExpectThenParseType(58),e.typeParameter=this.finishNode(r,"TSTypeParameter")}return e.nameType=this.eatContextual(93)?this.tsParseType():null,this.expect(3),this.match(53)?(e.optional=this.state.value,this.next(),this.expect(17)):this.eat(17)&&(e.optional=!0),e.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(8),this.finishNode(e,"TSMappedType")}tsParseTupleType(){let e=this.startNode();e.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);let r=!1;return e.elementTypes.forEach(n=>{let{type:s}=n;r&&s!=="TSRestType"&&s!=="TSOptionalType"&&!(s==="TSNamedTupleMember"&&n.optional)&&this.raise(B.OptionalTypeBeforeRequired,n),r||(r=s==="TSNamedTupleMember"&&n.optional||s==="TSOptionalType")}),this.finishNode(e,"TSTupleType")}tsParseTupleElementType(){let{startLoc:e}=this.state,r=this.eat(21),n,s,a,o,l=wt(this.state.type)?this.lookaheadCharCode():null;if(l===58)n=!0,a=!1,s=this.parseIdentifier(!0),this.expect(14),o=this.tsParseType();else if(l===63){a=!0;let c=this.state.startLoc,p=this.state.value,f=this.tsParseNonArrayType();this.lookaheadCharCode()===58?(n=!0,s=this.createIdentifier(this.startNodeAt(c),p),this.expect(17),this.expect(14),o=this.tsParseType()):(n=!1,o=f,this.expect(17))}else o=this.tsParseType(),a=this.eat(17),n=this.eat(14);if(n){let c;s?(c=this.startNodeAtNode(s),c.optional=a,c.label=s,c.elementType=o,this.eat(17)&&(c.optional=!0,this.raise(B.TupleOptionalAfterType,this.state.lastTokStartLoc))):(c=this.startNodeAtNode(o),c.optional=a,this.raise(B.InvalidTupleMemberLabel,o),c.label=o,c.elementType=this.tsParseType()),o=this.finishNode(c,"TSNamedTupleMember")}else if(a){let c=this.startNodeAtNode(o);c.typeAnnotation=o,o=this.finishNode(c,"TSOptionalType")}if(r){let c=this.startNodeAt(e);c.typeAnnotation=o,o=this.finishNode(c,"TSRestType")}return o}tsParseParenthesizedType(){let e=this.startNode();return this.expect(10),e.typeAnnotation=this.tsParseType(),this.expect(11),this.finishNode(e,"TSParenthesizedType")}tsParseFunctionOrConstructorType(e,r){let n=this.startNode();return e==="TSConstructorType"&&(n.abstract=!!r,r&&this.next(),this.next()),this.tsInAllowConditionalTypesContext(()=>this.tsFillSignature(19,n)),this.finishNode(n,e)}tsParseLiteralTypeNode(){let e=this.startNode();switch(this.state.type){case 134:case 135:case 133:case 85:case 86:e.literal=super.parseExprAtom();break;default:this.unexpected()}return this.finishNode(e,"TSLiteralType")}tsParseTemplateLiteralType(){let e=this.startNode();return e.literal=super.parseTemplate(!1),this.finishNode(e,"TSLiteralType")}parseTemplateSubstitution(){return this.state.inType?this.tsParseType():super.parseTemplateSubstitution()}tsParseThisTypeOrThisTypePredicate(){let e=this.tsParseThisTypeNode();return this.isContextual(116)&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(e):e}tsParseNonArrayType(){switch(this.state.type){case 133:case 134:case 135:case 85:case 86:return this.tsParseLiteralTypeNode();case 53:if(this.state.value==="-"){let e=this.startNode(),r=this.lookahead();return r.type!==134&&r.type!==135&&this.unexpected(),e.literal=this.parseMaybeUnary(),this.finishNode(e,"TSLiteralType")}break;case 78:return this.tsParseThisTypeOrThisTypePredicate();case 87:return this.tsParseTypeQuery();case 83:return this.tsParseImportType();case 5:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case 0:return this.tsParseTupleType();case 10:return this.tsParseParenthesizedType();case 25:case 24:return this.tsParseTemplateLiteralType();default:{let{type:e}=this.state;if(se(e)||e===88||e===84){let r=e===88?"TSVoidKeyword":e===84?"TSNullKeyword":Cx(this.state.value);if(r!==void 0&&this.lookaheadCharCode()!==46){let n=this.startNode();return this.next(),this.finishNode(n,r)}return this.tsParseTypeReference()}}}this.unexpected()}tsParseArrayTypeOrHigher(){let e=this.tsParseNonArrayType();for(;!this.hasPrecedingLineBreak()&&this.eat(0);)if(this.match(3)){let r=this.startNodeAtNode(e);r.elementType=e,this.expect(3),e=this.finishNode(r,"TSArrayType")}else{let r=this.startNodeAtNode(e);r.objectType=e,r.indexType=this.tsParseType(),this.expect(3),e=this.finishNode(r,"TSIndexedAccessType")}return e}tsParseTypeOperator(){let e=this.startNode(),r=this.state.value;return this.next(),e.operator=r,e.typeAnnotation=this.tsParseTypeOperatorOrHigher(),r==="readonly"&&this.tsCheckTypeAnnotationForReadOnly(e),this.finishNode(e,"TSTypeOperator")}tsCheckTypeAnnotationForReadOnly(e){switch(e.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(B.UnexpectedReadonly,e)}}tsParseInferType(){let e=this.startNode();this.expectContextual(115);let r=this.startNode();return r.name=this.tsParseTypeParameterName(),r.constraint=this.tsTryParse(()=>this.tsParseConstraintForInferType()),e.typeParameter=this.finishNode(r,"TSTypeParameter"),this.finishNode(e,"TSInferType")}tsParseConstraintForInferType(){if(this.eat(81)){let e=this.tsInDisallowConditionalTypesContext(()=>this.tsParseType());if(this.state.inDisallowConditionalTypesContext||!this.match(17))return e}}tsParseTypeOperatorOrHigher(){return $y(this.state.type)&&!this.state.containsEsc?this.tsParseTypeOperator():this.isContextual(115)?this.tsParseInferType():this.tsInAllowConditionalTypesContext(()=>this.tsParseArrayTypeOrHigher())}tsParseUnionOrIntersectionType(e,r,n){let s=this.startNode(),a=this.eat(n),o=[];do o.push(r());while(this.eat(n));return o.length===1&&!a?o[0]:(s.types=o,this.finishNode(s,e))}tsParseIntersectionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),45)}tsParseUnionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),43)}tsIsStartOfFunctionType(){return this.match(47)?!0:this.match(10)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))}tsSkipParameterStart(){if(se(this.state.type)||this.match(78))return this.next(),!0;if(this.match(5)){let{errors:e}=this.state,r=e.length;try{return this.parseObjectLike(8,!0),e.length===r}catch{return!1}}if(this.match(0)){this.next();let{errors:e}=this.state,r=e.length;try{return super.parseBindingList(3,93,1),e.length===r}catch{return!1}}return!1}tsIsUnambiguouslyStartOfFunctionType(){return this.next(),!!(this.match(11)||this.match(21)||this.tsSkipParameterStart()&&(this.match(14)||this.match(12)||this.match(17)||this.match(29)||this.match(11)&&(this.next(),this.match(19))))}tsParseTypeOrTypePredicateAnnotation(e){return this.tsInType(()=>{let r=this.startNode();this.expect(e);let n=this.startNode(),s=!!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));if(s&&this.match(78)){let u=this.tsParseThisTypeOrThisTypePredicate();return u.type==="TSThisType"?(n.parameterName=u,n.asserts=!0,n.typeAnnotation=null,u=this.finishNode(n,"TSTypePredicate")):(this.resetStartLocationFromNode(u,n),u.asserts=!0),r.typeAnnotation=u,this.finishNode(r,"TSTypeAnnotation")}let a=this.tsIsIdentifier()&&this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));if(!a)return s?(n.parameterName=this.parseIdentifier(),n.asserts=s,n.typeAnnotation=null,r.typeAnnotation=this.finishNode(n,"TSTypePredicate"),this.finishNode(r,"TSTypeAnnotation")):this.tsParseTypeAnnotation(!1,r);let o=this.tsParseTypeAnnotation(!1);return n.parameterName=a,n.typeAnnotation=o,n.asserts=s,r.typeAnnotation=this.finishNode(n,"TSTypePredicate"),this.finishNode(r,"TSTypeAnnotation")})}tsTryParseTypeOrTypePredicateAnnotation(){if(this.match(14))return this.tsParseTypeOrTypePredicateAnnotation(14)}tsTryParseTypeAnnotation(){if(this.match(14))return this.tsParseTypeAnnotation()}tsTryParseType(){return this.tsEatThenParseType(14)}tsParseTypePredicatePrefix(){let e=this.parseIdentifier();if(this.isContextual(116)&&!this.hasPrecedingLineBreak())return this.next(),e}tsParseTypePredicateAsserts(){if(this.state.type!==109)return!1;let e=this.state.containsEsc;return this.next(),!se(this.state.type)&&!this.match(78)?!1:(e&&this.raise(y.InvalidEscapedReservedWord,this.state.lastTokStartLoc,{reservedWord:"asserts"}),!0)}tsParseTypeAnnotation(e=!0,r=this.startNode()){return this.tsInType(()=>{e&&this.expect(14),r.typeAnnotation=this.tsParseType()}),this.finishNode(r,"TSTypeAnnotation")}tsParseType(){xp(this.state.inType);let e=this.tsParseNonConditionalType();if(this.state.inDisallowConditionalTypesContext||this.hasPrecedingLineBreak()||!this.eat(81))return e;let r=this.startNodeAtNode(e);return r.checkType=e,r.extendsType=this.tsInDisallowConditionalTypesContext(()=>this.tsParseNonConditionalType()),this.expect(17),r.trueType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.expect(14),r.falseType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.finishNode(r,"TSConditionalType")}isAbstractConstructorSignature(){return this.isContextual(124)&&this.lookahead().type===77}tsParseNonConditionalType(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(77)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.isAbstractConstructorSignature()?this.tsParseFunctionOrConstructorType("TSConstructorType",!0):this.tsParseUnionTypeOrHigher()}tsParseTypeAssertion(){this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(B.ReservedTypeAssertion,this.state.startLoc);let e=this.startNode();return e.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?this.tsParseTypeReference():this.tsParseType())),this.expect(48),e.expression=this.parseMaybeUnary(),this.finishNode(e,"TSTypeAssertion")}tsParseHeritageClause(e){let r=this.state.startLoc,n=this.tsParseDelimitedList("HeritageClauseElement",()=>{let s=this.startNode();return s.expression=this.tsParseEntityName(),this.match(47)&&(s.typeParameters=this.tsParseTypeArguments()),this.finishNode(s,"TSExpressionWithTypeArguments")});return n.length||this.raise(B.EmptyHeritageClauseType,r,{token:e}),n}tsParseInterfaceDeclaration(e,r={}){if(this.hasFollowingLineBreak())return null;this.expectContextual(129),r.declare&&(e.declare=!0),se(this.state.type)?(e.id=this.parseIdentifier(),this.checkIdentifier(e.id,130)):(e.id=null,this.raise(B.MissingInterfaceName,this.state.startLoc)),e.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers),this.eat(81)&&(e.extends=this.tsParseHeritageClause("extends"));let n=this.startNode();return n.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),e.body=this.finishNode(n,"TSInterfaceBody"),this.finishNode(e,"TSInterfaceDeclaration")}tsParseTypeAliasDeclaration(e){return e.id=this.parseIdentifier(),this.checkIdentifier(e.id,2),e.typeAnnotation=this.tsInType(()=>{if(e.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutModifiers),this.expect(29),this.isContextual(114)&&this.lookahead().type!==16){let r=this.startNode();return this.next(),this.finishNode(r,"TSIntrinsicKeyword")}return this.tsParseType()}),this.semicolon(),this.finishNode(e,"TSTypeAliasDeclaration")}tsInNoContext(e){let r=this.state.context;this.state.context=[r[0]];try{return e()}finally{this.state.context=r}}tsInType(e){let r=this.state.inType;this.state.inType=!0;try{return e()}finally{this.state.inType=r}}tsInDisallowConditionalTypesContext(e){let r=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!0;try{return e()}finally{this.state.inDisallowConditionalTypesContext=r}}tsInAllowConditionalTypesContext(e){let r=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!1;try{return e()}finally{this.state.inDisallowConditionalTypesContext=r}}tsEatThenParseType(e){if(this.match(e))return this.tsNextThenParseType()}tsExpectThenParseType(e){return this.tsInType(()=>(this.expect(e),this.tsParseType()))}tsNextThenParseType(){return this.tsInType(()=>(this.next(),this.tsParseType()))}tsParseEnumMember(){let e=this.startNode();return e.id=this.match(133)?super.parseStringLiteral(this.state.value):this.parseIdentifier(!0),this.eat(29)&&(e.initializer=super.parseMaybeAssignAllowIn()),this.finishNode(e,"TSEnumMember")}tsParseEnumDeclaration(e,r={}){return r.const&&(e.const=!0),r.declare&&(e.declare=!0),this.expectContextual(126),e.id=this.parseIdentifier(),this.checkIdentifier(e.id,e.const?8971:8459),this.expect(5),e.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(e,"TSEnumDeclaration")}tsParseModuleBlock(){let e=this.startNode();return this.scope.enter(0),this.expect(5),super.parseBlockOrModuleBlockBody(e.body=[],void 0,!0,8),this.scope.exit(),this.finishNode(e,"TSModuleBlock")}tsParseModuleOrNamespaceDeclaration(e,r=!1){if(e.id=this.parseIdentifier(),r||this.checkIdentifier(e.id,1024),this.eat(16)){let n=this.startNode();this.tsParseModuleOrNamespaceDeclaration(n,!0),e.body=n}else this.scope.enter(256),this.prodParam.enter(0),e.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(e,"TSModuleDeclaration")}tsParseAmbientExternalModuleDeclaration(e){return this.isContextual(112)?(e.global=!0,e.id=this.parseIdentifier()):this.match(133)?e.id=super.parseStringLiteral(this.state.value):this.unexpected(),this.match(5)?(this.scope.enter(256),this.prodParam.enter(0),e.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit()):this.semicolon(),this.finishNode(e,"TSModuleDeclaration")}tsParseImportEqualsDeclaration(e,r,n){e.isExport=n||!1,e.id=r||this.parseIdentifier(),this.checkIdentifier(e.id,4096),this.expect(29);let s=this.tsParseModuleReference();return e.importKind==="type"&&s.type!=="TSExternalModuleReference"&&this.raise(B.ImportAliasHasImportType,s),e.moduleReference=s,this.semicolon(),this.finishNode(e,"TSImportEqualsDeclaration")}tsIsExternalModuleReference(){return this.isContextual(119)&&this.lookaheadCharCode()===40}tsParseModuleReference(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(!1)}tsParseExternalModuleReference(){let e=this.startNode();return this.expectContextual(119),this.expect(10),this.match(133)||this.unexpected(),e.expression=super.parseExprAtom(),this.expect(11),this.sawUnambiguousESM=!0,this.finishNode(e,"TSExternalModuleReference")}tsLookAhead(e){let r=this.state.clone(),n=e();return this.state=r,n}tsTryParseAndCatch(e){let r=this.tryParse(n=>e()||n());if(!(r.aborted||!r.node))return r.error&&(this.state=r.failState),r.node}tsTryParse(e){let r=this.state.clone(),n=e();if(n!==void 0&&n!==!1)return n;this.state=r}tsTryParseDeclare(e){if(this.isLineTerminator())return;let r=this.state.type,n;return this.isContextual(100)&&(r=74,n="let"),this.tsInAmbientContext(()=>{switch(r){case 68:return e.declare=!0,super.parseFunctionStatement(e,!1,!1);case 80:return e.declare=!0,this.parseClass(e,!0,!1);case 126:return this.tsParseEnumDeclaration(e,{declare:!0});case 112:return this.tsParseAmbientExternalModuleDeclaration(e);case 75:case 74:return!this.match(75)||!this.isLookaheadContextual("enum")?(e.declare=!0,this.parseVarStatement(e,n||this.state.value,!0)):(this.expect(75),this.tsParseEnumDeclaration(e,{const:!0,declare:!0}));case 129:{let s=this.tsParseInterfaceDeclaration(e,{declare:!0});if(s)return s}default:if(se(r))return this.tsParseDeclaration(e,this.state.value,!0,null)}})}tsTryParseExportDeclaration(){return this.tsParseDeclaration(this.startNode(),this.state.value,!0,null)}tsParseExpressionStatement(e,r,n){switch(r.name){case"declare":{let s=this.tsTryParseDeclare(e);return s&&(s.declare=!0),s}case"global":if(this.match(5)){this.scope.enter(256),this.prodParam.enter(0);let s=e;return s.global=!0,s.id=r,s.body=this.tsParseModuleBlock(),this.scope.exit(),this.prodParam.exit(),this.finishNode(s,"TSModuleDeclaration")}break;default:return this.tsParseDeclaration(e,r.name,!1,n)}}tsParseDeclaration(e,r,n,s){switch(r){case"abstract":if(this.tsCheckLineTerminator(n)&&(this.match(80)||se(this.state.type)))return this.tsParseAbstractDeclaration(e,s);break;case"module":if(this.tsCheckLineTerminator(n)){if(this.match(133))return this.tsParseAmbientExternalModuleDeclaration(e);if(se(this.state.type))return this.tsParseModuleOrNamespaceDeclaration(e)}break;case"namespace":if(this.tsCheckLineTerminator(n)&&se(this.state.type))return this.tsParseModuleOrNamespaceDeclaration(e);break;case"type":if(this.tsCheckLineTerminator(n)&&se(this.state.type))return this.tsParseTypeAliasDeclaration(e);break}}tsCheckLineTerminator(e){return e?this.hasFollowingLineBreak()?!1:(this.next(),!0):!this.isLineTerminator()}tsTryParseGenericAsyncArrowFunction(e){if(!this.match(47))return;let r=this.state.maybeInArrowParameters;this.state.maybeInArrowParameters=!0;let n=this.tsTryParseAndCatch(()=>{let s=this.startNodeAt(e);return s.typeParameters=this.tsParseTypeParameters(this.tsParseConstModifier),super.parseFunctionParams(s),s.returnType=this.tsTryParseTypeOrTypePredicateAnnotation(),this.expect(19),s});if(this.state.maybeInArrowParameters=r,!!n)return super.parseArrowExpression(n,null,!0)}tsParseTypeArgumentsInExpression(){if(this.reScan_lt()===47)return this.tsParseTypeArguments()}tsParseTypeArguments(){let e=this.startNode();return e.params=this.tsInType(()=>this.tsInNoContext(()=>(this.expect(47),this.tsParseDelimitedList("TypeParametersOrArguments",this.tsParseType.bind(this))))),e.params.length===0?this.raise(B.EmptyTypeArguments,e):!this.state.inType&&this.curContext()===ce.brace&&this.reScan_lt_gt(),this.expect(48),this.finishNode(e,"TSTypeParameterInstantiation")}tsIsDeclarationStart(){return Vy(this.state.type)}isExportDefaultSpecifier(){return this.tsIsDeclarationStart()?!1:super.isExportDefaultSpecifier()}parseAssignableListItem(e,r){let n=this.state.startLoc,s={};this.tsParseModifiers({allowedModifiers:["public","private","protected","override","readonly"]},s);let a=s.accessibility,o=s.override,u=s.readonly;!(e&4)&&(a||u||o)&&this.raise(B.UnexpectedParameterModifier,n);let l=this.parseMaybeDefault();this.parseAssignableListItemTypes(l,e);let c=this.parseMaybeDefault(l.loc.start,l);if(a||u||o){let p=this.startNodeAt(n);return r.length&&(p.decorators=r),a&&(p.accessibility=a),u&&(p.readonly=u),o&&(p.override=o),c.type!=="Identifier"&&c.type!=="AssignmentPattern"&&this.raise(B.UnsupportedParameterPropertyKind,p),p.parameter=c,this.finishNode(p,"TSParameterProperty")}return r.length&&(l.decorators=r),c}isSimpleParameter(e){return e.type==="TSParameterProperty"&&super.isSimpleParameter(e.parameter)||super.isSimpleParameter(e)}tsDisallowOptionalPattern(e){for(let r of e.params)r.type!=="Identifier"&&r.optional&&!this.state.isAmbientContext&&this.raise(B.PatternIsOptional,r)}setArrowFunctionParameters(e,r,n){super.setArrowFunctionParameters(e,r,n),this.tsDisallowOptionalPattern(e)}parseFunctionBodyAndFinish(e,r,n=!1){this.match(14)&&(e.returnType=this.tsParseTypeOrTypePredicateAnnotation(14));let s=r==="FunctionDeclaration"?"TSDeclareFunction":r==="ClassMethod"||r==="ClassPrivateMethod"?"TSDeclareMethod":void 0;return s&&!this.match(5)&&this.isLineTerminator()?this.finishNode(e,s):s==="TSDeclareFunction"&&this.state.isAmbientContext&&(this.raise(B.DeclareFunctionHasImplementation,e),e.declare)?super.parseFunctionBodyAndFinish(e,s,n):(this.tsDisallowOptionalPattern(e),super.parseFunctionBodyAndFinish(e,r,n))}registerFunctionStatementId(e){!e.body&&e.id?this.checkIdentifier(e.id,1024):super.registerFunctionStatementId(e)}tsCheckForInvalidTypeCasts(e){e.forEach(r=>{r?.type==="TSTypeCastExpression"&&this.raise(B.UnexpectedTypeAnnotation,r.typeAnnotation)})}toReferencedList(e,r){return this.tsCheckForInvalidTypeCasts(e),e}parseArrayLike(e,r,n,s){let a=super.parseArrayLike(e,r,n,s);return a.type==="ArrayExpression"&&this.tsCheckForInvalidTypeCasts(a.elements),a}parseSubscript(e,r,n,s){if(!this.hasPrecedingLineBreak()&&this.match(35)){this.state.canStartJSXElement=!1,this.next();let o=this.startNodeAt(r);return o.expression=e,this.finishNode(o,"TSNonNullExpression")}let a=!1;if(this.match(18)&&this.lookaheadCharCode()===60){if(n)return s.stop=!0,e;s.optionalChainMember=a=!0,this.next()}if(this.match(47)||this.match(51)){let o,u=this.tsTryParseAndCatch(()=>{if(!n&&this.atPossibleAsyncArrow(e)){let f=this.tsTryParseGenericAsyncArrowFunction(r);if(f)return f}let l=this.tsParseTypeArgumentsInExpression();if(!l)return;if(a&&!this.match(10)){o=this.state.curPosition();return}if(ss(this.state.type)){let f=super.parseTaggedTemplateExpression(e,r,s);return f.typeParameters=l,f}if(!n&&this.eat(10)){let f=this.startNodeAt(r);return f.callee=e,f.arguments=this.parseCallExpressionArguments(11,!1),this.tsCheckForInvalidTypeCasts(f.arguments),f.typeParameters=l,s.optionalChainMember&&(f.optional=a),this.finishCallExpression(f,s.optionalChainMember)}let c=this.state.type;if(c===48||c===52||c!==10&&eo(c)&&!this.hasPrecedingLineBreak())return;let p=this.startNodeAt(r);return p.expression=e,p.typeParameters=l,this.finishNode(p,"TSInstantiationExpression")});if(o&&this.unexpected(o,10),u)return u.type==="TSInstantiationExpression"&&(this.match(16)||this.match(18)&&this.lookaheadCharCode()!==40)&&this.raise(B.InvalidPropertyAccessAfterInstantiationExpression,this.state.startLoc),u}return super.parseSubscript(e,r,n,s)}parseNewCallee(e){var r;super.parseNewCallee(e);let{callee:n}=e;n.type==="TSInstantiationExpression"&&!((r=n.extra)!=null&&r.parenthesized)&&(e.typeParameters=n.typeParameters,e.callee=n.expression)}parseExprOp(e,r,n){let s;if(rs(58)>n&&!this.hasPrecedingLineBreak()&&(this.isContextual(93)||(s=this.isContextual(120)))){let a=this.startNodeAt(r);return a.expression=e,a.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?(s&&this.raise(y.UnexpectedKeyword,this.state.startLoc,{keyword:"const"}),this.tsParseTypeReference()):this.tsParseType())),this.finishNode(a,s?"TSSatisfiesExpression":"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(a,r,n)}return super.parseExprOp(e,r,n)}checkReservedWord(e,r,n,s){this.state.isAmbientContext||super.checkReservedWord(e,r,n,s)}checkImportReflection(e){super.checkImportReflection(e),e.module&&e.importKind!=="value"&&this.raise(B.ImportReflectionHasImportType,e.specifiers[0].loc.start)}checkDuplicateExports(){}isPotentialImportPhase(e){if(super.isPotentialImportPhase(e))return!0;if(this.isContextual(130)){let r=this.lookaheadCharCode();return e?r===123||r===42:r!==61}return!e&&this.isContextual(87)}applyImportPhase(e,r,n,s){super.applyImportPhase(e,r,n,s),r?e.exportKind=n==="type"?"type":"value":e.importKind=n==="type"||n==="typeof"?n:"value"}parseImport(e){if(this.match(133))return e.importKind="value",super.parseImport(e);let r;if(se(this.state.type)&&this.lookaheadCharCode()===61)return e.importKind="value",this.tsParseImportEqualsDeclaration(e);if(this.isContextual(130)){let n=this.parseMaybeImportPhase(e,!1);if(this.lookaheadCharCode()===61)return this.tsParseImportEqualsDeclaration(e,n);r=super.parseImportSpecifiersAndAfter(e,n)}else r=super.parseImport(e);return r.importKind==="type"&&r.specifiers.length>1&&r.specifiers[0].type==="ImportDefaultSpecifier"&&this.raise(B.TypeImportCannotSpecifyDefaultAndNamed,r),r}parseExport(e,r){if(this.match(83)){this.next();let n=e,s=null;return this.isContextual(130)&&this.isPotentialImportPhase(!1)?s=this.parseMaybeImportPhase(n,!1):n.importKind="value",this.tsParseImportEqualsDeclaration(n,s,!0)}else if(this.eat(29)){let n=e;return n.expression=super.parseExpression(),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(n,"TSExportAssignment")}else if(this.eatContextual(93)){let n=e;return this.expectContextual(128),n.id=this.parseIdentifier(),this.semicolon(),this.finishNode(n,"TSNamespaceExportDeclaration")}else return super.parseExport(e,r)}isAbstractClass(){return this.isContextual(124)&&this.lookahead().type===80}parseExportDefaultExpression(){if(this.isAbstractClass()){let e=this.startNode();return this.next(),e.abstract=!0,this.parseClass(e,!0,!0)}if(this.match(129)){let e=this.tsParseInterfaceDeclaration(this.startNode());if(e)return e}return super.parseExportDefaultExpression()}parseVarStatement(e,r,n=!1){let{isAmbientContext:s}=this.state,a=super.parseVarStatement(e,r,n||s);if(!s)return a;for(let{id:o,init:u}of a.declarations)u&&(r!=="const"||o.typeAnnotation?this.raise(B.InitializerNotAllowedInAmbientContext,u):Px(u,this.hasPlugin("estree"))||this.raise(B.ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference,u));return a}parseStatementContent(e,r){if(this.match(75)&&this.isLookaheadContextual("enum")){let n=this.startNode();return this.expect(75),this.tsParseEnumDeclaration(n,{const:!0})}if(this.isContextual(126))return this.tsParseEnumDeclaration(this.startNode());if(this.isContextual(129)){let n=this.tsParseInterfaceDeclaration(this.startNode());if(n)return n}return super.parseStatementContent(e,r)}parseAccessModifier(){return this.tsParseModifier(["public","protected","private"])}tsHasSomeModifiers(e,r){return r.some(n=>Cp(n)?e.accessibility===n:!!e[n])}tsIsStartOfStaticBlocks(){return this.isContextual(106)&&this.lookaheadCharCode()===123}parseClassMember(e,r,n){let s=["declare","private","public","protected","override","abstract","readonly","static"];this.tsParseModifiers({allowedModifiers:s,disallowedModifiers:["in","out"],stopOnStartOfClassStaticBlock:!0,errorTemplate:B.InvalidModifierOnTypeParameterPositions},r);let a=()=>{this.tsIsStartOfStaticBlocks()?(this.next(),this.next(),this.tsHasSomeModifiers(r,s)&&this.raise(B.StaticBlockCannotHaveModifier,this.state.curPosition()),super.parseClassStaticBlock(e,r)):this.parseClassMemberWithIsStatic(e,r,n,!!r.static)};r.declare?this.tsInAmbientContext(a):a()}parseClassMemberWithIsStatic(e,r,n,s){let a=this.tsTryParseIndexSignature(r);if(a){e.body.push(a),r.abstract&&this.raise(B.IndexSignatureHasAbstract,r),r.accessibility&&this.raise(B.IndexSignatureHasAccessibility,r,{modifier:r.accessibility}),r.declare&&this.raise(B.IndexSignatureHasDeclare,r),r.override&&this.raise(B.IndexSignatureHasOverride,r);return}!this.state.inAbstractClass&&r.abstract&&this.raise(B.NonAbstractClassHasAbstractMethod,r),r.override&&(n.hadSuperClass||this.raise(B.OverrideNotInSubClass,r)),super.parseClassMemberWithIsStatic(e,r,n,s)}parsePostMemberNameModifiers(e){this.eat(17)&&(e.optional=!0),e.readonly&&this.match(10)&&this.raise(B.ClassMethodHasReadonly,e),e.declare&&this.match(10)&&this.raise(B.ClassMethodHasDeclare,e)}parseExpressionStatement(e,r,n){return(r.type==="Identifier"?this.tsParseExpressionStatement(e,r,n):void 0)||super.parseExpressionStatement(e,r,n)}shouldParseExportDeclaration(){return this.tsIsDeclarationStart()?!0:super.shouldParseExportDeclaration()}parseConditional(e,r,n){if(!this.state.maybeInArrowParameters||!this.match(17))return super.parseConditional(e,r,n);let s=this.tryParse(()=>super.parseConditional(e,r));return s.node?(s.error&&(this.state=s.failState),s.node):(s.error&&super.setOptionalParametersError(n,s.error),e)}parseParenItem(e,r){let n=super.parseParenItem(e,r);if(this.eat(17)&&(n.optional=!0,this.resetEndLocation(e)),this.match(14)){let s=this.startNodeAt(r);return s.expression=e,s.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(s,"TSTypeCastExpression")}return e}parseExportDeclaration(e){if(!this.state.isAmbientContext&&this.isContextual(125))return this.tsInAmbientContext(()=>this.parseExportDeclaration(e));let r=this.state.startLoc,n=this.eatContextual(125);if(n&&(this.isContextual(125)||!this.shouldParseExportDeclaration()))throw this.raise(B.ExpectedAmbientAfterExportDeclare,this.state.startLoc);let a=se(this.state.type)&&this.tsTryParseExportDeclaration()||super.parseExportDeclaration(e);return a?((a.type==="TSInterfaceDeclaration"||a.type==="TSTypeAliasDeclaration"||n)&&(e.exportKind="type"),n&&(this.resetStartLocation(a,r),a.declare=!0),a):null}parseClassId(e,r,n,s){if((!r||n)&&this.isContextual(113))return;super.parseClassId(e,r,n,e.declare?1024:8331);let a=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers);a&&(e.typeParameters=a)}parseClassPropertyAnnotation(e){e.optional||(this.eat(35)?e.definite=!0:this.eat(17)&&(e.optional=!0));let r=this.tsTryParseTypeAnnotation();r&&(e.typeAnnotation=r)}parseClassProperty(e){if(this.parseClassPropertyAnnotation(e),this.state.isAmbientContext&&!(e.readonly&&!e.typeAnnotation)&&this.match(29)&&this.raise(B.DeclareClassFieldHasInitializer,this.state.startLoc),e.abstract&&this.match(29)){let{key:r}=e;this.raise(B.AbstractPropertyHasInitializer,this.state.startLoc,{propertyName:r.type==="Identifier"&&!e.computed?r.name:`[${this.input.slice(r.start,r.end)}]`})}return super.parseClassProperty(e)}parseClassPrivateProperty(e){return e.abstract&&this.raise(B.PrivateElementHasAbstract,e),e.accessibility&&this.raise(B.PrivateElementHasAccessibility,e,{modifier:e.accessibility}),this.parseClassPropertyAnnotation(e),super.parseClassPrivateProperty(e)}parseClassAccessorProperty(e){return this.parseClassPropertyAnnotation(e),e.optional&&this.raise(B.AccessorCannotBeOptional,e),super.parseClassAccessorProperty(e)}pushClassMethod(e,r,n,s,a,o){let u=this.tsTryParseTypeParameters(this.tsParseConstModifier);u&&a&&this.raise(B.ConstructorHasTypeParameters,u);let{declare:l=!1,kind:c}=r;l&&(c==="get"||c==="set")&&this.raise(B.DeclareAccessor,r,{kind:c}),u&&(r.typeParameters=u),super.pushClassMethod(e,r,n,s,a,o)}pushClassPrivateMethod(e,r,n,s){let a=this.tsTryParseTypeParameters(this.tsParseConstModifier);a&&(r.typeParameters=a),super.pushClassPrivateMethod(e,r,n,s)}declareClassPrivateMethodInScope(e,r){e.type!=="TSDeclareMethod"&&(e.type==="MethodDefinition"&&!hasOwnProperty.call(e.value,"body")||super.declareClassPrivateMethodInScope(e,r))}parseClassSuper(e){super.parseClassSuper(e),e.superClass&&(this.match(47)||this.match(51))&&(e.superTypeParameters=this.tsParseTypeArgumentsInExpression()),this.eatContextual(113)&&(e.implements=this.tsParseHeritageClause("implements"))}parseObjPropValue(e,r,n,s,a,o,u){let l=this.tsTryParseTypeParameters(this.tsParseConstModifier);return l&&(e.typeParameters=l),super.parseObjPropValue(e,r,n,s,a,o,u)}parseFunctionParams(e,r){let n=this.tsTryParseTypeParameters(this.tsParseConstModifier);n&&(e.typeParameters=n),super.parseFunctionParams(e,r)}parseVarId(e,r){super.parseVarId(e,r),e.id.type==="Identifier"&&!this.hasPrecedingLineBreak()&&this.eat(35)&&(e.definite=!0);let n=this.tsTryParseTypeAnnotation();n&&(e.id.typeAnnotation=n,this.resetEndLocation(e.id))}parseAsyncArrowFromCallExpression(e,r){return this.match(14)&&(e.returnType=this.tsParseTypeAnnotation()),super.parseAsyncArrowFromCallExpression(e,r)}parseMaybeAssign(e,r){var n,s,a,o,u;let l,c,p;if(this.hasPlugin("jsx")&&(this.match(142)||this.match(47))){if(l=this.state.clone(),c=this.tryParse(()=>super.parseMaybeAssign(e,r),l),!c.error)return c.node;let{context:d}=this.state,m=d[d.length-1];(m===ce.j_oTag||m===ce.j_expr)&&d.pop()}if(!((n=c)!=null&&n.error)&&!this.match(47))return super.parseMaybeAssign(e,r);(!l||l===this.state)&&(l=this.state.clone());let f,h=this.tryParse(d=>{var m,g;f=this.tsParseTypeParameters(this.tsParseConstModifier);let D=super.parseMaybeAssign(e,r);return(D.type!=="ArrowFunctionExpression"||(m=D.extra)!=null&&m.parenthesized)&&d(),((g=f)==null?void 0:g.params.length)!==0&&this.resetStartLocationFromNode(D,f),D.typeParameters=f,D},l);if(!h.error&&!h.aborted)return f&&this.reportReservedArrowTypeParam(f),h.node;if(!c&&(xp(!this.hasPlugin("jsx")),p=this.tryParse(()=>super.parseMaybeAssign(e,r),l),!p.error))return p.node;if((s=c)!=null&&s.node)return this.state=c.failState,c.node;if(h.node)return this.state=h.failState,f&&this.reportReservedArrowTypeParam(f),h.node;if((a=p)!=null&&a.node)return this.state=p.failState,p.node;throw((o=c)==null?void 0:o.error)||h.error||((u=p)==null?void 0:u.error)}reportReservedArrowTypeParam(e){var r;e.params.length===1&&!e.params[0].constraint&&!((r=e.extra)!=null&&r.trailingComma)&&this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(B.ReservedArrowTypeParam,e)}parseMaybeUnary(e,r){return!this.hasPlugin("jsx")&&this.match(47)?this.tsParseTypeAssertion():super.parseMaybeUnary(e,r)}parseArrow(e){if(this.match(14)){let r=this.tryParse(n=>{let s=this.tsParseTypeOrTypePredicateAnnotation(14);return(this.canInsertSemicolon()||!this.match(19))&&n(),s});if(r.aborted)return;r.thrown||(r.error&&(this.state=r.failState),e.returnType=r.node)}return super.parseArrow(e)}parseAssignableListItemTypes(e,r){if(!(r&2))return e;this.eat(17)&&(e.optional=!0);let n=this.tsTryParseTypeAnnotation();return n&&(e.typeAnnotation=n),this.resetEndLocation(e),e}isAssignable(e,r){switch(e.type){case"TSTypeCastExpression":return this.isAssignable(e.expression,r);case"TSParameterProperty":return!0;default:return super.isAssignable(e,r)}}toAssignable(e,r=!1){switch(e.type){case"ParenthesizedExpression":this.toAssignableParenthesizedExpression(e,r);break;case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":r?this.expressionScope.recordArrowParameterBindingError(B.UnexpectedTypeCastInParameter,e):this.raise(B.UnexpectedTypeCastInParameter,e),this.toAssignable(e.expression,r);break;case"AssignmentExpression":!r&&e.left.type==="TSTypeCastExpression"&&(e.left=this.typeCastToParameter(e.left));default:super.toAssignable(e,r)}}toAssignableParenthesizedExpression(e,r){switch(e.expression.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":case"ParenthesizedExpression":this.toAssignable(e.expression,r);break;default:super.toAssignable(e,r)}}checkToRestConversion(e,r){switch(e.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":this.checkToRestConversion(e.expression,!1);break;default:super.checkToRestConversion(e,r)}}isValidLVal(e,r,n){switch(e){case"TSTypeCastExpression":return!0;case"TSParameterProperty":return"parameter";case"TSNonNullExpression":case"TSInstantiationExpression":return"expression";case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":return(n!==64||!r)&&["expression",!0];default:return super.isValidLVal(e,r,n)}}parseBindingAtom(){return this.state.type===78?this.parseIdentifier(!0):super.parseBindingAtom()}parseMaybeDecoratorArguments(e){if(this.match(47)||this.match(51)){let r=this.tsParseTypeArgumentsInExpression();if(this.match(10)){let n=super.parseMaybeDecoratorArguments(e);return n.typeParameters=r,n}this.unexpected(null,10)}return super.parseMaybeDecoratorArguments(e)}checkCommaAfterRest(e){return this.state.isAmbientContext&&this.match(12)&&this.lookaheadCharCode()===e?(this.next(),!1):super.checkCommaAfterRest(e)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(35)||this.match(14)||super.isClassProperty()}parseMaybeDefault(e,r){let n=super.parseMaybeDefault(e,r);return n.type==="AssignmentPattern"&&n.typeAnnotation&&n.right.start<n.typeAnnotation.start&&this.raise(B.TypeAnnotationAfterAssign,n.typeAnnotation),n}getTokenFromCode(e){if(this.state.inType){if(e===62){this.finishOp(48,1);return}if(e===60){this.finishOp(47,1);return}}super.getTokenFromCode(e)}reScan_lt_gt(){let{type:e}=this.state;e===47?(this.state.pos-=1,this.readToken_lt()):e===48&&(this.state.pos-=1,this.readToken_gt())}reScan_lt(){let{type:e}=this.state;return e===51?(this.state.pos-=2,this.finishOp(47,1),47):e}toAssignableList(e,r,n){for(let s=0;s<e.length;s++){let a=e[s];a?.type==="TSTypeCastExpression"&&(e[s]=this.typeCastToParameter(a))}super.toAssignableList(e,r,n)}typeCastToParameter(e){return e.expression.typeAnnotation=e.typeAnnotation,this.resetEndLocation(e.expression,e.typeAnnotation.loc.end),e.expression}shouldParseArrow(e){return this.match(14)?e.every(r=>this.isAssignable(r,!0)):super.shouldParseArrow(e)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}canHaveLeadingDecorator(){return super.canHaveLeadingDecorator()||this.isAbstractClass()}jsxParseOpeningElementAfterName(e){if(this.match(47)||this.match(51)){let r=this.tsTryParseAndCatch(()=>this.tsParseTypeArgumentsInExpression());r&&(e.typeParameters=r)}return super.jsxParseOpeningElementAfterName(e)}getGetterSetterExpectedParamCount(e){let r=super.getGetterSetterExpectedParamCount(e),s=this.getObjectOrClassMethodParams(e)[0];return s&&this.isThisParam(s)?r+1:r}parseCatchClauseParam(){let e=super.parseCatchClauseParam(),r=this.tsTryParseTypeAnnotation();return r&&(e.typeAnnotation=r,this.resetEndLocation(e)),e}tsInAmbientContext(e){let{isAmbientContext:r,strict:n}=this.state;this.state.isAmbientContext=!0,this.state.strict=!1;try{return e()}finally{this.state.isAmbientContext=r,this.state.strict=n}}parseClass(e,r,n){let s=this.state.inAbstractClass;this.state.inAbstractClass=!!e.abstract;try{return super.parseClass(e,r,n)}finally{this.state.inAbstractClass=s}}tsParseAbstractDeclaration(e,r){if(this.match(80))return e.abstract=!0,this.maybeTakeDecorators(r,this.parseClass(e,!0,!1));if(this.isContextual(129)){if(!this.hasFollowingLineBreak())return e.abstract=!0,this.raise(B.NonClassMethodPropertyHasAbstractModifer,e),this.tsParseInterfaceDeclaration(e)}else this.unexpected(null,80)}parseMethod(e,r,n,s,a,o,u){let l=super.parseMethod(e,r,n,s,a,o,u);if(l.abstract&&(this.hasPlugin("estree")?!!l.value.body:!!l.body)){let{key:p}=l;this.raise(B.AbstractMethodHasImplementation,l,{methodName:p.type==="Identifier"&&!l.computed?p.name:`[${this.input.slice(p.start,p.end)}]`})}return l}tsParseTypeParameterName(){return this.parseIdentifier().name}shouldParseAsAmbientContext(){return!!this.getPluginOption("typescript","dts")}parse(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.parse()}getExpression(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.getExpression()}parseExportSpecifier(e,r,n,s){return!r&&s?(this.parseTypeOnlyImportExportSpecifier(e,!1,n),this.finishNode(e,"ExportSpecifier")):(e.exportKind="value",super.parseExportSpecifier(e,r,n,s))}parseImportSpecifier(e,r,n,s,a){return!r&&s?(this.parseTypeOnlyImportExportSpecifier(e,!0,n),this.finishNode(e,"ImportSpecifier")):(e.importKind="value",super.parseImportSpecifier(e,r,n,s,n?4098:4096))}parseTypeOnlyImportExportSpecifier(e,r,n){let s=r?"imported":"local",a=r?"local":"exported",o=e[s],u,l=!1,c=!0,p=o.loc.start;if(this.isContextual(93)){let h=this.parseIdentifier();if(this.isContextual(93)){let d=this.parseIdentifier();wt(this.state.type)?(l=!0,o=h,u=r?this.parseIdentifier():this.parseModuleExportName(),c=!1):(u=d,c=!1)}else wt(this.state.type)?(c=!1,u=r?this.parseIdentifier():this.parseModuleExportName()):(l=!0,o=h)}else wt(this.state.type)&&(l=!0,r?(o=this.parseIdentifier(!0),this.isContextual(93)||this.checkReservedWord(o.name,o.loc.start,!0,!0)):o=this.parseModuleExportName());l&&n&&this.raise(r?B.TypeModifierIsUsedInTypeImports:B.TypeModifierIsUsedInTypeExports,p),e[s]=o,e[a]=u;let f=r?"importKind":"exportKind";e[f]=l?"type":"value",c&&this.eatContextual(93)&&(e[a]=r?this.parseIdentifier():this.parseModuleExportName()),e[a]||(e[a]=cr(e[s])),r&&this.checkIdentifier(e[a],l?4098:4096)}};function Sx(t){if(t.type!=="MemberExpression")return!1;let{computed:i,property:e}=t;return i&&e.type!=="StringLiteral"&&(e.type!=="TemplateLiteral"||e.expressions.length>0)?!1:_p(t.object)}function Px(t,i){var e;let{type:r}=t;if((e=t.extra)!=null&&e.parenthesized)return!1;if(i){if(r==="Literal"){let{value:n}=t;if(typeof n=="string"||typeof n=="boolean")return!0}}else if(r==="StringLiteral"||r==="BooleanLiteral")return!0;return!!(Mp(t,i)||Ax(t,i)||r==="TemplateLiteral"&&t.expressions.length===0||Sx(t))}function Mp(t,i){return i?t.type==="Literal"&&(typeof t.value=="number"||"bigint"in t):t.type==="NumericLiteral"||t.type==="BigIntLiteral"}function Ax(t,i){if(t.type==="UnaryExpression"){let{operator:e,argument:r}=t;if(e==="-"&&Mp(r,i))return!0}return!1}function _p(t){return t.type==="Identifier"?!0:t.type!=="MemberExpression"||t.computed?!1:_p(t.object)}var bp=lr`placeholders`({ClassNameIsRequired:"A class name is required.",UnexpectedSpace:"Unexpected space in placeholder."}),Tx=t=>class extends t{parsePlaceholder(e){if(this.match(144)){let r=this.startNode();return this.next(),this.assertNoSpace(),r.name=super.parseIdentifier(!0),this.assertNoSpace(),this.expect(144),this.finishPlaceholder(r,e)}}finishPlaceholder(e,r){let n=e;return(!n.expectedNode||!n.type)&&(n=this.finishNode(n,"Placeholder")),n.expectedNode=r,n}getTokenFromCode(e){e===37&&this.input.charCodeAt(this.state.pos+1)===37?this.finishOp(144,2):super.getTokenFromCode(e)}parseExprAtom(e){return this.parsePlaceholder("Expression")||super.parseExprAtom(e)}parseIdentifier(e){return this.parsePlaceholder("Identifier")||super.parseIdentifier(e)}checkReservedWord(e,r,n,s){e!==void 0&&super.checkReservedWord(e,r,n,s)}parseBindingAtom(){return this.parsePlaceholder("Pattern")||super.parseBindingAtom()}isValidLVal(e,r,n){return e==="Placeholder"||super.isValidLVal(e,r,n)}toAssignable(e,r){e&&e.type==="Placeholder"&&e.expectedNode==="Expression"?e.expectedNode="Pattern":super.toAssignable(e,r)}chStartsBindingIdentifier(e,r){return!!(super.chStartsBindingIdentifier(e,r)||this.lookahead().type===144)}verifyBreakContinue(e,r){e.label&&e.label.type==="Placeholder"||super.verifyBreakContinue(e,r)}parseExpressionStatement(e,r){var n;if(r.type!=="Placeholder"||(n=r.extra)!=null&&n.parenthesized)return super.parseExpressionStatement(e,r);if(this.match(14)){let a=e;return a.label=this.finishPlaceholder(r,"Identifier"),this.next(),a.body=super.parseStatementOrSloppyAnnexBFunctionDeclaration(),this.finishNode(a,"LabeledStatement")}this.semicolon();let s=e;return s.name=r.name,this.finishPlaceholder(s,"Statement")}parseBlock(e,r,n){return this.parsePlaceholder("BlockStatement")||super.parseBlock(e,r,n)}parseFunctionId(e){return this.parsePlaceholder("Identifier")||super.parseFunctionId(e)}parseClass(e,r,n){let s=r?"ClassDeclaration":"ClassExpression";this.next();let a=this.state.strict,o=this.parsePlaceholder("Identifier");if(o)if(this.match(81)||this.match(144)||this.match(5))e.id=o;else{if(n||!r)return e.id=null,e.body=this.finishPlaceholder(o,"ClassBody"),this.finishNode(e,s);throw this.raise(bp.ClassNameIsRequired,this.state.startLoc)}else this.parseClassId(e,r,n);return super.parseClassSuper(e),e.body=this.parsePlaceholder("ClassBody")||super.parseClassBody(!!e.superClass,a),this.finishNode(e,s)}parseExport(e,r){let n=this.parsePlaceholder("Identifier");if(!n)return super.parseExport(e,r);let s=e;if(!this.isContextual(98)&&!this.match(12))return s.specifiers=[],s.source=null,s.declaration=this.finishPlaceholder(n,"Declaration"),this.finishNode(s,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");let a=this.startNode();return a.exported=n,s.specifiers=[this.finishNode(a,"ExportDefaultSpecifier")],super.parseExport(s,r)}isExportDefaultSpecifier(){if(this.match(65)){let e=this.nextTokenStart();if(this.isUnparsedContextual(e,"from")&&this.input.startsWith(Er(144),this.nextTokenStartSince(e+4)))return!0}return super.isExportDefaultSpecifier()}maybeParseExportDefaultSpecifier(e,r){var n;return(n=e.specifiers)!=null&&n.length?!0:super.maybeParseExportDefaultSpecifier(e,r)}checkExport(e){let{specifiers:r}=e;r!=null&&r.length&&(e.specifiers=r.filter(n=>n.exported.type==="Placeholder")),super.checkExport(e),e.specifiers=r}parseImport(e){let r=this.parsePlaceholder("Identifier");if(!r)return super.parseImport(e);if(e.specifiers=[],!this.isContextual(98)&&!this.match(12))return e.source=this.finishPlaceholder(r,"StringLiteral"),this.semicolon(),this.finishNode(e,"ImportDeclaration");let n=this.startNodeAtNode(r);return n.local=r,e.specifiers.push(this.finishNode(n,"ImportDefaultSpecifier")),this.eat(12)&&(this.maybeParseStarImportSpecifier(e)||this.parseNamedImportSpecifiers(e)),this.expectContextual(98),e.source=this.parseImportSource(),this.semicolon(),this.finishNode(e,"ImportDeclaration")}parseImportSource(){return this.parsePlaceholder("StringLiteral")||super.parseImportSource()}assertNoSpace(){this.state.start>this.state.lastTokEndLoc.index&&this.raise(bp.UnexpectedSpace,this.state.lastTokEndLoc)}},wx=t=>class extends t{parseV8Intrinsic(){if(this.match(54)){let e=this.state.startLoc,r=this.startNode();if(this.next(),se(this.state.type)){let n=this.parseIdentifierName(),s=this.createIdentifier(r,n);if(s.type="V8IntrinsicIdentifier",this.match(10))return s}this.unexpected(e)}}parseExprAtom(e){return this.parseV8Intrinsic()||super.parseExprAtom(e)}},Ep=["minimal","fsharp","hack","smart"],Sp=["^^","@@","^","%","#"];function vx(t){if(t.has("decorators")){if(t.has("decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");let e=t.get("decorators").decoratorsBeforeExport;if(e!=null&&typeof e!="boolean")throw new Error("'decoratorsBeforeExport' must be a boolean, if specified.");let r=t.get("decorators").allowCallParenthesized;if(r!=null&&typeof r!="boolean")throw new Error("'allowCallParenthesized' must be a boolean.")}if(t.has("flow")&&t.has("typescript"))throw new Error("Cannot combine flow and typescript plugins.");if(t.has("placeholders")&&t.has("v8intrinsic"))throw new Error("Cannot combine placeholders and v8intrinsic plugins.");if(t.has("pipelineOperator")){var i;let e=t.get("pipelineOperator").proposal;if(!Ep.includes(e)){let n=Ep.map(s=>`"${s}"`).join(", ");throw new Error(`"pipelineOperator" requires "proposal" option whose value must be one of: ${n}.`)}let r=((i=t.get("recordAndTuple"))==null?void 0:i.syntaxType)==="hash";if(e==="hack"){if(t.has("placeholders"))throw new Error("Cannot combine placeholders plugin and Hack-style pipes.");if(t.has("v8intrinsic"))throw new Error("Cannot combine v8intrinsic plugin and Hack-style pipes.");let n=t.get("pipelineOperator").topicToken;if(!Sp.includes(n)){let s=Sp.map(a=>`"${a}"`).join(", ");throw new Error(`"pipelineOperator" in "proposal": "hack" mode also requires a "topicToken" option whose value must be one of: ${s}.`)}if(n==="#"&&r)throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "hack", topicToken: "#" }]\` and \`${JSON.stringify(["recordAndTuple",t.get("recordAndTuple")])}\`.`)}else if(e==="smart"&&r)throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "smart" }]\` and \`${JSON.stringify(["recordAndTuple",t.get("recordAndTuple")])}\`.`)}if(t.has("moduleAttributes")){if(t.has("importAttributes")||t.has("importAssertions"))throw new Error("Cannot combine importAssertions, importAttributes and moduleAttributes plugins.");if(t.get("moduleAttributes").version!=="may-2020")throw new Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.")}if(t.has("importAttributes")&&t.has("importAssertions"))throw new Error("Cannot combine importAssertions and importAttributes plugins.");if(t.has("recordAndTuple")){let e=t.get("recordAndTuple").syntaxType;if(e!=null){let r=["hash","bar"];if(!r.includes(e))throw new Error("The 'syntaxType' option of the 'recordAndTuple' plugin must be one of: "+r.map(n=>`'${n}'`).join(", "))}}if(t.has("asyncDoExpressions")&&!t.has("doExpressions")){let e=new Error("'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.");throw e.missingPlugins="doExpressions",e}if(t.has("optionalChainingAssign")&&t.get("optionalChainingAssign").version!=="2023-07")throw new Error("The 'optionalChainingAssign' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is '2023-07'.")}var jp={estree:Iy,jsx:yx,flow:gx,typescript:Ex,v8intrinsic:wx,placeholders:Tx},Fx=Object.keys(jp),Qa={sourceType:"script",sourceFilename:void 0,startColumn:0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowNewTargetOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,plugins:[],strictMode:null,ranges:!1,tokens:!1,createImportExpressions:!1,createParenthesizedExpressions:!1,errorRecovery:!1,attachComment:!0,annexB:!0};function Ix(t){if(t==null)return Object.assign({},Qa);if(t.annexB!=null&&t.annexB!==!1)throw new Error("The `annexB` option can only be set to `false`.");let i={};for(let r of Object.keys(Qa)){var e;i[r]=(e=t[r])!=null?e:Qa[r]}return i}var xo=class extends yo{checkProto(i,e,r,n){if(i.type==="SpreadElement"||this.isObjectMethod(i)||i.computed||i.shorthand)return;let s=i.key;if((s.type==="Identifier"?s.name:s.value)==="__proto__"){if(e){this.raise(y.RecordNoProto,s);return}r.used&&(n?n.doubleProtoLoc===null&&(n.doubleProtoLoc=s.loc.start):this.raise(y.DuplicateProto,s)),r.used=!0}}shouldExitDescending(i,e){return i.type==="ArrowFunctionExpression"&&i.start===e}getExpression(){this.enterInitialScopes(),this.nextToken();let i=this.parseExpression();return this.match(139)||this.unexpected(),this.finalizeRemainingComments(),i.comments=this.comments,i.errors=this.state.errors,this.options.tokens&&(i.tokens=this.tokens),i}parseExpression(i,e){return i?this.disallowInAnd(()=>this.parseExpressionBase(e)):this.allowInAnd(()=>this.parseExpressionBase(e))}parseExpressionBase(i){let e=this.state.startLoc,r=this.parseMaybeAssign(i);if(this.match(12)){let n=this.startNodeAt(e);for(n.expressions=[r];this.eat(12);)n.expressions.push(this.parseMaybeAssign(i));return this.toReferencedList(n.expressions),this.finishNode(n,"SequenceExpression")}return r}parseMaybeAssignDisallowIn(i,e){return this.disallowInAnd(()=>this.parseMaybeAssign(i,e))}parseMaybeAssignAllowIn(i,e){return this.allowInAnd(()=>this.parseMaybeAssign(i,e))}setOptionalParametersError(i,e){var r;i.optionalParametersLoc=(r=e?.loc)!=null?r:this.state.startLoc}parseMaybeAssign(i,e){let r=this.state.startLoc;if(this.isContextual(108)&&this.prodParam.hasYield){let o=this.parseYield();return e&&(o=e.call(this,o,r)),o}let n;i?n=!1:(i=new di,n=!0);let{type:s}=this.state;(s===10||se(s))&&(this.state.potentialArrowAt=this.state.start);let a=this.parseMaybeConditional(i);if(e&&(a=e.call(this,a,r)),Oy(this.state.type)){let o=this.startNodeAt(r),u=this.state.value;if(o.operator=u,this.match(29)){this.toAssignable(a,!0),o.left=a;let l=r.index;i.doubleProtoLoc!=null&&i.doubleProtoLoc.index>=l&&(i.doubleProtoLoc=null),i.shorthandAssignLoc!=null&&i.shorthandAssignLoc.index>=l&&(i.shorthandAssignLoc=null),i.privateKeyLoc!=null&&i.privateKeyLoc.index>=l&&(this.checkDestructuringPrivate(i),i.privateKeyLoc=null)}else o.left=a;return this.next(),o.right=this.parseMaybeAssign(),this.checkLVal(a,this.finishNode(o,"AssignmentExpression")),o}else n&&this.checkExpressionErrors(i,!0);return a}parseMaybeConditional(i){let e=this.state.startLoc,r=this.state.potentialArrowAt,n=this.parseExprOps(i);return this.shouldExitDescending(n,r)?n:this.parseConditional(n,e,i)}parseConditional(i,e,r){if(this.eat(17)){let n=this.startNodeAt(e);return n.test=i,n.consequent=this.parseMaybeAssignAllowIn(),this.expect(14),n.alternate=this.parseMaybeAssign(),this.finishNode(n,"ConditionalExpression")}return i}parseMaybeUnaryOrPrivate(i){return this.match(138)?this.parsePrivateName():this.parseMaybeUnary(i)}parseExprOps(i){let e=this.state.startLoc,r=this.state.potentialArrowAt,n=this.parseMaybeUnaryOrPrivate(i);return this.shouldExitDescending(n,r)?n:this.parseExprOp(n,e,-1)}parseExprOp(i,e,r){if(this.isPrivateName(i)){let s=this.getPrivateNameSV(i);(r>=rs(58)||!this.prodParam.hasIn||!this.match(58))&&this.raise(y.PrivateInExpectedIn,i,{identifierName:s}),this.classScope.usePrivateName(s,i.loc.start)}let n=this.state.type;if(My(n)&&(this.prodParam.hasIn||!this.match(58))){let s=rs(n);if(s>r){if(n===39){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return i;this.checkPipelineAtInfixOperator(i,e)}let a=this.startNodeAt(e);a.left=i,a.operator=this.state.value;let o=n===41||n===42,u=n===40;if(u&&(s=rs(42)),this.next(),n===39&&this.hasPlugin(["pipelineOperator",{proposal:"minimal"}])&&this.state.type===96&&this.prodParam.hasAwait)throw this.raise(y.UnexpectedAwaitAfterPipelineBody,this.state.startLoc);a.right=this.parseExprOpRightExpr(n,s);let l=this.finishNode(a,o||u?"LogicalExpression":"BinaryExpression"),c=this.state.type;if(u&&(c===41||c===42)||o&&c===40)throw this.raise(y.MixingCoalesceWithLogical,this.state.startLoc);return this.parseExprOp(l,e,r)}}return i}parseExprOpRightExpr(i,e){let r=this.state.startLoc;switch(i){case 39:switch(this.getPluginOption("pipelineOperator","proposal")){case"hack":return this.withTopicBindingContext(()=>this.parseHackPipeBody());case"smart":return this.withTopicBindingContext(()=>{if(this.prodParam.hasYield&&this.isContextual(108))throw this.raise(y.PipeBodyIsTighter,this.state.startLoc);return this.parseSmartPipelineBodyInStyle(this.parseExprOpBaseRightExpr(i,e),r)});case"fsharp":return this.withSoloAwaitPermittingContext(()=>this.parseFSharpPipelineBody(e))}default:return this.parseExprOpBaseRightExpr(i,e)}}parseExprOpBaseRightExpr(i,e){let r=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnaryOrPrivate(),r,Uy(i)?e-1:e)}parseHackPipeBody(){var i;let{startLoc:e}=this.state,r=this.parseMaybeAssign();return Ay.has(r.type)&&!((i=r.extra)!=null&&i.parenthesized)&&this.raise(y.PipeUnparenthesizedBody,e,{type:r.type}),this.topicReferenceWasUsedInCurrentContext()||this.raise(y.PipeTopicUnused,e),r}checkExponentialAfterUnary(i){this.match(57)&&this.raise(y.UnexpectedTokenUnaryExponentiation,i.argument)}parseMaybeUnary(i,e){let r=this.state.startLoc,n=this.isContextual(96);if(n&&this.recordAwaitIfAllowed()){this.next();let u=this.parseAwait(r);return e||this.checkExponentialAfterUnary(u),u}let s=this.match(34),a=this.startNode();if(jy(this.state.type)){a.operator=this.state.value,a.prefix=!0,this.match(72)&&this.expectPlugin("throwExpressions");let u=this.match(89);if(this.next(),a.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(i,!0),this.state.strict&&u){let l=a.argument;l.type==="Identifier"?this.raise(y.StrictDelete,a):this.hasPropertyAsPrivateName(l)&&this.raise(y.DeletePrivateField,a)}if(!s)return e||this.checkExponentialAfterUnary(a),this.finishNode(a,"UnaryExpression")}let o=this.parseUpdate(a,s,i);if(n){let{type:u}=this.state;if((this.hasPlugin("v8intrinsic")?eo(u):eo(u)&&!this.match(54))&&!this.isAmbiguousAwait())return this.raiseOverwrite(y.AwaitNotInAsyncContext,r),this.parseAwait(r)}return o}parseUpdate(i,e,r){if(e){let a=i;return this.checkLVal(a.argument,this.finishNode(a,"UpdateExpression")),i}let n=this.state.startLoc,s=this.parseExprSubscripts(r);if(this.checkExpressionErrors(r,!1))return s;for(;_y(this.state.type)&&!this.canInsertSemicolon();){let a=this.startNodeAt(n);a.operator=this.state.value,a.prefix=!1,a.argument=s,this.next(),this.checkLVal(s,s=this.finishNode(a,"UpdateExpression"))}return s}parseExprSubscripts(i){let e=this.state.startLoc,r=this.state.potentialArrowAt,n=this.parseExprAtom(i);return this.shouldExitDescending(n,r)?n:this.parseSubscripts(n,e)}parseSubscripts(i,e,r){let n={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(i),stop:!1};do i=this.parseSubscript(i,e,r,n),n.maybeAsyncArrow=!1;while(!n.stop);return i}parseSubscript(i,e,r,n){let{type:s}=this.state;if(!r&&s===15)return this.parseBind(i,e,r,n);if(ss(s))return this.parseTaggedTemplateExpression(i,e,n);let a=!1;if(s===18){if(r&&(this.raise(y.OptionalChainingNoNew,this.state.startLoc),this.lookaheadCharCode()===40))return n.stop=!0,i;n.optionalChainMember=a=!0,this.next()}if(!r&&this.match(10))return this.parseCoverCallAndAsyncArrowHead(i,e,n,a);{let o=this.eat(0);return o||a||this.eat(16)?this.parseMember(i,e,n,o,a):(n.stop=!0,i)}}parseMember(i,e,r,n,s){let a=this.startNodeAt(e);return a.object=i,a.computed=n,n?(a.property=this.parseExpression(),this.expect(3)):this.match(138)?(i.type==="Super"&&this.raise(y.SuperPrivateField,e),this.classScope.usePrivateName(this.state.value,this.state.startLoc),a.property=this.parsePrivateName()):a.property=this.parseIdentifier(!0),r.optionalChainMember?(a.optional=s,this.finishNode(a,"OptionalMemberExpression")):this.finishNode(a,"MemberExpression")}parseBind(i,e,r,n){let s=this.startNodeAt(e);return s.object=i,this.next(),s.callee=this.parseNoCallExpr(),n.stop=!0,this.parseSubscripts(this.finishNode(s,"BindExpression"),e,r)}parseCoverCallAndAsyncArrowHead(i,e,r,n){let s=this.state.maybeInArrowParameters,a=null;this.state.maybeInArrowParameters=!0,this.next();let o=this.startNodeAt(e);o.callee=i;let{maybeAsyncArrow:u,optionalChainMember:l}=r;u&&(this.expressionScope.enter(ux()),a=new di),l&&(o.optional=n),n?o.arguments=this.parseCallExpressionArguments(11):o.arguments=this.parseCallExpressionArguments(11,i.type==="Import",i.type!=="Super",o,a);let c=this.finishCallExpression(o,l);return u&&this.shouldParseAsyncArrow()&&!n?(r.stop=!0,this.checkDestructuringPrivate(a),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),c=this.parseAsyncArrowFromCallExpression(this.startNodeAt(e),c)):(u&&(this.checkExpressionErrors(a,!0),this.expressionScope.exit()),this.toReferencedArguments(c)),this.state.maybeInArrowParameters=s,c}toReferencedArguments(i,e){this.toReferencedListDeep(i.arguments,e)}parseTaggedTemplateExpression(i,e,r){let n=this.startNodeAt(e);return n.tag=i,n.quasi=this.parseTemplate(!0),r.optionalChainMember&&this.raise(y.OptionalChainingNoTemplate,e),this.finishNode(n,"TaggedTemplateExpression")}atPossibleAsyncArrow(i){return i.type==="Identifier"&&i.name==="async"&&this.state.lastTokEndLoc.index===i.end&&!this.canInsertSemicolon()&&i.end-i.start===5&&i.start===this.state.potentialArrowAt}expectImportAttributesPlugin(){this.hasPlugin("importAssertions")||this.expectPlugin("importAttributes")}finishCallExpression(i,e){if(i.callee.type==="Import")if(i.arguments.length===2&&(this.hasPlugin("moduleAttributes")||this.expectImportAttributesPlugin()),i.arguments.length===0||i.arguments.length>2)this.raise(y.ImportCallArity,i,{maxArgumentCount:this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions")||this.hasPlugin("moduleAttributes")?2:1});else for(let r of i.arguments)r.type==="SpreadElement"&&this.raise(y.ImportCallSpreadArgument,r);return this.finishNode(i,e?"OptionalCallExpression":"CallExpression")}parseCallExpressionArguments(i,e,r,n,s){let a=[],o=!0,u=this.state.inFSharpPipelineDirectBody;for(this.state.inFSharpPipelineDirectBody=!1;!this.eat(i);){if(o)o=!1;else if(this.expect(12),this.match(i)){e&&!this.hasPlugin("importAttributes")&&!this.hasPlugin("importAssertions")&&!this.hasPlugin("moduleAttributes")&&this.raise(y.ImportCallArgumentTrailingComma,this.state.lastTokStartLoc),n&&this.addTrailingCommaExtraToNode(n),this.next();break}a.push(this.parseExprListItem(!1,s,r))}return this.state.inFSharpPipelineDirectBody=u,a}shouldParseAsyncArrow(){return this.match(19)&&!this.canInsertSemicolon()}parseAsyncArrowFromCallExpression(i,e){var r;return this.resetPreviousNodeTrailingComments(e),this.expect(19),this.parseArrowExpression(i,e.arguments,!0,(r=e.extra)==null?void 0:r.trailingCommaLoc),e.innerComments&&ln(i,e.innerComments),e.callee.trailingComments&&ln(i,e.callee.trailingComments),i}parseNoCallExpr(){let i=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),i,!0)}parseExprAtom(i){let e,r=null,{type:n}=this.state;switch(n){case 79:return this.parseSuper();case 83:return e=this.startNode(),this.next(),this.match(16)?this.parseImportMetaProperty(e):this.match(10)?this.options.createImportExpressions?this.parseImportCall(e):this.finishNode(e,"Import"):(this.raise(y.UnsupportedImport,this.state.lastTokStartLoc),this.finishNode(e,"Import"));case 78:return e=this.startNode(),this.next(),this.finishNode(e,"ThisExpression");case 90:return this.parseDo(this.startNode(),!1);case 56:case 31:return this.readRegexp(),this.parseRegExpLiteral(this.state.value);case 134:return this.parseNumericLiteral(this.state.value);case 135:return this.parseBigIntLiteral(this.state.value);case 136:return this.parseDecimalLiteral(this.state.value);case 133:return this.parseStringLiteral(this.state.value);case 84:return this.parseNullLiteral();case 85:return this.parseBooleanLiteral(!0);case 86:return this.parseBooleanLiteral(!1);case 10:{let s=this.state.potentialArrowAt===this.state.start;return this.parseParenAndDistinguishExpression(s)}case 2:case 1:return this.parseArrayLike(this.state.type===2?4:3,!1,!0);case 0:return this.parseArrayLike(3,!0,!1,i);case 6:case 7:return this.parseObjectLike(this.state.type===6?9:8,!1,!0);case 5:return this.parseObjectLike(8,!1,!1,i);case 68:return this.parseFunctionOrFunctionSent();case 26:r=this.parseDecorators();case 80:return this.parseClass(this.maybeTakeDecorators(r,this.startNode()),!1);case 77:return this.parseNewOrNewTarget();case 25:case 24:return this.parseTemplate(!1);case 15:{e=this.startNode(),this.next(),e.object=null;let s=e.callee=this.parseNoCallExpr();if(s.type==="MemberExpression")return this.finishNode(e,"BindExpression");throw this.raise(y.UnsupportedBind,s)}case 138:return this.raise(y.PrivateInExpectedIn,this.state.startLoc,{identifierName:this.state.value}),this.parsePrivateName();case 33:return this.parseTopicReferenceThenEqualsSign(54,"%");case 32:return this.parseTopicReferenceThenEqualsSign(44,"^");case 37:case 38:return this.parseTopicReference("hack");case 44:case 54:case 27:{let s=this.getPluginOption("pipelineOperator","proposal");if(s)return this.parseTopicReference(s);this.unexpected();break}case 47:{let s=this.input.codePointAt(this.nextTokenStart());ur(s)||s===62?this.expectOnePlugin(["jsx","flow","typescript"]):this.unexpected();break}default:if(se(n)){if(this.isContextual(127)&&this.lookaheadInLineCharCode()===123)return this.parseModuleExpression();let s=this.state.potentialArrowAt===this.state.start,a=this.state.containsEsc,o=this.parseIdentifier();if(!a&&o.name==="async"&&!this.canInsertSemicolon()){let{type:u}=this.state;if(u===68)return this.resetPreviousNodeTrailingComments(o),this.next(),this.parseAsyncFunctionExpression(this.startNodeAtNode(o));if(se(u))return this.lookaheadCharCode()===61?this.parseAsyncArrowUnaryFunction(this.startNodeAtNode(o)):o;if(u===90)return this.resetPreviousNodeTrailingComments(o),this.parseDo(this.startNodeAtNode(o),!0)}return s&&this.match(19)&&!this.canInsertSemicolon()?(this.next(),this.parseArrowExpression(this.startNodeAtNode(o),[o],!1)):o}else this.unexpected()}}parseTopicReferenceThenEqualsSign(i,e){let r=this.getPluginOption("pipelineOperator","proposal");if(r)return this.state.type=i,this.state.value=e,this.state.pos--,this.state.end--,this.state.endLoc=Qe(this.state.endLoc,-1),this.parseTopicReference(r);this.unexpected()}parseTopicReference(i){let e=this.startNode(),r=this.state.startLoc,n=this.state.type;return this.next(),this.finishTopicReference(e,r,i,n)}finishTopicReference(i,e,r,n){if(this.testTopicReferenceConfiguration(r,e,n)){let s=r==="smart"?"PipelinePrimaryTopicReference":"TopicReference";return this.topicReferenceIsAllowedInCurrentContext()||this.raise(r==="smart"?y.PrimaryTopicNotAllowed:y.PipeTopicUnbound,e),this.registerTopicReference(),this.finishNode(i,s)}else throw this.raise(y.PipeTopicUnconfiguredToken,e,{token:Er(n)})}testTopicReferenceConfiguration(i,e,r){switch(i){case"hack":return this.hasPlugin(["pipelineOperator",{topicToken:Er(r)}]);case"smart":return r===27;default:throw this.raise(y.PipeTopicRequiresHackPipes,e)}}parseAsyncArrowUnaryFunction(i){this.prodParam.enter(is(!0,this.prodParam.hasYield));let e=[this.parseIdentifier()];return this.prodParam.exit(),this.hasPrecedingLineBreak()&&this.raise(y.LineTerminatorBeforeArrow,this.state.curPosition()),this.expect(19),this.parseArrowExpression(i,e,!0)}parseDo(i,e){this.expectPlugin("doExpressions"),e&&this.expectPlugin("asyncDoExpressions"),i.async=e,this.next();let r=this.state.labels;return this.state.labels=[],e?(this.prodParam.enter(2),i.body=this.parseBlock(),this.prodParam.exit()):i.body=this.parseBlock(),this.state.labels=r,this.finishNode(i,"DoExpression")}parseSuper(){let i=this.startNode();return this.next(),this.match(10)&&!this.scope.allowDirectSuper&&!this.options.allowSuperOutsideMethod?this.raise(y.SuperNotAllowed,i):!this.scope.allowSuper&&!this.options.allowSuperOutsideMethod&&this.raise(y.UnexpectedSuper,i),!this.match(10)&&!this.match(0)&&!this.match(16)&&this.raise(y.UnsupportedSuper,i),this.finishNode(i,"Super")}parsePrivateName(){let i=this.startNode(),e=this.startNodeAt(Qe(this.state.startLoc,1)),r=this.state.value;return this.next(),i.id=this.createIdentifier(e,r),this.finishNode(i,"PrivateName")}parseFunctionOrFunctionSent(){let i=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(16)){let e=this.createIdentifier(this.startNodeAtNode(i),"function");return this.next(),this.match(103)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected(),this.parseMetaProperty(i,e,"sent")}return this.parseFunction(i)}parseMetaProperty(i,e,r){i.meta=e;let n=this.state.containsEsc;return i.property=this.parseIdentifier(!0),(i.property.name!==r||n)&&this.raise(y.UnsupportedMetaProperty,i.property,{target:e.name,onlyValidPropertyName:r}),this.finishNode(i,"MetaProperty")}parseImportMetaProperty(i){let e=this.createIdentifier(this.startNodeAtNode(i),"import");if(this.next(),this.isContextual(101))this.inModule||this.raise(y.ImportMetaOutsideModule,e),this.sawUnambiguousESM=!0;else if(this.isContextual(105)||this.isContextual(97)){let r=this.isContextual(105);if(r||this.unexpected(),this.expectPlugin(r?"sourcePhaseImports":"deferredImportEvaluation"),!this.options.createImportExpressions)throw this.raise(y.DynamicImportPhaseRequiresImportExpressions,this.state.startLoc,{phase:this.state.value});return this.next(),i.phase=r?"source":"defer",this.parseImportCall(i)}return this.parseMetaProperty(i,e,"meta")}parseLiteralAtNode(i,e,r){return this.addExtra(r,"rawValue",i),this.addExtra(r,"raw",this.input.slice(r.start,this.state.end)),r.value=i,this.next(),this.finishNode(r,e)}parseLiteral(i,e){let r=this.startNode();return this.parseLiteralAtNode(i,e,r)}parseStringLiteral(i){return this.parseLiteral(i,"StringLiteral")}parseNumericLiteral(i){return this.parseLiteral(i,"NumericLiteral")}parseBigIntLiteral(i){return this.parseLiteral(i,"BigIntLiteral")}parseDecimalLiteral(i){return this.parseLiteral(i,"DecimalLiteral")}parseRegExpLiteral(i){let e=this.startNode();return this.addExtra(e,"raw",this.input.slice(e.start,this.state.end)),e.pattern=i.pattern,e.flags=i.flags,this.next(),this.finishNode(e,"RegExpLiteral")}parseBooleanLiteral(i){let e=this.startNode();return e.value=i,this.next(),this.finishNode(e,"BooleanLiteral")}parseNullLiteral(){let i=this.startNode();return this.next(),this.finishNode(i,"NullLiteral")}parseParenAndDistinguishExpression(i){let e=this.state.startLoc,r;this.next(),this.expressionScope.enter(ox());let n=this.state.maybeInArrowParameters,s=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.inFSharpPipelineDirectBody=!1;let a=this.state.startLoc,o=[],u=new di,l=!0,c,p;for(;!this.match(11);){if(l)l=!1;else if(this.expect(12,u.optionalParametersLoc===null?null:u.optionalParametersLoc),this.match(11)){p=this.state.startLoc;break}if(this.match(21)){let d=this.state.startLoc;if(c=this.state.startLoc,o.push(this.parseParenItem(this.parseRestBinding(),d)),!this.checkCommaAfterRest(41))break}else o.push(this.parseMaybeAssignAllowIn(u,this.parseParenItem))}let f=this.state.lastTokEndLoc;this.expect(11),this.state.maybeInArrowParameters=n,this.state.inFSharpPipelineDirectBody=s;let h=this.startNodeAt(e);return i&&this.shouldParseArrow(o)&&(h=this.parseArrow(h))?(this.checkDestructuringPrivate(u),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),this.parseArrowExpression(h,o,!1),h):(this.expressionScope.exit(),o.length||this.unexpected(this.state.lastTokStartLoc),p&&this.unexpected(p),c&&this.unexpected(c),this.checkExpressionErrors(u,!0),this.toReferencedListDeep(o,!0),o.length>1?(r=this.startNodeAt(a),r.expressions=o,this.finishNode(r,"SequenceExpression"),this.resetEndLocation(r,f)):r=o[0],this.wrapParenthesis(e,r))}wrapParenthesis(i,e){if(!this.options.createParenthesizedExpressions)return this.addExtra(e,"parenthesized",!0),this.addExtra(e,"parenStart",i.index),this.takeSurroundingComments(e,i.index,this.state.lastTokEndLoc.index),e;let r=this.startNodeAt(i);return r.expression=e,this.finishNode(r,"ParenthesizedExpression")}shouldParseArrow(i){return!this.canInsertSemicolon()}parseArrow(i){if(this.eat(19))return i}parseParenItem(i,e){return i}parseNewOrNewTarget(){let i=this.startNode();if(this.next(),this.match(16)){let e=this.createIdentifier(this.startNodeAtNode(i),"new");this.next();let r=this.parseMetaProperty(i,e,"target");return!this.scope.inNonArrowFunction&&!this.scope.inClass&&!this.options.allowNewTargetOutsideFunction&&this.raise(y.UnexpectedNewTarget,r),r}return this.parseNew(i)}parseNew(i){if(this.parseNewCallee(i),this.eat(10)){let e=this.parseExprList(11);this.toReferencedList(e),i.arguments=e}else i.arguments=[];return this.finishNode(i,"NewExpression")}parseNewCallee(i){let e=this.match(83),r=this.parseNoCallExpr();i.callee=r,e&&(r.type==="Import"||r.type==="ImportExpression")&&this.raise(y.ImportCallNotNewExpression,r)}parseTemplateElement(i){let{start:e,startLoc:r,end:n,value:s}=this.state,a=e+1,o=this.startNodeAt(Qe(r,1));s===null&&(i||this.raise(y.InvalidEscapeSequenceTemplate,Qe(this.state.firstInvalidTemplateEscapePos,1)));let u=this.match(24),l=u?-1:-2,c=n+l;o.value={raw:this.input.slice(a,c).replace(/\r\n?/g,`
    `),cooked:s===null?null:s.slice(1,l)},o.tail=u,this.next();let p=this.finishNode(o,"TemplateElement");return this.resetEndLocation(p,Qe(this.state.lastTokEndLoc,l)),p}parseTemplate(i){let e=this.startNode(),r=this.parseTemplateElement(i),n=[r],s=[];for(;!r.tail;)s.push(this.parseTemplateSubstitution()),this.readTemplateContinuation(),n.push(r=this.parseTemplateElement(i));return e.expressions=s,e.quasis=n,this.finishNode(e,"TemplateLiteral")}parseTemplateSubstitution(){return this.parseExpression()}parseObjectLike(i,e,r,n){r&&this.expectPlugin("recordAndTuple");let s=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let a=Object.create(null),o=!0,u=this.startNode();for(u.properties=[],this.next();!this.match(i);){if(o)o=!1;else if(this.expect(12),this.match(i)){this.addTrailingCommaExtraToNode(u);break}let c;e?c=this.parseBindingProperty():(c=this.parsePropertyDefinition(n),this.checkProto(c,r,a,n)),r&&!this.isObjectProperty(c)&&c.type!=="SpreadElement"&&this.raise(y.InvalidRecordProperty,c),c.shorthand&&this.addExtra(c,"shorthand",!0),u.properties.push(c)}this.next(),this.state.inFSharpPipelineDirectBody=s;let l="ObjectExpression";return e?l="ObjectPattern":r&&(l="RecordExpression"),this.finishNode(u,l)}addTrailingCommaExtraToNode(i){this.addExtra(i,"trailingComma",this.state.lastTokStartLoc.index),this.addExtra(i,"trailingCommaLoc",this.state.lastTokStartLoc,!1)}maybeAsyncOrAccessorProp(i){return!i.computed&&i.key.type==="Identifier"&&(this.isLiteralPropertyName()||this.match(0)||this.match(55))}parsePropertyDefinition(i){let e=[];if(this.match(26))for(this.hasPlugin("decorators")&&this.raise(y.UnsupportedPropertyDecorator,this.state.startLoc);this.match(26);)e.push(this.parseDecorator());let r=this.startNode(),n=!1,s=!1,a;if(this.match(21))return e.length&&this.unexpected(),this.parseSpread();e.length&&(r.decorators=e,e=[]),r.method=!1,i&&(a=this.state.startLoc);let o=this.eat(55);this.parsePropertyNamePrefixOperator(r);let u=this.state.containsEsc;if(this.parsePropertyName(r,i),!o&&!u&&this.maybeAsyncOrAccessorProp(r)){let{key:l}=r,c=l.name;c==="async"&&!this.hasPrecedingLineBreak()&&(n=!0,this.resetPreviousNodeTrailingComments(l),o=this.eat(55),this.parsePropertyName(r)),(c==="get"||c==="set")&&(s=!0,this.resetPreviousNodeTrailingComments(l),r.kind=c,this.match(55)&&(o=!0,this.raise(y.AccessorIsGenerator,this.state.curPosition(),{kind:c}),this.next()),this.parsePropertyName(r))}return this.parseObjPropValue(r,a,o,n,!1,s,i)}getGetterSetterExpectedParamCount(i){return i.kind==="get"?0:1}getObjectOrClassMethodParams(i){return i.params}checkGetterSetterParams(i){var e;let r=this.getGetterSetterExpectedParamCount(i),n=this.getObjectOrClassMethodParams(i);n.length!==r&&this.raise(i.kind==="get"?y.BadGetterArity:y.BadSetterArity,i),i.kind==="set"&&((e=n[n.length-1])==null?void 0:e.type)==="RestElement"&&this.raise(y.BadSetterRestParameter,i)}parseObjectMethod(i,e,r,n,s){if(s){let a=this.parseMethod(i,e,!1,!1,!1,"ObjectMethod");return this.checkGetterSetterParams(a),a}if(r||e||this.match(10))return n&&this.unexpected(),i.kind="method",i.method=!0,this.parseMethod(i,e,r,!1,!1,"ObjectMethod")}parseObjectProperty(i,e,r,n){if(i.shorthand=!1,this.eat(14))return i.value=r?this.parseMaybeDefault(this.state.startLoc):this.parseMaybeAssignAllowIn(n),this.finishNode(i,"ObjectProperty");if(!i.computed&&i.key.type==="Identifier"){if(this.checkReservedWord(i.key.name,i.key.loc.start,!0,!1),r)i.value=this.parseMaybeDefault(e,cr(i.key));else if(this.match(29)){let s=this.state.startLoc;n!=null?n.shorthandAssignLoc===null&&(n.shorthandAssignLoc=s):this.raise(y.InvalidCoverInitializedName,s),i.value=this.parseMaybeDefault(e,cr(i.key))}else i.value=cr(i.key);return i.shorthand=!0,this.finishNode(i,"ObjectProperty")}}parseObjPropValue(i,e,r,n,s,a,o){let u=this.parseObjectMethod(i,r,n,s,a)||this.parseObjectProperty(i,e,s,o);return u||this.unexpected(),u}parsePropertyName(i,e){if(this.eat(0))i.computed=!0,i.key=this.parseMaybeAssignAllowIn(),this.expect(3);else{let{type:r,value:n}=this.state,s;if(wt(r))s=this.parseIdentifier(!0);else switch(r){case 134:s=this.parseNumericLiteral(n);break;case 133:s=this.parseStringLiteral(n);break;case 135:s=this.parseBigIntLiteral(n);break;case 136:s=this.parseDecimalLiteral(n);break;case 138:{let a=this.state.startLoc;e!=null?e.privateKeyLoc===null&&(e.privateKeyLoc=a):this.raise(y.UnexpectedPrivateField,a),s=this.parsePrivateName();break}default:this.unexpected()}i.key=s,r!==138&&(i.computed=!1)}}initFunction(i,e){i.id=null,i.generator=!1,i.async=e}parseMethod(i,e,r,n,s,a,o=!1){this.initFunction(i,r),i.generator=e,this.scope.enter(18|(o?64:0)|(s?32:0)),this.prodParam.enter(is(r,i.generator)),this.parseFunctionParams(i,n);let u=this.parseFunctionBodyAndFinish(i,a,!0);return this.prodParam.exit(),this.scope.exit(),u}parseArrayLike(i,e,r,n){r&&this.expectPlugin("recordAndTuple");let s=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let a=this.startNode();return this.next(),a.elements=this.parseExprList(i,!r,n,a),this.state.inFSharpPipelineDirectBody=s,this.finishNode(a,r?"TupleExpression":"ArrayExpression")}parseArrowExpression(i,e,r,n){this.scope.enter(6);let s=is(r,!1);!this.match(5)&&this.prodParam.hasIn&&(s|=8),this.prodParam.enter(s),this.initFunction(i,r);let a=this.state.maybeInArrowParameters;return e&&(this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(i,e,n)),this.state.maybeInArrowParameters=!1,this.parseFunctionBody(i,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=a,this.finishNode(i,"ArrowFunctionExpression")}setArrowFunctionParameters(i,e,r){this.toAssignableList(e,r,!1),i.params=e}parseFunctionBodyAndFinish(i,e,r=!1){return this.parseFunctionBody(i,!1,r),this.finishNode(i,e)}parseFunctionBody(i,e,r=!1){let n=e&&!this.match(5);if(this.expressionScope.enter(Op()),n)i.body=this.parseMaybeAssign(),this.checkParams(i,!1,e,!1);else{let s=this.state.strict,a=this.state.labels;this.state.labels=[],this.prodParam.enter(this.prodParam.currentFlags()|4),i.body=this.parseBlock(!0,!1,o=>{let u=!this.isSimpleParamList(i.params);o&&u&&this.raise(y.IllegalLanguageModeDirective,(i.kind==="method"||i.kind==="constructor")&&i.key?i.key.loc.end:i);let l=!s&&this.state.strict;this.checkParams(i,!this.state.strict&&!e&&!r&&!u,e,l),this.state.strict&&i.id&&this.checkIdentifier(i.id,65,l)}),this.prodParam.exit(),this.state.labels=a}this.expressionScope.exit()}isSimpleParameter(i){return i.type==="Identifier"}isSimpleParamList(i){for(let e=0,r=i.length;e<r;e++)if(!this.isSimpleParameter(i[e]))return!1;return!0}checkParams(i,e,r,n=!0){let s=!e&&new Set,a={type:"FormalParameters"};for(let o of i.params)this.checkLVal(o,a,5,s,n)}parseExprList(i,e,r,n){let s=[],a=!0;for(;!this.eat(i);){if(a)a=!1;else if(this.expect(12),this.match(i)){n&&this.addTrailingCommaExtraToNode(n),this.next();break}s.push(this.parseExprListItem(e,r))}return s}parseExprListItem(i,e,r){let n;if(this.match(12))i||this.raise(y.UnexpectedToken,this.state.curPosition(),{unexpected:","}),n=null;else if(this.match(21)){let s=this.state.startLoc;n=this.parseParenItem(this.parseSpread(e),s)}else if(this.match(17)){this.expectPlugin("partialApplication"),r||this.raise(y.UnexpectedArgumentPlaceholder,this.state.startLoc);let s=this.startNode();this.next(),n=this.finishNode(s,"ArgumentPlaceholder")}else n=this.parseMaybeAssignAllowIn(e,this.parseParenItem);return n}parseIdentifier(i){let e=this.startNode(),r=this.parseIdentifierName(i);return this.createIdentifier(e,r)}createIdentifier(i,e){return i.name=e,i.loc.identifierName=e,this.finishNode(i,"Identifier")}parseIdentifierName(i){let e,{startLoc:r,type:n}=this.state;wt(n)?e=this.state.value:this.unexpected();let s=By(n);return i?s&&this.replaceToken(132):this.checkReservedWord(e,r,s,!1),this.next(),e}checkReservedWord(i,e,r,n){if(i.length>10||!Yy(i))return;if(r&&Gy(i)){this.raise(y.UnexpectedKeyword,e,{keyword:i});return}if((this.state.strict?n?Np:Fp:vp)(i,this.inModule)){this.raise(y.UnexpectedReservedWord,e,{reservedWord:i});return}else if(i==="yield"){if(this.prodParam.hasYield){this.raise(y.YieldBindingIdentifier,e);return}}else if(i==="await"){if(this.prodParam.hasAwait){this.raise(y.AwaitBindingIdentifier,e);return}if(this.scope.inStaticBlock){this.raise(y.AwaitBindingIdentifierInStaticBlock,e);return}this.expressionScope.recordAsyncArrowParametersError(e)}else if(i==="arguments"&&this.scope.inClassAndNotInNonArrowFunction){this.raise(y.ArgumentsInClass,e);return}}recordAwaitIfAllowed(){let i=this.prodParam.hasAwait||this.options.allowAwaitOutsideFunction&&!this.scope.inFunction;return i&&!this.scope.inFunction&&(this.state.hasTopLevelAwait=!0),i}parseAwait(i){let e=this.startNodeAt(i);return this.expressionScope.recordParameterInitializerError(y.AwaitExpressionFormalParameter,e),this.eat(55)&&this.raise(y.ObsoleteAwaitStar,e),!this.scope.inFunction&&!this.options.allowAwaitOutsideFunction&&(this.isAmbiguousAwait()?this.ambiguousScriptDifferentAst=!0:this.sawUnambiguousESM=!0),this.state.soloAwait||(e.argument=this.parseMaybeUnary(null,!0)),this.finishNode(e,"AwaitExpression")}isAmbiguousAwait(){if(this.hasPrecedingLineBreak())return!0;let{type:i}=this.state;return i===53||i===10||i===0||ss(i)||i===102&&!this.state.containsEsc||i===137||i===56||this.hasPlugin("v8intrinsic")&&i===54}parseYield(){let i=this.startNode();this.expressionScope.recordParameterInitializerError(y.YieldInParameter,i),this.next();let e=!1,r=null;if(!this.hasPrecedingLineBreak())switch(e=this.eat(55),this.state.type){case 13:case 139:case 8:case 11:case 3:case 9:case 14:case 12:if(!e)break;default:r=this.parseMaybeAssign()}return i.delegate=e,i.argument=r,this.finishNode(i,"YieldExpression")}parseImportCall(i){return this.next(),i.source=this.parseMaybeAssignAllowIn(),(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))&&(i.options=null),this.eat(12)&&(this.expectImportAttributesPlugin(),this.match(11)||(i.options=this.parseMaybeAssignAllowIn(),this.eat(12))),this.expect(11),this.finishNode(i,"ImportExpression")}checkPipelineAtInfixOperator(i,e){this.hasPlugin(["pipelineOperator",{proposal:"smart"}])&&i.type==="SequenceExpression"&&this.raise(y.PipelineHeadSequenceExpression,e)}parseSmartPipelineBodyInStyle(i,e){if(this.isSimpleReference(i)){let r=this.startNodeAt(e);return r.callee=i,this.finishNode(r,"PipelineBareFunction")}else{let r=this.startNodeAt(e);return this.checkSmartPipeTopicBodyEarlyErrors(e),r.expression=i,this.finishNode(r,"PipelineTopicExpression")}}isSimpleReference(i){switch(i.type){case"MemberExpression":return!i.computed&&this.isSimpleReference(i.object);case"Identifier":return!0;default:return!1}}checkSmartPipeTopicBodyEarlyErrors(i){if(this.match(19))throw this.raise(y.PipelineBodyNoArrow,this.state.startLoc);this.topicReferenceWasUsedInCurrentContext()||this.raise(y.PipelineTopicUnused,i)}withTopicBindingContext(i){let e=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return i()}finally{this.state.topicContext=e}}withSmartMixTopicForbiddingContext(i){if(this.hasPlugin(["pipelineOperator",{proposal:"smart"}])){let e=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return i()}finally{this.state.topicContext=e}}else return i()}withSoloAwaitPermittingContext(i){let e=this.state.soloAwait;this.state.soloAwait=!0;try{return i()}finally{this.state.soloAwait=e}}allowInAnd(i){let e=this.prodParam.currentFlags();if(8&~e){this.prodParam.enter(e|8);try{return i()}finally{this.prodParam.exit()}}return i()}disallowInAnd(i){let e=this.prodParam.currentFlags();if(8&e){this.prodParam.enter(e&-9);try{return i()}finally{this.prodParam.exit()}}return i()}registerTopicReference(){this.state.topicContext.maxTopicIndex=0}topicReferenceIsAllowedInCurrentContext(){return this.state.topicContext.maxNumOfResolvableTopics>=1}topicReferenceWasUsedInCurrentContext(){return this.state.topicContext.maxTopicIndex!=null&&this.state.topicContext.maxTopicIndex>=0}parseFSharpPipelineBody(i){let e=this.state.startLoc;this.state.potentialArrowAt=this.state.start;let r=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;let n=this.parseExprOp(this.parseMaybeUnaryOrPrivate(),e,i);return this.state.inFSharpPipelineDirectBody=r,n}parseModuleExpression(){this.expectPlugin("moduleBlocks");let i=this.startNode();this.next(),this.match(5)||this.unexpected(null,5);let e=this.startNodeAt(this.state.endLoc);this.next();let r=this.initializeScopes(!0);this.enterInitialScopes();try{i.body=this.parseProgram(e,8,"module")}finally{r()}return this.finishNode(i,"ModuleExpression")}parsePropertyNamePrefixOperator(i){}},Ya={kind:1},Nx={kind:2},kx=/[\uD800-\uDFFF]/u,Za=/in(?:stanceof)?/y;function Bx(t,i){for(let e=0;e<t.length;e++){let r=t[e],{type:n}=r;if(typeof n=="number"){{if(n===138){let{loc:s,start:a,value:o,end:u}=r,l=a+1,c=Qe(s.start,1);t.splice(e,1,new Jt({type:ar(27),value:"#",start:a,end:l,startLoc:s.start,endLoc:c}),new Jt({type:ar(132),value:o,start:l,end:u,startLoc:c,endLoc:s.end})),e++;continue}if(ss(n)){let{loc:s,start:a,value:o,end:u}=r,l=a+1,c=Qe(s.start,1),p;i.charCodeAt(a)===96?p=new Jt({type:ar(22),value:"`",start:a,end:l,startLoc:s.start,endLoc:c}):p=new Jt({type:ar(8),value:"}",start:a,end:l,startLoc:s.start,endLoc:c});let f,h,d,m;n===24?(h=u-1,d=Qe(s.end,-1),f=o===null?null:o.slice(1,-1),m=new Jt({type:ar(22),value:"`",start:h,end:u,startLoc:d,endLoc:s.end})):(h=u-2,d=Qe(s.end,-2),f=o===null?null:o.slice(1,-2),m=new Jt({type:ar(23),value:"${",start:h,end:u,startLoc:d,endLoc:s.end})),t.splice(e,1,p,new Jt({type:ar(20),value:f,start:l,end:h,startLoc:c,endLoc:d}),m),e+=2;continue}}r.type=ar(n)}}return t}var Co=class extends xo{parseTopLevel(i,e){return i.program=this.parseProgram(e),i.comments=this.comments,this.options.tokens&&(i.tokens=Bx(this.tokens,this.input)),this.finishNode(i,"File")}parseProgram(i,e=139,r=this.options.sourceType){if(i.sourceType=r,i.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(i,!0,!0,e),this.inModule){if(!this.options.allowUndeclaredExports&&this.scope.undefinedExports.size>0)for(let[s,a]of Array.from(this.scope.undefinedExports))this.raise(y.ModuleExportUndefined,a,{localName:s});this.addExtra(i,"topLevelAwait",this.state.hasTopLevelAwait)}let n;return e===139?n=this.finishNode(i,"Program"):n=this.finishNodeAt(i,"Program",Qe(this.state.startLoc,-1)),n}stmtToDirective(i){let e=i;e.type="Directive",e.value=e.expression,delete e.expression;let r=e.value,n=r.value,s=this.input.slice(r.start,r.end),a=r.value=s.slice(1,-1);return this.addExtra(r,"raw",s),this.addExtra(r,"rawValue",a),this.addExtra(r,"expressionValue",n),r.type="DirectiveLiteral",e}parseInterpreterDirective(){if(!this.match(28))return null;let i=this.startNode();return i.value=this.state.value,this.next(),this.finishNode(i,"InterpreterDirective")}isLet(){return this.isContextual(100)?this.hasFollowingBindingAtom():!1}chStartsBindingIdentifier(i,e){if(ur(i)){if(Za.lastIndex=e,Za.test(this.input)){let r=this.codePointAtPos(Za.lastIndex);if(!pi(r)&&r!==92)return!1}return!0}else return i===92}chStartsBindingPattern(i){return i===91||i===123}hasFollowingBindingAtom(){let i=this.nextTokenStart(),e=this.codePointAtPos(i);return this.chStartsBindingPattern(e)||this.chStartsBindingIdentifier(e,i)}hasInLineFollowingBindingIdentifierOrBrace(){let i=this.nextTokenInLineStart(),e=this.codePointAtPos(i);return e===123||this.chStartsBindingIdentifier(e,i)}startsUsingForOf(){let{type:i,containsEsc:e}=this.lookahead();if(i===102&&!e)return!1;if(se(i)&&!this.hasFollowingLineBreak())return this.expectPlugin("explicitResourceManagement"),!0}startsAwaitUsing(){let i=this.nextTokenInLineStart();if(this.isUnparsedContextual(i,"using")){i=this.nextTokenInLineStartSince(i+5);let e=this.codePointAtPos(i);if(this.chStartsBindingIdentifier(e,i))return this.expectPlugin("explicitResourceManagement"),!0}return!1}parseModuleItem(){return this.parseStatementLike(15)}parseStatementListItem(){return this.parseStatementLike(6|(!this.options.annexB||this.state.strict?0:8))}parseStatementOrSloppyAnnexBFunctionDeclaration(i=!1){let e=0;return this.options.annexB&&!this.state.strict&&(e|=4,i&&(e|=8)),this.parseStatementLike(e)}parseStatement(){return this.parseStatementLike(0)}parseStatementLike(i){let e=null;return this.match(26)&&(e=this.parseDecorators(!0)),this.parseStatementContent(i,e)}parseStatementContent(i,e){let r=this.state.type,n=this.startNode(),s=!!(i&2),a=!!(i&4),o=i&1;switch(r){case 60:return this.parseBreakContinueStatement(n,!0);case 63:return this.parseBreakContinueStatement(n,!1);case 64:return this.parseDebuggerStatement(n);case 90:return this.parseDoWhileStatement(n);case 91:return this.parseForStatement(n);case 68:if(this.lookaheadCharCode()===46)break;return a||this.raise(this.state.strict?y.StrictFunction:this.options.annexB?y.SloppyFunctionAnnexB:y.SloppyFunction,this.state.startLoc),this.parseFunctionStatement(n,!1,!s&&a);case 80:return s||this.unexpected(),this.parseClass(this.maybeTakeDecorators(e,n),!0);case 69:return this.parseIfStatement(n);case 70:return this.parseReturnStatement(n);case 71:return this.parseSwitchStatement(n);case 72:return this.parseThrowStatement(n);case 73:return this.parseTryStatement(n);case 96:if(!this.state.containsEsc&&this.startsAwaitUsing())return this.recordAwaitIfAllowed()?s||this.raise(y.UnexpectedLexicalDeclaration,n):this.raise(y.AwaitUsingNotInAsyncContext,n),this.next(),this.parseVarStatement(n,"await using");break;case 107:if(this.state.containsEsc||!this.hasInLineFollowingBindingIdentifierOrBrace())break;return this.expectPlugin("explicitResourceManagement"),!this.scope.inModule&&this.scope.inTopLevel?this.raise(y.UnexpectedUsingDeclaration,this.state.startLoc):s||this.raise(y.UnexpectedLexicalDeclaration,this.state.startLoc),this.parseVarStatement(n,"using");case 100:{if(this.state.containsEsc)break;let c=this.nextTokenStart(),p=this.codePointAtPos(c);if(p!==91&&(!s&&this.hasFollowingLineBreak()||!this.chStartsBindingIdentifier(p,c)&&p!==123))break}case 75:s||this.raise(y.UnexpectedLexicalDeclaration,this.state.startLoc);case 74:{let c=this.state.value;return this.parseVarStatement(n,c)}case 92:return this.parseWhileStatement(n);case 76:return this.parseWithStatement(n);case 5:return this.parseBlock();case 13:return this.parseEmptyStatement(n);case 83:{let c=this.lookaheadCharCode();if(c===40||c===46)break}case 82:{!this.options.allowImportExportEverywhere&&!o&&this.raise(y.UnexpectedImportExport,this.state.startLoc),this.next();let c;return r===83?(c=this.parseImport(n),c.type==="ImportDeclaration"&&(!c.importKind||c.importKind==="value")&&(this.sawUnambiguousESM=!0)):(c=this.parseExport(n,e),(c.type==="ExportNamedDeclaration"&&(!c.exportKind||c.exportKind==="value")||c.type==="ExportAllDeclaration"&&(!c.exportKind||c.exportKind==="value")||c.type==="ExportDefaultDeclaration")&&(this.sawUnambiguousESM=!0)),this.assertModuleNodeAllowed(c),c}default:if(this.isAsyncFunction())return s||this.raise(y.AsyncFunctionInSingleStatementContext,this.state.startLoc),this.next(),this.parseFunctionStatement(n,!0,!s&&a)}let u=this.state.value,l=this.parseExpression();return se(r)&&l.type==="Identifier"&&this.eat(14)?this.parseLabeledStatement(n,u,l,i):this.parseExpressionStatement(n,l,e)}assertModuleNodeAllowed(i){!this.options.allowImportExportEverywhere&&!this.inModule&&this.raise(y.ImportOutsideModule,i)}decoratorsEnabledBeforeExport(){return this.hasPlugin("decorators-legacy")?!0:this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")!==!1}maybeTakeDecorators(i,e,r){return i&&(e.decorators&&e.decorators.length>0?(typeof this.getPluginOption("decorators","decoratorsBeforeExport")!="boolean"&&this.raise(y.DecoratorsBeforeAfterExport,e.decorators[0]),e.decorators.unshift(...i)):e.decorators=i,this.resetStartLocationFromNode(e,i[0]),r&&this.resetStartLocationFromNode(r,e)),e}canHaveLeadingDecorator(){return this.match(80)}parseDecorators(i){let e=[];do e.push(this.parseDecorator());while(this.match(26));if(this.match(82))i||this.unexpected(),this.decoratorsEnabledBeforeExport()||this.raise(y.DecoratorExportClass,this.state.startLoc);else if(!this.canHaveLeadingDecorator())throw this.raise(y.UnexpectedLeadingDecorator,this.state.startLoc);return e}parseDecorator(){this.expectOnePlugin(["decorators","decorators-legacy"]);let i=this.startNode();if(this.next(),this.hasPlugin("decorators")){let e=this.state.startLoc,r;if(this.match(10)){let n=this.state.startLoc;this.next(),r=this.parseExpression(),this.expect(11),r=this.wrapParenthesis(n,r);let s=this.state.startLoc;i.expression=this.parseMaybeDecoratorArguments(r),this.getPluginOption("decorators","allowCallParenthesized")===!1&&i.expression!==r&&this.raise(y.DecoratorArgumentsOutsideParentheses,s)}else{for(r=this.parseIdentifier(!1);this.eat(16);){let n=this.startNodeAt(e);n.object=r,this.match(138)?(this.classScope.usePrivateName(this.state.value,this.state.startLoc),n.property=this.parsePrivateName()):n.property=this.parseIdentifier(!0),n.computed=!1,r=this.finishNode(n,"MemberExpression")}i.expression=this.parseMaybeDecoratorArguments(r)}}else i.expression=this.parseExprSubscripts();return this.finishNode(i,"Decorator")}parseMaybeDecoratorArguments(i){if(this.eat(10)){let e=this.startNodeAtNode(i);return e.callee=i,e.arguments=this.parseCallExpressionArguments(11,!1),this.toReferencedList(e.arguments),this.finishNode(e,"CallExpression")}return i}parseBreakContinueStatement(i,e){return this.next(),this.isLineTerminator()?i.label=null:(i.label=this.parseIdentifier(),this.semicolon()),this.verifyBreakContinue(i,e),this.finishNode(i,e?"BreakStatement":"ContinueStatement")}verifyBreakContinue(i,e){let r;for(r=0;r<this.state.labels.length;++r){let n=this.state.labels[r];if((i.label==null||n.name===i.label.name)&&(n.kind!=null&&(e||n.kind===1)||i.label&&e))break}if(r===this.state.labels.length){let n=e?"BreakStatement":"ContinueStatement";this.raise(y.IllegalBreakContinue,i,{type:n})}}parseDebuggerStatement(i){return this.next(),this.semicolon(),this.finishNode(i,"DebuggerStatement")}parseHeaderExpression(){this.expect(10);let i=this.parseExpression();return this.expect(11),i}parseDoWhileStatement(i){return this.next(),this.state.labels.push(Ya),i.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.expect(92),i.test=this.parseHeaderExpression(),this.eat(13),this.finishNode(i,"DoWhileStatement")}parseForStatement(i){this.next(),this.state.labels.push(Ya);let e=null;if(this.isContextual(96)&&this.recordAwaitIfAllowed()&&(e=this.state.startLoc,this.next()),this.scope.enter(0),this.expect(10),this.match(13))return e!==null&&this.unexpected(e),this.parseFor(i,null);let r=this.isContextual(100);{let u=this.isContextual(96)&&this.startsAwaitUsing(),l=u||this.isContextual(107)&&this.startsUsingForOf(),c=r&&this.hasFollowingBindingAtom()||l;if(this.match(74)||this.match(75)||c){let p=this.startNode(),f;u?(f="await using",this.recordAwaitIfAllowed()||this.raise(y.AwaitUsingNotInAsyncContext,this.state.startLoc),this.next()):f=this.state.value,this.next(),this.parseVar(p,!0,f);let h=this.finishNode(p,"VariableDeclaration"),d=this.match(58);return d&&l&&this.raise(y.ForInUsing,h),(d||this.isContextual(102))&&h.declarations.length===1?this.parseForIn(i,h,e):(e!==null&&this.unexpected(e),this.parseFor(i,h))}}let n=this.isContextual(95),s=new di,a=this.parseExpression(!0,s),o=this.isContextual(102);if(o&&(r&&this.raise(y.ForOfLet,a),e===null&&n&&a.type==="Identifier"&&this.raise(y.ForOfAsync,a)),o||this.match(58)){this.checkDestructuringPrivate(s),this.toAssignable(a,!0);let u=o?"ForOfStatement":"ForInStatement";return this.checkLVal(a,{type:u}),this.parseForIn(i,a,e)}else this.checkExpressionErrors(s,!0);return e!==null&&this.unexpected(e),this.parseFor(i,a)}parseFunctionStatement(i,e,r){return this.next(),this.parseFunction(i,1|(r?2:0)|(e?8:0))}parseIfStatement(i){return this.next(),i.test=this.parseHeaderExpression(),i.consequent=this.parseStatementOrSloppyAnnexBFunctionDeclaration(),i.alternate=this.eat(66)?this.parseStatementOrSloppyAnnexBFunctionDeclaration():null,this.finishNode(i,"IfStatement")}parseReturnStatement(i){return!this.prodParam.hasReturn&&!this.options.allowReturnOutsideFunction&&this.raise(y.IllegalReturn,this.state.startLoc),this.next(),this.isLineTerminator()?i.argument=null:(i.argument=this.parseExpression(),this.semicolon()),this.finishNode(i,"ReturnStatement")}parseSwitchStatement(i){this.next(),i.discriminant=this.parseHeaderExpression();let e=i.cases=[];this.expect(5),this.state.labels.push(Nx),this.scope.enter(0);let r;for(let n;!this.match(8);)if(this.match(61)||this.match(65)){let s=this.match(61);r&&this.finishNode(r,"SwitchCase"),e.push(r=this.startNode()),r.consequent=[],this.next(),s?r.test=this.parseExpression():(n&&this.raise(y.MultipleDefaultsInSwitch,this.state.lastTokStartLoc),n=!0,r.test=null),this.expect(14)}else r?r.consequent.push(this.parseStatementListItem()):this.unexpected();return this.scope.exit(),r&&this.finishNode(r,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(i,"SwitchStatement")}parseThrowStatement(i){return this.next(),this.hasPrecedingLineBreak()&&this.raise(y.NewlineAfterThrow,this.state.lastTokEndLoc),i.argument=this.parseExpression(),this.semicolon(),this.finishNode(i,"ThrowStatement")}parseCatchClauseParam(){let i=this.parseBindingAtom();return this.scope.enter(this.options.annexB&&i.type==="Identifier"?8:0),this.checkLVal(i,{type:"CatchClause"},9),i}parseTryStatement(i){if(this.next(),i.block=this.parseBlock(),i.handler=null,this.match(62)){let e=this.startNode();this.next(),this.match(10)?(this.expect(10),e.param=this.parseCatchClauseParam(),this.expect(11)):(e.param=null,this.scope.enter(0)),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseBlock(!1,!1)),this.scope.exit(),i.handler=this.finishNode(e,"CatchClause")}return i.finalizer=this.eat(67)?this.parseBlock():null,!i.handler&&!i.finalizer&&this.raise(y.NoCatchOrFinally,i),this.finishNode(i,"TryStatement")}parseVarStatement(i,e,r=!1){return this.next(),this.parseVar(i,!1,e,r),this.semicolon(),this.finishNode(i,"VariableDeclaration")}parseWhileStatement(i){return this.next(),i.test=this.parseHeaderExpression(),this.state.labels.push(Ya),i.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.finishNode(i,"WhileStatement")}parseWithStatement(i){return this.state.strict&&this.raise(y.StrictWith,this.state.startLoc),this.next(),i.object=this.parseHeaderExpression(),i.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.finishNode(i,"WithStatement")}parseEmptyStatement(i){return this.next(),this.finishNode(i,"EmptyStatement")}parseLabeledStatement(i,e,r,n){for(let a of this.state.labels)a.name===e&&this.raise(y.LabelRedeclaration,r,{labelName:e});let s=Ry(this.state.type)?1:this.match(71)?2:null;for(let a=this.state.labels.length-1;a>=0;a--){let o=this.state.labels[a];if(o.statementStart===i.start)o.statementStart=this.state.start,o.kind=s;else break}return this.state.labels.push({name:e,kind:s,statementStart:this.state.start}),i.body=n&8?this.parseStatementOrSloppyAnnexBFunctionDeclaration(!0):this.parseStatement(),this.state.labels.pop(),i.label=r,this.finishNode(i,"LabeledStatement")}parseExpressionStatement(i,e,r){return i.expression=e,this.semicolon(),this.finishNode(i,"ExpressionStatement")}parseBlock(i=!1,e=!0,r){let n=this.startNode();return i&&this.state.strictErrors.clear(),this.expect(5),e&&this.scope.enter(0),this.parseBlockBody(n,i,!1,8,r),e&&this.scope.exit(),this.finishNode(n,"BlockStatement")}isValidDirective(i){return i.type==="ExpressionStatement"&&i.expression.type==="StringLiteral"&&!i.expression.extra.parenthesized}parseBlockBody(i,e,r,n,s){let a=i.body=[],o=i.directives=[];this.parseBlockOrModuleBlockBody(a,e?o:void 0,r,n,s)}parseBlockOrModuleBlockBody(i,e,r,n,s){let a=this.state.strict,o=!1,u=!1;for(;!this.match(n);){let l=r?this.parseModuleItem():this.parseStatementListItem();if(e&&!u){if(this.isValidDirective(l)){let c=this.stmtToDirective(l);e.push(c),!o&&c.value.value==="use strict"&&(o=!0,this.setStrict(!0));continue}u=!0,this.state.strictErrors.clear()}i.push(l)}s?.call(this,o),a||this.setStrict(!1),this.next()}parseFor(i,e){return i.init=e,this.semicolon(!1),i.test=this.match(13)?null:this.parseExpression(),this.semicolon(!1),i.update=this.match(11)?null:this.parseExpression(),this.expect(11),i.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(i,"ForStatement")}parseForIn(i,e,r){let n=this.match(58);return this.next(),n?r!==null&&this.unexpected(r):i.await=r!==null,e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!n||!this.options.annexB||this.state.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(y.ForInOfLoopInitializer,e,{type:n?"ForInStatement":"ForOfStatement"}),e.type==="AssignmentPattern"&&this.raise(y.InvalidLhs,e,{ancestor:{type:"ForStatement"}}),i.left=e,i.right=n?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(11),i.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(i,n?"ForInStatement":"ForOfStatement")}parseVar(i,e,r,n=!1){let s=i.declarations=[];for(i.kind=r;;){let a=this.startNode();if(this.parseVarId(a,r),a.init=this.eat(29)?e?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn():null,a.init===null&&!n&&(a.id.type!=="Identifier"&&!(e&&(this.match(58)||this.isContextual(102)))?this.raise(y.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:"destructuring"}):(r==="const"||r==="using"||r==="await using")&&!(this.match(58)||this.isContextual(102))&&this.raise(y.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:r})),s.push(this.finishNode(a,"VariableDeclarator")),!this.eat(12))break}return i}parseVarId(i,e){let r=this.parseBindingAtom();(e==="using"||e==="await using")&&(r.type==="ArrayPattern"||r.type==="ObjectPattern")&&this.raise(y.UsingDeclarationHasBindingPattern,r.loc.start),this.checkLVal(r,{type:"VariableDeclarator"},e==="var"?5:8201),i.id=r}parseAsyncFunctionExpression(i){return this.parseFunction(i,8)}parseFunction(i,e=0){let r=e&2,n=!!(e&1),s=n&&!(e&4),a=!!(e&8);this.initFunction(i,a),this.match(55)&&(r&&this.raise(y.GeneratorInSingleStatementContext,this.state.startLoc),this.next(),i.generator=!0),n&&(i.id=this.parseFunctionId(s));let o=this.state.maybeInArrowParameters;return this.state.maybeInArrowParameters=!1,this.scope.enter(2),this.prodParam.enter(is(a,i.generator)),n||(i.id=this.parseFunctionId()),this.parseFunctionParams(i,!1),this.withSmartMixTopicForbiddingContext(()=>{this.parseFunctionBodyAndFinish(i,n?"FunctionDeclaration":"FunctionExpression")}),this.prodParam.exit(),this.scope.exit(),n&&!r&&this.registerFunctionStatementId(i),this.state.maybeInArrowParameters=o,i}parseFunctionId(i){return i||se(this.state.type)?this.parseIdentifier():null}parseFunctionParams(i,e){this.expect(10),this.expressionScope.enter(ax()),i.params=this.parseBindingList(11,41,2|(e?4:0)),this.expressionScope.exit()}registerFunctionStatementId(i){i.id&&this.scope.declareName(i.id.name,!this.options.annexB||this.state.strict||i.generator||i.async?this.scope.treatFunctionsAsVar?5:8201:17,i.id.loc.start)}parseClass(i,e,r){this.next();let n=this.state.strict;return this.state.strict=!0,this.parseClassId(i,e,r),this.parseClassSuper(i),i.body=this.parseClassBody(!!i.superClass,n),this.finishNode(i,e?"ClassDeclaration":"ClassExpression")}isClassProperty(){return this.match(29)||this.match(13)||this.match(8)}isClassMethod(){return this.match(10)}nameIsConstructor(i){return i.type==="Identifier"&&i.name==="constructor"||i.type==="StringLiteral"&&i.value==="constructor"}isNonstaticConstructor(i){return!i.computed&&!i.static&&this.nameIsConstructor(i.key)}parseClassBody(i,e){this.classScope.enter();let r={hadConstructor:!1,hadSuperClass:i},n=[],s=this.startNode();if(s.body=[],this.expect(5),this.withSmartMixTopicForbiddingContext(()=>{for(;!this.match(8);){if(this.eat(13)){if(n.length>0)throw this.raise(y.DecoratorSemicolon,this.state.lastTokEndLoc);continue}if(this.match(26)){n.push(this.parseDecorator());continue}let a=this.startNode();n.length&&(a.decorators=n,this.resetStartLocationFromNode(a,n[0]),n=[]),this.parseClassMember(s,a,r),a.kind==="constructor"&&a.decorators&&a.decorators.length>0&&this.raise(y.DecoratorConstructor,a)}}),this.state.strict=e,this.next(),n.length)throw this.raise(y.TrailingDecorator,this.state.startLoc);return this.classScope.exit(),this.finishNode(s,"ClassBody")}parseClassMemberFromModifier(i,e){let r=this.parseIdentifier(!0);if(this.isClassMethod()){let n=e;return n.kind="method",n.computed=!1,n.key=r,n.static=!1,this.pushClassMethod(i,n,!1,!1,!1,!1),!0}else if(this.isClassProperty()){let n=e;return n.computed=!1,n.key=r,n.static=!1,i.body.push(this.parseClassProperty(n)),!0}return this.resetPreviousNodeTrailingComments(r),!1}parseClassMember(i,e,r){let n=this.isContextual(106);if(n){if(this.parseClassMemberFromModifier(i,e))return;if(this.eat(5)){this.parseClassStaticBlock(i,e);return}}this.parseClassMemberWithIsStatic(i,e,r,n)}parseClassMemberWithIsStatic(i,e,r,n){let s=e,a=e,o=e,u=e,l=e,c=s,p=s;if(e.static=n,this.parsePropertyNamePrefixOperator(e),this.eat(55)){c.kind="method";let D=this.match(138);if(this.parseClassElementName(c),D){this.pushClassPrivateMethod(i,a,!0,!1);return}this.isNonstaticConstructor(s)&&this.raise(y.ConstructorIsGenerator,s.key),this.pushClassMethod(i,s,!0,!1,!1,!1);return}let f=!this.state.containsEsc&&se(this.state.type),h=this.parseClassElementName(e),d=f?h.name:null,m=this.isPrivateName(h),g=this.state.startLoc;if(this.parsePostMemberNameModifiers(p),this.isClassMethod()){if(c.kind="method",m){this.pushClassPrivateMethod(i,a,!1,!1);return}let D=this.isNonstaticConstructor(s),x=!1;D&&(s.kind="constructor",r.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(y.DuplicateConstructor,h),D&&this.hasPlugin("typescript")&&e.override&&this.raise(y.OverrideOnConstructor,h),r.hadConstructor=!0,x=r.hadSuperClass),this.pushClassMethod(i,s,!1,!1,D,x)}else if(this.isClassProperty())m?this.pushClassPrivateProperty(i,u):this.pushClassProperty(i,o);else if(d==="async"&&!this.isLineTerminator()){this.resetPreviousNodeTrailingComments(h);let D=this.eat(55);p.optional&&this.unexpected(g),c.kind="method";let x=this.match(138);this.parseClassElementName(c),this.parsePostMemberNameModifiers(p),x?this.pushClassPrivateMethod(i,a,D,!0):(this.isNonstaticConstructor(s)&&this.raise(y.ConstructorIsAsync,s.key),this.pushClassMethod(i,s,D,!0,!1,!1))}else if((d==="get"||d==="set")&&!(this.match(55)&&this.isLineTerminator())){this.resetPreviousNodeTrailingComments(h),c.kind=d;let D=this.match(138);this.parseClassElementName(s),D?this.pushClassPrivateMethod(i,a,!1,!1):(this.isNonstaticConstructor(s)&&this.raise(y.ConstructorIsAccessor,s.key),this.pushClassMethod(i,s,!1,!1,!1,!1)),this.checkGetterSetterParams(s)}else if(d==="accessor"&&!this.isLineTerminator()){this.expectPlugin("decoratorAutoAccessors"),this.resetPreviousNodeTrailingComments(h);let D=this.match(138);this.parseClassElementName(o),this.pushClassAccessorProperty(i,l,D)}else this.isLineTerminator()?m?this.pushClassPrivateProperty(i,u):this.pushClassProperty(i,o):this.unexpected()}parseClassElementName(i){let{type:e,value:r}=this.state;if((e===132||e===133)&&i.static&&r==="prototype"&&this.raise(y.StaticPrototype,this.state.startLoc),e===138){r==="constructor"&&this.raise(y.ConstructorClassPrivateField,this.state.startLoc);let n=this.parsePrivateName();return i.key=n,n}return this.parsePropertyName(i),i.key}parseClassStaticBlock(i,e){var r;this.scope.enter(208);let n=this.state.labels;this.state.labels=[],this.prodParam.enter(0);let s=e.body=[];this.parseBlockOrModuleBlockBody(s,void 0,!1,8),this.prodParam.exit(),this.scope.exit(),this.state.labels=n,i.body.push(this.finishNode(e,"StaticBlock")),(r=e.decorators)!=null&&r.length&&this.raise(y.DecoratorStaticBlock,e)}pushClassProperty(i,e){!e.computed&&this.nameIsConstructor(e.key)&&this.raise(y.ConstructorClassField,e.key),i.body.push(this.parseClassProperty(e))}pushClassPrivateProperty(i,e){let r=this.parseClassPrivateProperty(e);i.body.push(r),this.classScope.declarePrivateName(this.getPrivateNameSV(r.key),0,r.key.loc.start)}pushClassAccessorProperty(i,e,r){!r&&!e.computed&&this.nameIsConstructor(e.key)&&this.raise(y.ConstructorClassField,e.key);let n=this.parseClassAccessorProperty(e);i.body.push(n),r&&this.classScope.declarePrivateName(this.getPrivateNameSV(n.key),0,n.key.loc.start)}pushClassMethod(i,e,r,n,s,a){i.body.push(this.parseMethod(e,r,n,s,a,"ClassMethod",!0))}pushClassPrivateMethod(i,e,r,n){let s=this.parseMethod(e,r,n,!1,!1,"ClassPrivateMethod",!0);i.body.push(s);let a=s.kind==="get"?s.static?6:2:s.kind==="set"?s.static?5:1:0;this.declareClassPrivateMethodInScope(s,a)}declareClassPrivateMethodInScope(i,e){this.classScope.declarePrivateName(this.getPrivateNameSV(i.key),e,i.key.loc.start)}parsePostMemberNameModifiers(i){}parseClassPrivateProperty(i){return this.parseInitializer(i),this.semicolon(),this.finishNode(i,"ClassPrivateProperty")}parseClassProperty(i){return this.parseInitializer(i),this.semicolon(),this.finishNode(i,"ClassProperty")}parseClassAccessorProperty(i){return this.parseInitializer(i),this.semicolon(),this.finishNode(i,"ClassAccessorProperty")}parseInitializer(i){this.scope.enter(80),this.expressionScope.enter(Op()),this.prodParam.enter(0),i.value=this.eat(29)?this.parseMaybeAssignAllowIn():null,this.expressionScope.exit(),this.prodParam.exit(),this.scope.exit()}parseClassId(i,e,r,n=8331){if(se(this.state.type))i.id=this.parseIdentifier(),e&&this.declareNameFromIdentifier(i.id,n);else if(r||!e)i.id=null;else throw this.raise(y.MissingClassName,this.state.startLoc)}parseClassSuper(i){i.superClass=this.eat(81)?this.parseExprSubscripts():null}parseExport(i,e){let r=this.parseMaybeImportPhase(i,!0),n=this.maybeParseExportDefaultSpecifier(i,r),s=!n||this.eat(12),a=s&&this.eatExportStar(i),o=a&&this.maybeParseExportNamespaceSpecifier(i),u=s&&(!o||this.eat(12)),l=n||a;if(a&&!o){if(n&&this.unexpected(),e)throw this.raise(y.UnsupportedDecoratorExport,i);return this.parseExportFrom(i,!0),this.finishNode(i,"ExportAllDeclaration")}let c=this.maybeParseExportNamedSpecifiers(i);n&&s&&!a&&!c&&this.unexpected(null,5),o&&u&&this.unexpected(null,98);let p;if(l||c){if(p=!1,e)throw this.raise(y.UnsupportedDecoratorExport,i);this.parseExportFrom(i,l)}else p=this.maybeParseExportDeclaration(i);if(l||c||p){var f;let h=i;if(this.checkExport(h,!0,!1,!!h.source),((f=h.declaration)==null?void 0:f.type)==="ClassDeclaration")this.maybeTakeDecorators(e,h.declaration,h);else if(e)throw this.raise(y.UnsupportedDecoratorExport,i);return this.finishNode(h,"ExportNamedDeclaration")}if(this.eat(65)){let h=i,d=this.parseExportDefaultExpression();if(h.declaration=d,d.type==="ClassDeclaration")this.maybeTakeDecorators(e,d,h);else if(e)throw this.raise(y.UnsupportedDecoratorExport,i);return this.checkExport(h,!0,!0),this.finishNode(h,"ExportDefaultDeclaration")}this.unexpected(null,5)}eatExportStar(i){return this.eat(55)}maybeParseExportDefaultSpecifier(i,e){if(e||this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom",e?.loc.start);let r=e||this.parseIdentifier(!0),n=this.startNodeAtNode(r);return n.exported=r,i.specifiers=[this.finishNode(n,"ExportDefaultSpecifier")],!0}return!1}maybeParseExportNamespaceSpecifier(i){if(this.isContextual(93)){var e,r;(r=(e=i).specifiers)!=null||(e.specifiers=[]);let n=this.startNodeAt(this.state.lastTokStartLoc);return this.next(),n.exported=this.parseModuleExportName(),i.specifiers.push(this.finishNode(n,"ExportNamespaceSpecifier")),!0}return!1}maybeParseExportNamedSpecifiers(i){if(this.match(5)){let e=i;e.specifiers||(e.specifiers=[]);let r=e.exportKind==="type";return e.specifiers.push(...this.parseExportSpecifiers(r)),e.source=null,e.declaration=null,this.hasPlugin("importAssertions")&&(e.assertions=[]),!0}return!1}maybeParseExportDeclaration(i){return this.shouldParseExportDeclaration()?(i.specifiers=[],i.source=null,this.hasPlugin("importAssertions")&&(i.assertions=[]),i.declaration=this.parseExportDeclaration(i),!0):!1}isAsyncFunction(){if(!this.isContextual(95))return!1;let i=this.nextTokenInLineStart();return this.isUnparsedContextual(i,"function")}parseExportDefaultExpression(){let i=this.startNode();if(this.match(68))return this.next(),this.parseFunction(i,5);if(this.isAsyncFunction())return this.next(),this.next(),this.parseFunction(i,13);if(this.match(80))return this.parseClass(i,!0,!0);if(this.match(26))return this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")===!0&&this.raise(y.DecoratorBeforeExport,this.state.startLoc),this.parseClass(this.maybeTakeDecorators(this.parseDecorators(!1),this.startNode()),!0,!0);if(this.match(75)||this.match(74)||this.isLet())throw this.raise(y.UnsupportedDefaultExport,this.state.startLoc);let e=this.parseMaybeAssignAllowIn();return this.semicolon(),e}parseExportDeclaration(i){return this.match(80)?this.parseClass(this.startNode(),!0,!1):this.parseStatementListItem()}isExportDefaultSpecifier(){let{type:i}=this.state;if(se(i)){if(i===95&&!this.state.containsEsc||i===100)return!1;if((i===130||i===129)&&!this.state.containsEsc){let{type:n}=this.lookahead();if(se(n)&&n!==98||n===5)return this.expectOnePlugin(["flow","typescript"]),!1}}else if(!this.match(65))return!1;let e=this.nextTokenStart(),r=this.isUnparsedContextual(e,"from");if(this.input.charCodeAt(e)===44||se(this.state.type)&&r)return!0;if(this.match(65)&&r){let n=this.input.charCodeAt(this.nextTokenStartSince(e+4));return n===34||n===39}return!1}parseExportFrom(i,e){this.eatContextual(98)?(i.source=this.parseImportSource(),this.checkExport(i),this.maybeParseImportAttributes(i),this.checkJSONModuleImport(i)):e&&this.unexpected(),this.semicolon()}shouldParseExportDeclaration(){let{type:i}=this.state;return i===26&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))?(this.getPluginOption("decorators","decoratorsBeforeExport")===!0&&this.raise(y.DecoratorBeforeExport,this.state.startLoc),!0):this.isContextual(107)?(this.raise(y.UsingDeclarationExport,this.state.startLoc),!0):this.isContextual(96)&&this.startsAwaitUsing()?(this.raise(y.UsingDeclarationExport,this.state.startLoc),!0):i===74||i===75||i===68||i===80||this.isLet()||this.isAsyncFunction()}checkExport(i,e,r,n){if(e){var s;if(r){if(this.checkDuplicateExports(i,"default"),this.hasPlugin("exportDefaultFrom")){var a;let o=i.declaration;o.type==="Identifier"&&o.name==="from"&&o.end-o.start===4&&!((a=o.extra)!=null&&a.parenthesized)&&this.raise(y.ExportDefaultFromAsIdentifier,o)}}else if((s=i.specifiers)!=null&&s.length)for(let o of i.specifiers){let{exported:u}=o,l=u.type==="Identifier"?u.name:u.value;if(this.checkDuplicateExports(o,l),!n&&o.local){let{local:c}=o;c.type!=="Identifier"?this.raise(y.ExportBindingIsString,o,{localName:c.value,exportName:l}):(this.checkReservedWord(c.name,c.loc.start,!0,!1),this.scope.checkLocalExport(c))}}else if(i.declaration){let o=i.declaration;if(o.type==="FunctionDeclaration"||o.type==="ClassDeclaration"){let{id:u}=o;if(!u)throw new Error("Assertion failure");this.checkDuplicateExports(i,u.name)}else if(o.type==="VariableDeclaration")for(let u of o.declarations)this.checkDeclaration(u.id)}}}checkDeclaration(i){if(i.type==="Identifier")this.checkDuplicateExports(i,i.name);else if(i.type==="ObjectPattern")for(let e of i.properties)this.checkDeclaration(e);else if(i.type==="ArrayPattern")for(let e of i.elements)e&&this.checkDeclaration(e);else i.type==="ObjectProperty"?this.checkDeclaration(i.value):i.type==="RestElement"?this.checkDeclaration(i.argument):i.type==="AssignmentPattern"&&this.checkDeclaration(i.left)}checkDuplicateExports(i,e){this.exportedIdentifiers.has(e)&&(e==="default"?this.raise(y.DuplicateDefaultExport,i):this.raise(y.DuplicateExport,i,{exportName:e})),this.exportedIdentifiers.add(e)}parseExportSpecifiers(i){let e=[],r=!0;for(this.expect(5);!this.eat(8);){if(r)r=!1;else if(this.expect(12),this.eat(8))break;let n=this.isContextual(130),s=this.match(133),a=this.startNode();a.local=this.parseModuleExportName(),e.push(this.parseExportSpecifier(a,s,i,n))}return e}parseExportSpecifier(i,e,r,n){return this.eatContextual(93)?i.exported=this.parseModuleExportName():e?i.exported=cx(i.local):i.exported||(i.exported=cr(i.local)),this.finishNode(i,"ExportSpecifier")}parseModuleExportName(){if(this.match(133)){let i=this.parseStringLiteral(this.state.value),e=kx.exec(i.value);return e&&this.raise(y.ModuleExportNameHasLoneSurrogate,i,{surrogateCharCode:e[0].charCodeAt(0)}),i}return this.parseIdentifier(!0)}isJSONModuleImport(i){return i.assertions!=null?i.assertions.some(({key:e,value:r})=>r.value==="json"&&(e.type==="Identifier"?e.name==="type":e.value==="type")):!1}checkImportReflection(i){let{specifiers:e}=i,r=e.length===1?e[0].type:null;if(i.phase==="source")r!=="ImportDefaultSpecifier"&&this.raise(y.SourcePhaseImportRequiresDefault,e[0].loc.start);else if(i.phase==="defer")r!=="ImportNamespaceSpecifier"&&this.raise(y.DeferImportRequiresNamespace,e[0].loc.start);else if(i.module){var n;r!=="ImportDefaultSpecifier"&&this.raise(y.ImportReflectionNotBinding,e[0].loc.start),((n=i.assertions)==null?void 0:n.length)>0&&this.raise(y.ImportReflectionHasAssertion,e[0].loc.start)}}checkJSONModuleImport(i){if(this.isJSONModuleImport(i)&&i.type!=="ExportAllDeclaration"){let{specifiers:e}=i;if(e!=null){let r=e.find(n=>{let s;if(n.type==="ExportSpecifier"?s=n.local:n.type==="ImportSpecifier"&&(s=n.imported),s!==void 0)return s.type==="Identifier"?s.name!=="default":s.value!=="default"});r!==void 0&&this.raise(y.ImportJSONBindingNotDefault,r.loc.start)}}}isPotentialImportPhase(i){return i?!1:this.isContextual(105)||this.isContextual(97)||this.isContextual(127)}applyImportPhase(i,e,r,n){e||(r==="module"?(this.expectPlugin("importReflection",n),i.module=!0):this.hasPlugin("importReflection")&&(i.module=!1),r==="source"?(this.expectPlugin("sourcePhaseImports",n),i.phase="source"):r==="defer"?(this.expectPlugin("deferredImportEvaluation",n),i.phase="defer"):this.hasPlugin("sourcePhaseImports")&&(i.phase=null))}parseMaybeImportPhase(i,e){if(!this.isPotentialImportPhase(e))return this.applyImportPhase(i,e,null),null;let r=this.parseIdentifier(!0),{type:n}=this.state;return(wt(n)?n!==98||this.lookaheadCharCode()===102:n!==12)?(this.resetPreviousIdentifierLeadingComments(r),this.applyImportPhase(i,e,r.name,r.loc.start),null):(this.applyImportPhase(i,e,null),r)}isPrecedingIdImportPhase(i){let{type:e}=this.state;return se(e)?e!==98||this.lookaheadCharCode()===102:e!==12}parseImport(i){return this.match(133)?this.parseImportSourceAndAttributes(i):this.parseImportSpecifiersAndAfter(i,this.parseMaybeImportPhase(i,!1))}parseImportSpecifiersAndAfter(i,e){i.specifiers=[];let n=!this.maybeParseDefaultImportSpecifier(i,e)||this.eat(12),s=n&&this.maybeParseStarImportSpecifier(i);return n&&!s&&this.parseNamedImportSpecifiers(i),this.expectContextual(98),this.parseImportSourceAndAttributes(i)}parseImportSourceAndAttributes(i){var e;return(e=i.specifiers)!=null||(i.specifiers=[]),i.source=this.parseImportSource(),this.maybeParseImportAttributes(i),this.checkImportReflection(i),this.checkJSONModuleImport(i),this.semicolon(),this.finishNode(i,"ImportDeclaration")}parseImportSource(){return this.match(133)||this.unexpected(),this.parseExprAtom()}parseImportSpecifierLocal(i,e,r){e.local=this.parseIdentifier(),i.specifiers.push(this.finishImportSpecifier(e,r))}finishImportSpecifier(i,e,r=8201){return this.checkLVal(i.local,{type:e},r),this.finishNode(i,e)}parseImportAttributes(){this.expect(5);let i=[],e=new Set;do{if(this.match(8))break;let r=this.startNode(),n=this.state.value;if(e.has(n)&&this.raise(y.ModuleAttributesWithDuplicateKeys,this.state.startLoc,{key:n}),e.add(n),this.match(133)?r.key=this.parseStringLiteral(n):r.key=this.parseIdentifier(!0),this.expect(14),!this.match(133))throw this.raise(y.ModuleAttributeInvalidValue,this.state.startLoc);r.value=this.parseStringLiteral(this.state.value),i.push(this.finishNode(r,"ImportAttribute"))}while(this.eat(12));return this.expect(8),i}parseModuleAttributes(){let i=[],e=new Set;do{let r=this.startNode();if(r.key=this.parseIdentifier(!0),r.key.name!=="type"&&this.raise(y.ModuleAttributeDifferentFromType,r.key),e.has(r.key.name)&&this.raise(y.ModuleAttributesWithDuplicateKeys,r.key,{key:r.key.name}),e.add(r.key.name),this.expect(14),!this.match(133))throw this.raise(y.ModuleAttributeInvalidValue,this.state.startLoc);r.value=this.parseStringLiteral(this.state.value),i.push(this.finishNode(r,"ImportAttribute"))}while(this.eat(12));return i}maybeParseImportAttributes(i){let e,r=!1;if(this.match(76)){if(this.hasPrecedingLineBreak()&&this.lookaheadCharCode()===40)return;this.next(),this.hasPlugin("moduleAttributes")?e=this.parseModuleAttributes():(this.expectImportAttributesPlugin(),e=this.parseImportAttributes()),r=!0}else if(this.isContextual(94)&&!this.hasPrecedingLineBreak())this.hasPlugin("importAttributes")?(this.getPluginOption("importAttributes","deprecatedAssertSyntax")!==!0&&this.raise(y.ImportAttributesUseAssert,this.state.startLoc),this.addExtra(i,"deprecatedAssertSyntax",!0)):this.expectOnePlugin(["importAttributes","importAssertions"]),this.next(),e=this.parseImportAttributes();else if(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))e=[];else if(this.hasPlugin("moduleAttributes"))e=[];else return;!r&&this.hasPlugin("importAssertions")?i.assertions=e:i.attributes=e}maybeParseDefaultImportSpecifier(i,e){if(e){let r=this.startNodeAtNode(e);return r.local=e,i.specifiers.push(this.finishImportSpecifier(r,"ImportDefaultSpecifier")),!0}else if(wt(this.state.type))return this.parseImportSpecifierLocal(i,this.startNode(),"ImportDefaultSpecifier"),!0;return!1}maybeParseStarImportSpecifier(i){if(this.match(55)){let e=this.startNode();return this.next(),this.expectContextual(93),this.parseImportSpecifierLocal(i,e,"ImportNamespaceSpecifier"),!0}return!1}parseNamedImportSpecifiers(i){let e=!0;for(this.expect(5);!this.eat(8);){if(e)e=!1;else{if(this.eat(14))throw this.raise(y.DestructureNamedImport,this.state.startLoc);if(this.expect(12),this.eat(8))break}let r=this.startNode(),n=this.match(133),s=this.isContextual(130);r.imported=this.parseModuleExportName();let a=this.parseImportSpecifier(r,n,i.importKind==="type"||i.importKind==="typeof",s,void 0);i.specifiers.push(a)}}parseImportSpecifier(i,e,r,n,s){if(this.eatContextual(93))i.local=this.parseIdentifier();else{let{imported:a}=i;if(e)throw this.raise(y.ImportBindingIsString,i,{importName:a.value});this.checkReservedWord(a.name,i.loc.start,!0,!0),i.local||(i.local=cr(a))}return this.finishImportSpecifier(i,"ImportSpecifier",s)}isThisParam(i){return i.type==="Identifier"&&i.name==="this"}},os=class extends Co{constructor(i,e,r){i=Ix(i),super(i,e),this.options=i,this.initializeScopes(),this.plugins=r,this.filename=i.sourceFilename}getScopeHandler(){return un}parse(){this.enterInitialScopes();let i=this.startNode(),e=this.startNode();return this.nextToken(),i.errors=null,this.parseTopLevel(i,e),i.errors=this.state.errors,i.comments.length=this.state.commentsLen,i}};function Lx(t,i){var e;if(((e=i)==null?void 0:e.sourceType)==="unambiguous"){i=Object.assign({},i);try{i.sourceType="module";let r=sn(i,t),n=r.parse();if(r.sawUnambiguousESM)return n;if(r.ambiguousScriptDifferentAst)try{return i.sourceType="script",sn(i,t).parse()}catch{}else n.program.sourceType="script";return n}catch(r){try{return i.sourceType="script",sn(i,t).parse()}catch{}throw r}}else return sn(i,t).parse()}function Ox(t,i){let e=sn(i,t);return e.options.strictMode&&(e.state.strict=!0),e.getExpression()}function Rx(t){let i={};for(let e of Object.keys(t))i[e]=ar(t[e]);return i}var Mx=Rx(ky);function sn(t,i){let e=os,r=new Map;if(t!=null&&t.plugins){for(let n of t.plugins){let s,a;typeof n=="string"?s=n:[s,a]=n,r.has(s)||r.set(s,a||{})}vx(r),e=_x(r)}return new e(t,i,r)}var Pp=new Map;function _x(t){let i=[];for(let n of Fx)t.has(n)&&i.push(n);let e=i.join("|"),r=Pp.get(e);if(!r){r=os;for(let n of i)r=jp[n](r);Pp.set(e,r)}return r}cn.parse=Lx;cn.parseExpression=Ox;cn.tokTypes=Mx});var pd=W((Yw,cd)=>{cd.exports=ld;ld.sync=BC;var od=require("fs");function kC(t,i){var e=i.pathExt!==void 0?i.pathExt:process.env.PATHEXT;if(!e||(e=e.split(";"),e.indexOf("")!==-1))return!0;for(var r=0;r<e.length;r++){var n=e[r].toLowerCase();if(n&&t.substr(-n.length).toLowerCase()===n)return!0}return!1}function ud(t,i,e){return!t.isSymbolicLink()&&!t.isFile()?!1:kC(i,e)}function ld(t,i,e){od.stat(t,function(r,n){e(r,r?!1:ud(n,t,i))})}function BC(t,i){return ud(od.statSync(t),t,i)}});var gd=W((Zw,md)=>{md.exports=dd;dd.sync=LC;var fd=require("fs");function dd(t,i,e){fd.stat(t,function(r,n){e(r,r?!1:hd(n,i))})}function LC(t,i){return hd(fd.statSync(t),i)}function hd(t,i){return t.isFile()&&OC(t,i)}function OC(t,i){var e=t.mode,r=t.uid,n=t.gid,s=i.uid!==void 0?i.uid:process.getuid&&process.getuid(),a=i.gid!==void 0?i.gid:process.getgid&&process.getgid(),o=parseInt("100",8),u=parseInt("010",8),l=parseInt("001",8),c=o|u,p=e&l||e&u&&n===a||e&o&&r===s||e&c&&s===0;return p}});var yd=W((tv,Dd)=>{var ev=require("fs"),Is;process.platform==="win32"||global.TESTING_WINDOWS?Is=pd():Is=gd();Dd.exports=ru;ru.sync=RC;function ru(t,i,e){if(typeof i=="function"&&(e=i,i={}),!e){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(r,n){ru(t,i||{},function(s,a){s?n(s):r(a)})})}Is(t,i||{},function(r,n){r&&(r.code==="EACCES"||i&&i.ignoreErrors)&&(r=null,n=!1),e(r,n)})}function RC(t,i){try{return Is.sync(t,i||{})}catch(e){if(i&&i.ignoreErrors||e.code==="EACCES")return!1;throw e}}});var Ad=W((rv,Pd)=>{var Ti=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",xd=require("path"),MC=Ti?";":":",Cd=yd(),bd=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),Ed=(t,i)=>{let e=i.colon||MC,r=t.match(/\//)||Ti&&t.match(/\\/)?[""]:[...Ti?[process.cwd()]:[],...(i.path||process.env.PATH||"").split(e)],n=Ti?i.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=Ti?n.split(e):[""];return Ti&&t.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:r,pathExt:s,pathExtExe:n}},Sd=(t,i,e)=>{typeof i=="function"&&(e=i,i={}),i||(i={});let{pathEnv:r,pathExt:n,pathExtExe:s}=Ed(t,i),a=[],o=l=>new Promise((c,p)=>{if(l===r.length)return i.all&&a.length?c(a):p(bd(t));let f=r[l],h=/^".*"$/.test(f)?f.slice(1,-1):f,d=xd.join(h,t),m=!h&&/^\.[\\\/]/.test(t)?t.slice(0,2)+d:d;c(u(m,l,0))}),u=(l,c,p)=>new Promise((f,h)=>{if(p===n.length)return f(o(c+1));let d=n[p];Cd(l+d,{pathExt:s},(m,g)=>{if(!m&&g)if(i.all)a.push(l+d);else return f(l+d);return f(u(l,c,p+1))})});return e?o(0).then(l=>e(null,l),e):o(0)},_C=(t,i)=>{i=i||{};let{pathEnv:e,pathExt:r,pathExtExe:n}=Ed(t,i),s=[];for(let a=0;a<e.length;a++){let o=e[a],u=/^".*"$/.test(o)?o.slice(1,-1):o,l=xd.join(u,t),c=!u&&/^\.[\\\/]/.test(t)?t.slice(0,2)+l:l;for(let p=0;p<r.length;p++){let f=c+r[p];try{if(Cd.sync(f,{pathExt:n}))if(i.all)s.push(f);else return f}catch{}}}if(i.all&&s.length)return s;if(i.nothrow)return null;throw bd(t)};Pd.exports=Sd;Sd.sync=_C});var wd=W((iv,iu)=>{"use strict";var Td=(t={})=>{let i=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(i).reverse().find(r=>r.toUpperCase()==="PATH")||"Path"};iu.exports=Td;iu.exports.default=Td});var Nd=W((nv,Id)=>{"use strict";var vd=require("path"),jC=Ad(),$C=wd();function Fd(t,i){let e=t.options.env||process.env,r=process.cwd(),n=t.options.cwd!=null,s=n&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(t.options.cwd)}catch{}let a;try{a=jC.sync(t.command,{path:e[$C({env:e})],pathExt:i?vd.delimiter:void 0})}catch{}finally{s&&process.chdir(r)}return a&&(a=vd.resolve(n?t.options.cwd:"",a)),a}function VC(t){return Fd(t)||Fd(t,!0)}Id.exports=VC});var kd=W((sv,su)=>{"use strict";var nu=/([()\][%!^"`<>&|;, *?])/g;function UC(t){return t=t.replace(nu,"^$1"),t}function KC(t,i){return t=`${t}`,t=t.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),t=t.replace(/(?=(\\+?)?)\1$/,"$1$1"),t=`"${t}"`,t=t.replace(nu,"^$1"),i&&(t=t.replace(nu,"^$1")),t}su.exports.command=UC;su.exports.argument=KC});var Ld=W((av,Bd)=>{"use strict";Bd.exports=/^#!(.*)/});var Rd=W((ov,Od)=>{"use strict";var zC=Ld();Od.exports=(t="")=>{let i=t.match(zC);if(!i)return null;let[e,r]=i[0].replace(/#! ?/,"").split(" "),n=e.split("/").pop();return n==="env"?r:r?`${n} ${r}`:n}});var _d=W((uv,Md)=>{"use strict";var au=require("fs"),qC=Rd();function WC(t){let e=Buffer.alloc(150),r;try{r=au.openSync(t,"r"),au.readSync(r,e,0,150,0),au.closeSync(r)}catch{}return qC(e.toString())}Md.exports=WC});var Ud=W((lv,Vd)=>{"use strict";var JC=require("path"),jd=Nd(),$d=kd(),HC=_d(),GC=process.platform==="win32",XC=/\.(?:com|exe)$/i,QC=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function YC(t){t.file=jd(t);let i=t.file&&HC(t.file);return i?(t.args.unshift(t.file),t.command=i,jd(t)):t.file}function ZC(t){if(!GC)return t;let i=YC(t),e=!XC.test(i);if(t.options.forceShell||e){let r=QC.test(i);t.command=JC.normalize(t.command),t.command=$d.command(t.command),t.args=t.args.map(s=>$d.argument(s,r));let n=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${n}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function eb(t,i,e){i&&!Array.isArray(i)&&(e=i,i=null),i=i?i.slice(0):[],e=Object.assign({},e);let r={command:t,args:i,options:e,file:void 0,original:{command:t,args:i}};return e.shell?r:ZC(r)}Vd.exports=eb});var qd=W((cv,zd)=>{"use strict";var ou=process.platform==="win32";function uu(t,i){return Object.assign(new Error(`${i} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${i} ${t.command}`,path:t.command,spawnargs:t.args})}function tb(t,i){if(!ou)return;let e=t.emit;t.emit=function(r,n){if(r==="exit"){let s=Kd(n,i);if(s)return e.call(t,"error",s)}return e.apply(t,arguments)}}function Kd(t,i){return ou&&t===1&&!i.file?uu(i.original,"spawn"):null}function rb(t,i){return ou&&t===1&&!i.file?uu(i.original,"spawnSync"):null}zd.exports={hookChildProcess:tb,verifyENOENT:Kd,verifyENOENTSync:rb,notFoundError:uu}});var Hd=W((pv,wi)=>{"use strict";var Wd=require("child_process"),lu=Ud(),cu=qd();function Jd(t,i,e){let r=lu(t,i,e),n=Wd.spawn(r.command,r.args,r.options);return cu.hookChildProcess(n,r),n}function ib(t,i,e){let r=lu(t,i,e),n=Wd.spawnSync(r.command,r.args,r.options);return n.error=n.error||cu.verifyENOENTSync(n.status,r),n}wi.exports=Jd;wi.exports.spawn=Jd;wi.exports.sync=ib;wi.exports._parse=lu;wi.exports._enoent=cu});var du=W((dv,th)=>{"use strict";var pu="\x1B",Ae=`${pu}[`,nb="\x07",fu={to(t,i){return i?`${Ae}${i+1};${t+1}H`:`${Ae}${t+1}G`},move(t,i){let e="";return t<0?e+=`${Ae}${-t}D`:t>0&&(e+=`${Ae}${t}C`),i<0?e+=`${Ae}${-i}A`:i>0&&(e+=`${Ae}${i}B`),e},up:(t=1)=>`${Ae}${t}A`,down:(t=1)=>`${Ae}${t}B`,forward:(t=1)=>`${Ae}${t}C`,backward:(t=1)=>`${Ae}${t}D`,nextLine:(t=1)=>`${Ae}E`.repeat(t),prevLine:(t=1)=>`${Ae}F`.repeat(t),left:`${Ae}G`,hide:`${Ae}?25l`,show:`${Ae}?25h`,save:`${pu}7`,restore:`${pu}8`},sb={up:(t=1)=>`${Ae}S`.repeat(t),down:(t=1)=>`${Ae}T`.repeat(t)},ab={screen:`${Ae}2J`,up:(t=1)=>`${Ae}1J`.repeat(t),down:(t=1)=>`${Ae}J`.repeat(t),line:`${Ae}2K`,lineEnd:`${Ae}K`,lineStart:`${Ae}1K`,lines(t){let i="";for(let e=0;e<t;e++)i+=this.line+(e<t-1?fu.up():"");return t&&(i+=fu.left),i}};th.exports={cursor:fu,scroll:sb,erase:ab,beep:nb}});var mu=W((hv,hu)=>{var ks=process||{},rh=ks.argv||[],Ns=ks.env||{},ob=!(Ns.NO_COLOR||rh.includes("--no-color"))&&(!!Ns.FORCE_COLOR||rh.includes("--color")||ks.platform==="win32"||(ks.stdout||{}).isTTY&&Ns.TERM!=="dumb"||!!Ns.CI),ub=(t,i,e=t)=>r=>{let n=""+r,s=n.indexOf(i,t.length);return~s?t+lb(n,i,e,s)+i:t+n+i},lb=(t,i,e,r)=>{let n="",s=0;do n+=t.substring(s,r)+e,s=r+i.length,r=t.indexOf(i,s);while(~r);return n+t.substring(s)},ih=(t=ob)=>{let i=t?ub:()=>String;return{isColorSupported:t,reset:i("\x1B[0m","\x1B[0m"),bold:i("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:i("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:i("\x1B[3m","\x1B[23m"),underline:i("\x1B[4m","\x1B[24m"),inverse:i("\x1B[7m","\x1B[27m"),hidden:i("\x1B[8m","\x1B[28m"),strikethrough:i("\x1B[9m","\x1B[29m"),black:i("\x1B[30m","\x1B[39m"),red:i("\x1B[31m","\x1B[39m"),green:i("\x1B[32m","\x1B[39m"),yellow:i("\x1B[33m","\x1B[39m"),blue:i("\x1B[34m","\x1B[39m"),magenta:i("\x1B[35m","\x1B[39m"),cyan:i("\x1B[36m","\x1B[39m"),white:i("\x1B[37m","\x1B[39m"),gray:i("\x1B[90m","\x1B[39m"),bgBlack:i("\x1B[40m","\x1B[49m"),bgRed:i("\x1B[41m","\x1B[49m"),bgGreen:i("\x1B[42m","\x1B[49m"),bgYellow:i("\x1B[43m","\x1B[49m"),bgBlue:i("\x1B[44m","\x1B[49m"),bgMagenta:i("\x1B[45m","\x1B[49m"),bgCyan:i("\x1B[46m","\x1B[49m"),bgWhite:i("\x1B[47m","\x1B[49m"),blackBright:i("\x1B[90m","\x1B[39m"),redBright:i("\x1B[91m","\x1B[39m"),greenBright:i("\x1B[92m","\x1B[39m"),yellowBright:i("\x1B[93m","\x1B[39m"),blueBright:i("\x1B[94m","\x1B[39m"),magentaBright:i("\x1B[95m","\x1B[39m"),cyanBright:i("\x1B[96m","\x1B[39m"),whiteBright:i("\x1B[97m","\x1B[39m"),bgBlackBright:i("\x1B[100m","\x1B[49m"),bgRedBright:i("\x1B[101m","\x1B[49m"),bgGreenBright:i("\x1B[102m","\x1B[49m"),bgYellowBright:i("\x1B[103m","\x1B[49m"),bgBlueBright:i("\x1B[104m","\x1B[49m"),bgMagentaBright:i("\x1B[105m","\x1B[49m"),bgCyanBright:i("\x1B[106m","\x1B[49m"),bgWhiteBright:i("\x1B[107m","\x1B[49m")}};hu.exports=ih();hu.exports.createColors=ih});function st(t){let i=t.join(t.getAppRootDir(),"tsconfig.json");return t.exists(i)}var Vh=["node_modules","dist","build","public"];async function dt(t,i){async function e(n,s){if(s>10)return;let a=await t.readdir(n);for(let o of a){if(Vh.includes(o))continue;let u=t.join(n,o),l=await t.stat(u);if(l){if(l.isFile()&&o.startsWith("khulnasoft-registry."))return u;if(l.isDirectory()){let c=await e(u,s+1);if(c)return c}}}}let r=await e(t.getAppRootDir(),0);if(!r){let s=`khulnasoft-registry.${await st(t)?"ts":"js"}`;return t.join(i,s)}return r}async function Bi(t,i){let e=t.resolve("/");for(let r=0;r<20;r++){let n=t.join(i,"package.json"),s=await t.readFile(n);if(s)return JSON.parse(s);if(i===e)break;i=t.dirname(i)}return null}async function Nu(t,i){for(let e=0;e<20;e++){let r=t.dirname(i),n=t.join(r,"node_modules");if(await t.exists(n))return n;if(i===t.getAppRootDir())break;i=t.dirname(i)}return t.join(t.getAppRootDir(),"node_modules")}async function Li(t,i,e){let r=await t.readdir(i);return r.includes(e)?t.join(i,e):(await Promise.all(r.map(async s=>{if(s.startsWith(".")||s==="node_modules")return;let a=t.join(i,s);if((await t.stat(a)).isDirectory()){let u=await Li(t,a,e);if(u)return u}}))).find(s=>typeof s=="string")}var Lu=de(qs(),1);function kt(t){return t.endsWith(".mapper.tsx")||t.endsWith(".mapper.jsx")||t.endsWith(".mapper.ts")||t.endsWith(".mapper.js")||t.endsWith(".mapper.mjs")}function ne(t,i,e){i=Et(i),e=Et(e),i=t.dirname(i);let r=t.basename(e,t.extname(e));e=t.dirname(e);let n;return r==="index"?n=t.relative(i,e):n=t.relative(i,t.join(e,r)),n=Et(t.normalize(n)),n.startsWith(".")||(n="./"+n),n}function Et(t){return t.startsWith("\\\\?\\")?t:t.replace(/\\/g,"/")}function Ir(t,i){let e=t.extname(i),r=t.basename(i,e).split(/[\/\\]/),n=r[r.length-1];return Bu(n==="index"?t.basename(t.dirname(i)):n)}function Bu(t){return De(t).replace(/ /g,"")}function ht(t,i){let e=t.extname(i),r=Et(t.basename(i,e)).split("/").pop();return De(r==="index"?t.basename(t.dirname(i)):r)}function me(t,i){let e=Et(t.relative(t.getAppRootDir(),i));e=e.split("/").filter(n=>n!=="."&&n!==".."&&n!=="").join("/"),e.endsWith(".tsx")||e.endsWith(".jsx")?e=e.slice(0,-4):(e.endsWith(".ts")||e.endsWith(".js"))&&(e=e.slice(0,-3));let r=t.getFrameworks();return e.startsWith("src/")&&(e=e.slice(4)),r.some(n=>n.name.includes("next"))?"@/"+e:"~/"+e}function ue(t,i){let e=i,r=[];for(let n=0;n<2;n++){let s=t.basename(e);if(!s||s==="components")break;r.unshift(s),e=t.dirname(e)}return r.join("/")}function De(t){for(t=t.replace(/([A-Z])/g," $1").replace(/\./g," ").replace(/_/g," ").replace(/-/g," ").replace(/\s/g," ").trim();t.includes("  ");)t=t.replace(/  /g," ");return t.split(" ").map(i=>i.length>2?i[0].toUpperCase()+i.slice(1):i).join("").trim()}function it(t){return t.sort((i,e)=>i.name.toLocaleLowerCase().localeCompare(e.name.toLocaleLowerCase()))}async function ge(t,i,e,r){if(typeof e!="string"||e==="")throw new Error(`getComponentId(), exportName must be a non-empty string, received: ${e}, ${i}`);return r&&(i=r),i=t.normalize(i),(await t.hash(i+"#"+e)).substring(0,8)}function Oi(t){return typeof t=="number"}function Wr(t){return typeof t=="boolean"}function He(t){return typeof t=="string"}function Jr(t){return typeof t=="string"?/^[A-Z][A-Za-z0-9]*$/.test(t):!1}function at(t){return JSON.parse(JSON.stringify(t))}function vn(t,i,e){for(let r of i)if(t.dirname(e).includes(r))return!0;return!1}function Ou(){try{let t=(0,Lu.default)();if(t?.name)return t.name}catch{}return"npm"}async function Hr(t){let i=[],e=await Bi(t,t.getRepoRootDir());if(e){let r=await Kh(e,t);i.push(...r)}return i}async function Mu(t){let i=await Bi(t,t.getRepoRootDir());return i?.scripts?.dev?i.scripts.dev.includes("--turbopack"):!1}async function Kh(t,i){let e=[];if(t&&typeof t=="object"){let r=new Set(Object.keys({...t.dependencies,...t.devDependencies}));for(let n of zh)if(r.has(n)&&!e.some(s=>s.name===n)){let s={name:n};Ru.has(n)&&(s.version=await Ru.get(n)(i)),e.push(s)}}return e}function Ws(t){let i=parseInt(t);return Number.isNaN(i)?void 0:i}var Ru=new Map([["next",async t=>{if(!t.spawnSync)return;let i=Ou(),e=i==="npm"?"npx":i,{stdout:r}=t.spawnSync(e,["next","-v"],{encoding:"utf8"});if(!r)return;let n=r.match(/(Next.js v)([\d.]+)/g);if(!n)return;let s=n[0].split("Next.js v")[1],[a,o,u]=s.split(".");return{major:Ws(a),minor:Ws(o),patch:Ws(u)}}]]),zh=["@shopify/remix-oxygen","@shopify/hydrogen","@khulnasoft.com/qwik-city","@remix-run/react","@sveltejs/kit","astro","gatsby","next","nuxt","@khulnasoft.com/qwik","@angular/core","react","solid-js","svelte","vue"];async function Bt(t){let i=_u(t),e=await t.readFile(i);return typeof e=="string"?JSON.parse(e):{}}async function Lt(t,i){i=typeof i=="object"&&i!=null?i:{};let e=_u(t);await t.writeFile(e,JSON.stringify(i??{},null,2))}function _u(t){let i=t.getAppRootDir();return t.join(i,"node_modules",".khulnasoft","khulnasoft-cache.json")}async function dr(t,i,e){let r={envKey:e,envValue:null,file:""};for(let n of i){let s=t.join(t.getAppRootDir(),n),a=await qh(t,s);if(a){let o=a[e];if(typeof o=="string"&&o.length>0&&o!=="YOUR_API_KEY")return r.envValue=o,r.file=s,r}}return r.file=t.join(t.getAppRootDir(),i[i.length-1]),r}async function qh(t,i){let e=await t.readFile(i);return typeof e=="string"?Wh(e):null}function Wh(t){let i={},e=t.replace(/\r\n?/gm,`
    `),r;for(;(r=Jh.exec(e))!=null;){let n=r[1],s=r[2]||"";s=s.trim();let a=s[0];s=s.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),a==='"'&&(s=s.replace(/\\n/g,`
    `),s=s.replace(/\\r/g,"\r")),i[n]=s}return i}var Jh=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;async function hr(t,i,e,r){let n="# https://www.khulnasoft.com/c/docs/using-your-api-key",s=await t.readFile(i);if(s)if(s.includes(e))if(s.includes(r))t.debug(`"${e}" with "${r}" already set in ${i}`);else return t.debug(`Replace "${e}" in ${i}`),s=s.replace(new RegExp(`${e}=.*`),`${e}=${r}`),await t.writeFile(i,s),"update";else return t.debug(`Append "${e}" to ${i}`),s+=`
    
    ${n}
    ${e}=${r}
    
    `,await t.writeFile(i,s),"update";else return t.debug(`Creating new .env file with "${e}" at ${i}`),s=[n,`${e}=${r}`,""].join(`
    `),await t.writeFile(i,s),"create";return null}async function Ri(t){return await dr(t,[".env.local",".env.development.local",".env.production.local",".env.development",".env.production",".env"],Ot)}async function ju(t,i){let e=await Ri(t),r=await hr(t,e.file,e.envKey,i);return{...e,modifiedType:r}}var Ot="NEXT_PUBLIC_KHULNASOFT_API_KEY";var j={gen1:"Gen 1",gen2:"Gen 2"};function Y(t,i=""){return t.ts.createSourceFile("module.tsx",typeof i=="string"?i:"",t.ts.ScriptTarget.Latest,void 0)}function Fn(t,i=""){let e=Y(t,i?.trim());if(e.statements.length===0)throw new Error(`No statements found in code: ${i}`);return e.statements[0]}function le(t,i,e){if(i){let r=t.ts.createPrinter({newLine:t.ts.NewLineKind.LineFeed,removeComments:e});return t.ts.isSourceFile(i)?r.printFile(i).trim()+`
    `:r.printNode(t.ts.EmitHint.Unspecified,i,t.ts.createSourceFile("module.tsx","",t.ts.ScriptTarget.Latest)).trim()+`
    `}return""}function Gr(t,i,e,r,n=!0){let s=i.properties.filter(o=>t.ts.isPropertyAssignment(o)),a=Hh(t,i,e);return a>-1?r==null&&n?t.ts.factory.updateObjectLiteralExpression(i,s.filter((o,u)=>u!==a)):(s[a]=t.ts.factory.updatePropertyAssignment(s[a],s[a].name,Mi(t,r)),t.ts.factory.updateObjectLiteralExpression(i,s)):(r!=null&&s.push(t.ts.factory.createPropertyAssignment(e,Mi(t,r))),t.ts.factory.updateObjectLiteralExpression(i,s))}function Hh(t,i,e){return i.properties.findIndex(r=>re(t,r)===e)}function _i(t,i){switch(i.kind){case t.ts.SyntaxKind.ArrayLiteralExpression:return Xh(t,i);case t.ts.SyntaxKind.ObjectLiteralExpression:return Gh(t,i);case t.ts.SyntaxKind.StringLiteral:return i.text;case t.ts.SyntaxKind.NumericLiteral:return Number(i.text);case t.ts.SyntaxKind.NoSubstitutionTemplateLiteral:return i.text;case t.ts.SyntaxKind.TrueKeyword:return!0;case t.ts.SyntaxKind.FalseKeyword:return!1;case t.ts.SyntaxKind.Identifier:switch(i.escapedText){case"undefined":return;case"null":return null;case"String":return String;case"Number":return Number;case"Boolean":return Boolean;case"NaN":return NaN}}}function Gh(t,i){let e={};if(i&&t.ts.isObjectLiteralExpression(i)){for(let r of i.properties)if(t.ts.isPropertyAssignment(r)){let n=re(t,r);n&&(e[n]=_i(t,r.initializer))}}return e}function Xh(t,i){return i&&t.ts.isArrayLiteralExpression(i)?i.elements.map(e=>_i(t,e)):[]}function re(t,i){if(i&&t.ts.isPropertyAssignment(i)){let e=i.name;switch(e.kind){case t.ts.SyntaxKind.Identifier:return e.text;case t.ts.SyntaxKind.StringLiteral:case t.ts.SyntaxKind.NumericLiteral:return e.text;case t.ts.SyntaxKind.ComputedPropertyName:let r=e.expression;if(t.ts.isStringLiteral(r)||t.ts.isNumericLiteral(r))return e.expression.text}}}function Mi(t,i){return Js(t,i,new WeakSet)}function Js(t,i,e){return i===void 0?t.ts.factory.createIdentifier("undefined"):i===null?t.ts.factory.createIdentifier("null"):typeof i=="string"?t.ts.factory.createStringLiteral(i):typeof i=="number"?isNaN(i)?t.ts.factory.createIdentifier("NaN"):t.ts.factory.createNumericLiteral(i):i===!0?t.ts.factory.createTrue():i===!1?t.ts.factory.createFalse():i===String?t.ts.factory.createIdentifier("String"):i===Number?t.ts.factory.createIdentifier("Number"):i===Boolean?t.ts.factory.createIdentifier("Boolean"):Array.isArray(i)?Qh(t,i,e):typeof i=="object"?Yh(t,i,e):t.ts.factory.createIdentifier(i)}function Qh(t,i,e){let r=i.map(n=>Js(t,n,e));return t.ts.factory.createArrayLiteralExpression(r,!0)}function Yh(t,i,e){if(e.has(i))return t.ts.factory.createIdentifier("undefined");e.add(i);let r=Object.keys(i).map(n=>t.ts.factory.createPropertyAssignment(n,Js(t,i[n],e)));return t.ts.factory.createObjectLiteralExpression(r,!0)}function Nr(t,i,e){let r=[];if(!e)return r;let n=null;if(t.ts.isArrowFunction(e)||t.ts.isFunctionExpression(e)||t.ts.isFunctionDeclaration(e)){let s=e.parameters;if(s.length>0){let a=s[0],o=i.getTypeAtLocation(a);o.aliasTypeArguments&&o.aliasTypeArguments.length>0&&(o=o.aliasTypeArguments[0]),!!(o.flags&t.ts.TypeFlags.Object)&&(n=o.getProperties())}}else if(t.ts.isIdentifier(e)){let s=i.getTypeAtLocation(e),a=s.symbol?.valueDeclaration;if(a&&t.ts.isClassDeclaration(a)){let u=a.heritageClauses?.find(l=>l.token===t.ts.SyntaxKind.ExtendsKeyword)?.types;if(u){for(let l of u)if(i.getSymbolAtLocation(l.expression)?.name==="Component"){if(t.ts.isExpressionWithTypeArguments(l)){let p=l.typeArguments;if(p){let f=p[0];n=i.getTypeFromTypeNode(f).getProperties()}}break}}}if(!n){let o=s.getCallSignatures();if(o.length>0){let u=o[0].getParameters();u.length>0&&(n=i.getTypeOfSymbolAtLocation(u[0],e).getProperties())}}}else if(t.ts.isExportSpecifier(e)){let s=i.getSymbolAtLocation(e.name);if(s){let o=i.getTypeOfSymbolAtLocation(s,e).getCallSignatures();if(o.length>0){let u=o[0].getParameters();u.length>0&&(n=i.getTypeOfSymbolAtLocation(u[0],e).getProperties())}}}if(n)for(let s of n){let a=Zh(t,i,s);a&&r.push(a)}return r=r.filter(Vu),r.length>0?r:em(t,e)}function Zh(t,i,e){let r=e.valueDeclaration,n=e.getName();if(r||(r=e.getDeclarations()?.[0]),r&&t.ts.isPropertySignature(r)){if(n!=="children"&&r.getSourceFile().fileName.includes("node_modules/@types/"))return null;let s="string",a;if(r?.type){let u=i.getTypeFromTypeNode(r.type),l=i.typeToString(u),c=Hs(l);c.knownType?s=c.khulnasoftType:rm(l)||u.flags&t.ts.TypeFlags.StringLike?s="string":u.flags&t.ts.TypeFlags.NumberLike?s="number":u.flags&t.ts.TypeFlags.IndexedAccess?s="list":u.flags&t.ts.TypeFlags.Object||u.isUnion()&&u.types.every(p=>p.flags&t.ts.TypeFlags.Object)||u.isIntersection()&&u.types.some(p=>p.flags&t.ts.TypeFlags.Object)?s="object":s="string",l!==s&&(a=l)}let o={name:n,type:s,isRegistered:!1};if(a&&r.type){let u=am(t,i,i.getTypeFromTypeNode(r.type));o.meta=o.meta||{},u&&u.length>0&&o.type==="string"&&u.every(nm)?o.enum=u.map(sm):o.meta.ts=a}return r.questionToken||(o.required=!0),o}return null}function em(t,i){let e=[],r=t.ts.getJSDocCommentsAndTags(i);for(let n of r)if(!(!t.ts.isJSDoc(n)||!n.tags))for(let s of n.tags){if(!t.ts.isJSDocParameterTag(s)||s.tagName.text!=="param")continue;let o=s.typeExpression?.type;if(!o||!t.ts.isJSDocTypeLiteral(o))continue;let u=o.jsDocPropertyTags;if(u)for(let l of u){if(!t.ts.isJSDocPropertyLikeTag(l))continue;let c=l.name;if(!t.ts.isQualifiedName(c))continue;let p=l.typeExpression;if(!p)continue;let f="";switch(p.type.kind){case t.ts.SyntaxKind.StringKeyword:{f="string";break}case t.ts.SyntaxKind.NumberKeyword:{f="number";break}case t.ts.SyntaxKind.BooleanKeyword:{f="boolean";break}default:continue}let d={name:c.right.text,type:f,isRegistered:!1};e.push(d)}}return e.filter(Vu)}var tm=["ClassicComponent","FunctionComponent","IntrinsicElements","JSX","ReactNode","ReactElement","ReactPortal"];function rm(t){return typeof t!="string"?!1:!!tm.some(i=>t.includes(i))}function Hs(t){return typeof t=="string"&&(t=t.trim(),im.some(i=>i.value===t))?{khulnasoftType:t,knownType:!0}:{khulnasoftType:"string",knownType:!1}}var im=[{value:"boolean",text:"boolean"},{value:"color",text:"color (provides a color in hex or rgb)"},{value:"date",text:"date (same format as the Date constructor)"},{value:"email",text:"email"},{value:"file",text:"file (uploads a file and provides a url)"},{value:"list",text:"list (collection of items)"},{value:"longText",text:"longText (multiline text editor)"},{value:"number",text:"number"},{value:"object",text:"object (set of specific names and values)"},{value:"richText",text:"richText (provides value as html)"},{value:"string",text:"string"}];function nm(t){return/^['"].*['"]$/.test(t)}function sm(t){return(t.startsWith('"')||t.startsWith("'"))&&(t.endsWith('"')||t.endsWith("'"))?t.slice(1,-1):t}var am=(t,i,e)=>{let r=new Set;$u(t,i,e,r);let n=r.delete("true"),s=r.delete("false");(n||s)&&r.add("boolean");let a=Array.from(r.keys()).sort();if(a.length>1&&(a=a.map(o=>o.indexOf("=>")>=0?`(${o})`:o)),!(a.length>20))return a},om=(t,i,e)=>{let r=t.ts.TypeFormatFlags.InElementType|t.ts.TypeFormatFlags.NoTruncation;return i.typeToString(e,void 0,r)},$u=(t,i,e,r)=>{if(e.isUnion())e.types.forEach(n=>{$u(t,i,n,r)});else if(e.isLiteral()){let n=om(t,i,e);r.add(n)}};function Vu(t){let i=t?.name;if(typeof i!="string"||i===""||i.startsWith("aria")||i.startsWith("data-"))return!1;if(i.startsWith("on")&&i.length>2){let e=i.charAt(2);if(e.toUpperCase()===e)return!1}return!um.has(i.toLowerCase())}var um=new Set(["about","accessKey","accessKeyLabel","asChild","autoCapitalize","autoCorrect","autoFocus","autoSave","blur","contentEditable","contextMenu","dangerouslySetInnerHTML","datatype","defaultChecked","defaultValue","dir","draggable","enterKeyHint","focus","form","formAction","formEncType","formMethod","formNoValidate","formTarget","inlist","innerText","inputMode","is","isContentEditable","itemID","itemProp","itemRef","itemScope","itemType","lang","nonce","offsetHeight","offsetLeft","offsetTop","offsetWidth","outerText","prefix","property","radioGroup","rel","resource","results","rev","role","security","slot","spellCheck","suppressContentEditableWarning","suppressHydrationWarning","tabIndex","translate","typeof","unselectable","vocab"].map(t=>t.toLowerCase()));function nt(t,i,e){for(let r of e.properties){if(!t.ts.isPropertyAssignment(r))continue;let n=re(t,r);if(n==="name"&&t.ts.isStringLiteral(r.initializer)){i.name=r.initializer.text;continue}if(n==="description"&&t.ts.isStringLiteral(r.initializer)){i.description=r.initializer.text;continue}if(n==="image"&&t.ts.isStringLiteral(r.initializer)){i.image=r.initializer.text;continue}if(n==="inputs"&&t.ts.isArrayLiteralExpression(r.initializer)){let s=lm(t,r.initializer);ot(i,s);continue}if(n==="meta"&&t.ts.isObjectLiteralExpression(r.initializer)){let s=_i(t,r.initializer);s&&typeof s=="object"&&(i.meta=s);continue}}return i}function lm(t,i){let e=[];for(let r of i.elements)t.ts.isObjectLiteralExpression(r)&&e.push(cm(t,r));return e}function cm(t,i){let e=_i(t,i),r=Dm(e);return r.isRegistered=!0,r}function Le(t,i,e){let r=fm(e);return i=Gr(t,i,"name",r.name,!1),i=Gr(t,i,"description",r.description),i=Gr(t,i,"image",r.image),i=Gr(t,i,"meta",r.meta),i=pm(t,i,r),ym(t,i)}function pm(t,i,e){let r=null,n=i.properties.filter(o=>t.ts.isPropertyAssignment(o)&&t.ts.isIdentifier(o.name)),s=n.findIndex(o=>t.ts.isIdentifier(o.name)&&o.name.text==="inputs"),a=[...e.inputs??[]];if(s>-1){if(a.length===0)return Gr(t,i,"inputs",null);let o=n[s];t.ts.isPropertyAssignment(o)&&t.ts.isArrayLiteralExpression(o.initializer)&&(r=o.initializer)}return a.length===0?i:(r=hm(t,r||t.ts.factory.createArrayLiteralExpression(),a),s>-1?n[s]=t.ts.factory.updatePropertyAssignment(n[s],n[s].name,r):n.push(t.ts.factory.createPropertyAssignment("inputs",r)),t.ts.factory.updateObjectLiteralExpression(i,n))}function fm(t){return{name:t.name,description:t.description,image:t.image,inputs:(t.inputs||[]).filter(e=>e.isRegistered).map(dm),...t.meta?{meta:{...t.meta}}:{}}}function dm(t){let i={name:t.name,type:t.type};return(He(t.defaultValue)||Oi(t.defaultValue)||Wr(t.defaultValue))&&(i.defaultValue=t.defaultValue),He(t.friendlyName)&&(i.friendlyName=t.friendlyName),He(t.helperText)&&(i.helperText=t.helperText),t.required===!0&&(i.required=!0),Array.isArray(t.enum)&&(i.enum=t.enum),t.hideFromUI===!0&&(i.hideFromUI=!0),typeof t.meta=="object"&&t.meta!=null&&Object.keys(t.meta).length>0&&(i.meta=t.meta),i}function hm(t,i,e){let r=i.elements.filter(n=>{if(!t.ts.isObjectLiteralExpression(n))return!1;let s=n.properties.find(o=>re(t,o)==="name");if(!s)return!1;let a=s.initializer;return t.ts.isStringLiteral(a)?e.some(o=>o.name===a.text):!1});for(let n of e)r=mm(t,r,n);return r.sort((n,s)=>{let a=n.properties.find(f=>re(t,f)==="name"),o=s.properties.find(f=>re(t,f)==="name"),u=a?.initializer,l=o?.initializer,c=u&&t.ts.isStringLiteral(u)?u.text:"zz",p=l&&t.ts.isStringLiteral(l)?l.text:"zz";return c.toLowerCase().localeCompare(p.toLowerCase())}),t.ts.factory.updateArrayLiteralExpression(i,r)}function mm(t,i,e){let r=i.findIndex(n=>n.properties.some(s=>{let a=re(t,s);return t.ts.isPropertyAssignment(s)&&a==="name"&&t.ts.isStringLiteral(s.initializer)&&s.initializer.text===e.name}));if(r>-1)i[r]=Uu(t,i[r],e);else{let n=Uu(t,t.ts.factory.createObjectLiteralExpression([t.ts.factory.createPropertyAssignment("name",t.ts.factory.createStringLiteral(e.name))],!0),e);i.push(n)}return i}function Uu(t,i,e){let r=i.properties.filter(s=>t.ts.isPropertyAssignment(s)),n=Object.keys(e).filter(s=>s!=="isRegistered");for(let s of n)r=gm(t,r,e,s);return r=xm(t,r.filter(s=>{let a=re(t,s);return n.includes(a)})),t.ts.factory.updateObjectLiteralExpression(i,r)}function gm(t,i,e,r){let n=i.findIndex(s=>t.ts.isIdentifier(s.name)&&s.name.text===r);return n>-1?i[n]=t.ts.factory.updatePropertyAssignment(i[n],i[n].name,Mi(t,e[r])):i.push(t.ts.factory.createPropertyAssignment(r,Mi(t,e[r]))),i}function ot(t,i){for(let e of i){let r=t.inputs.findIndex(n=>n.name===e.name);r>-1?(e.isRegistered||!t.inputs[r].isRegistered)&&(t.inputs[r]=e):t.inputs.push(e)}t.acceptsChildren=Gs(t)}function Dm(t){let i=Hs(t.type),e={name:t.name.trim(),type:i.khulnasoftType};return He(t.friendlyName)&&t.friendlyName.trim()!==t.name.trim()&&(e.friendlyName=t.friendlyName),(He(t.defaultValue)||Oi(t.defaultValue)||Wr(t.defaultValue))&&(e.defaultValue=t.defaultValue),He(t.helperText)&&(e.helperText=t.helperText),Wr(t.required)&&(e.required=t.required),typeof t.meta=="object"&&t.meta!=null&&Object.keys(t.meta).length>0&&(e.meta=t.meta),Array.isArray(t.enum)&&t.enum.length>0&&(e.enum=t.enum),t.hideFromUI===!0&&(e.hideFromUI=!0),Xs(e)}function Gs(t){let i=t.inputs.some(r=>r.name==="children"),e=t.inputs.some(r=>r.meta?.ts==="ReactNode");return!!(i||e||t.acceptsChildren===!0)}function Xs(t){if(t.name==="children"&&(t.hideFromUI=!0,delete t.required),t.type==="object"&&t.defaultValue==null&&(t.hideFromUI=!0),t.type==="list"&&t.defaultValue==null&&(t.hideFromUI=!0),t.meta){let i=t.meta.ts;typeof i=="string"&&(i=i.trim(),i.endsWith("ReactNode")&&(i="ReactNode"),t.meta.ts=i,i==="ReactNode"&&(t.hideFromUI=!0))}return t}function ym(t,i){let e=[...i.properties].sort((r,n)=>{let s=re(t,r)||"zz",a=re(t,n)||"zz";if(s==="inputs")return 1;let o=Ku.indexOf(s),u=Ku.indexOf(a);return o>-1?u>-1&&o>u?1:-1:u>-1?o>-1&&u<o?-1:1:s.localeCompare(a)});return t.ts.factory.updateObjectLiteralExpression(i,e)}var Ku=["component","name","description"];function xm(t,i){return[...i].sort((r,n)=>{let s=re(t,r)||"zz",a=re(t,n)||"zz",o=zu.indexOf(s),u=zu.indexOf(a);return o>-1?u>-1&&o>u?1:-1:u>-1?o>-1&&u<o?-1:1:s.localeCompare(a)})}var zu=["name","type"];function Xr(t,i){for(let e of i.properties){if(!t.ts.isPropertyAssignment(e)||!t.ts.isIdentifier(e.name))continue;if(re(t,e)==="canHaveChildren"){let{initializer:n}=e;return n.kind===t.ts.SyntaxKind.TrueKeyword}}return!1}function qu(t,i){let e=`Khulnasoft.registerComponent(
    `;if(t.appDir)i.acceptsChildren?e+=`  withChildren(${i.importName}),
    `:e+=`  ${i.importName},
    `;else{let n=i.externalImportPath?i.externalImportPath:ne(t,t.registryPath,i.filePath);i.exportName==="default"?i.acceptsChildren?e+=`  withChildren(dynamic(() => import(${JSON.stringify(n)}))),
    `:e+=`  dynamic(() => import(${JSON.stringify(n)})),
    `:i.acceptsChildren?e+=`  withChildren(dynamic(async () => (await import(${JSON.stringify(n)})).${i.exportName})),
    `:e+=`  dynamic(async () => (await import(${JSON.stringify(n)})).${i.exportName}),
    `}e+=`  {
        name: "${i.name}",
      }
    `,e+=");";let r=Fn(t,e);return Qs(t,r,i)}function Qs(t,i,e){if(!t.ts.isExpressionStatement(i))return i;let r=i.expression;if(!t.ts.isCallExpression(r))return i;let n=[...r.arguments];if(n.length<2)return i;e.acceptsChildren?t.ts.isCallExpression(n[0])&&t.ts.isIdentifier(n[0].expression)&&n[0].expression.text==="withChildren"||(n[0]=t.ts.factory.createCallExpression(t.ts.factory.createIdentifier("withChildren"),void 0,[n[0]])):t.ts.isCallExpression(n[0])&&t.ts.isIdentifier(n[0].expression)&&n[0].expression.text==="withChildren"&&(n[0]=n[0].arguments[0]);let s=n[1];return t.ts.isObjectLiteralExpression(s)?(n[1]=Le(t,s,e),t.ts.factory.updateExpressionStatement(i,t.ts.factory.updateCallExpression(r,r.expression,r.typeArguments,n))):i}async function $e(t,i,e){if(!Array.isArray(i)||i.length===0)throw new Error(`createTsProgram() Invalid filePaths: ${i}`);let r=await Nu(t,i[0]),n=t.join(r,"typescript","lib"),s=new Map,a={fileExists:o=>{if(o=t.normalize(o),o.includes("node_modules")){let u=ji.get(o);if(!u){try{t.statSync(o).isFile()?u={exists:!0,content:t.readFileSync(o)}:u={exists:!1}}catch{u={exists:!1}}ji.set(o,u)}return u.exists}if(!s.has(o))if(t.existsSync(o)){let l=t.statSync(o);s.set(o,l.isFile())}else s.set(o,!1);return s.get(o)},getCanonicalFileName:o=>t.normalize(o),getCurrentDirectory:()=>t.cwd(),getDefaultLibFileName:()=>t.join(n,"lib.d.ts"),getDefaultLibLocation:()=>n,getNewLine:()=>`
    `,getSourceFile:o=>{if(o=t.normalize(o),o.includes("node_modules")){let l=ji.get(o);if(l)return Y(t,l.content)}let u;try{u=t.readFileSync(o)}catch{console.error(`Could not read: ${o}`),u==null}if(u==null){let l=t.basename(o),c=t.extname(l).toLowerCase();if(o.startsWith(n)&&c===".ts"&&(u=Ju.get(l),u==null&&typeof self<"u"&&typeof fetch=="function"))throw new Nn(l)}return o.includes("node_modules")&&(u?ji.set(o,{exists:!0,content:u}):ji.set(o,{exists:!1})),Y(t,u)},readFile:o=>{let u=t.readFileSync(o);return typeof u=="string"?u:void 0},useCaseSensitiveFileNames:()=>!1,writeFile:()=>{}};for(;;)try{return Cm(t,a,i,e)}catch(o){if(o instanceof Nn){await bm(t,o.libName);continue}throw t.Sentry?.captureException(o),new Error(`createTsProgram() Could not create program for: ${i[0]}`,{cause:o})}}function Cm(t,i,e,r){let n={rootNames:[...e],host:i,options:{}},s=t.ts.findConfigFile(t.dirname(e[0]),a=>t.existsSync(a));if(s){let a=Wu.get(s);if(!a){let o=t.ts.readConfigFile(s,u=>{let l=t.readFileSync(u);return typeof l=="string"?l:void 0});o.error?t.Sentry?.captureException(new Error("Error reading tsconfig for createTsProgram"),{extra:{error:o.error,tsConfigPath:s}}):(a=t.ts.parseJsonConfigFileContent(o.config,t.ts.sys||{useCaseSensitiveFileNames:!1,readDirectory:(l,c)=>t.readdirSync(l),fileExists:l=>t.existsSync(l),readFile:l=>t.readFileSync(l)||void 0},t.dirname(s),void 0,s).options,Wu.set(s,a))}a&&(n.options=at(a))}return n.options.noEmit=!0,n.options.isolatedModules=!1,n.options.strict=!1,n.options.jsx=t.ts.JsxEmit.Preserve,n.options.allowJs=!0,Object.assign(n.options,r),t.ts.createProgram(n)}async function Qr(t,i,e){e||(e=await $e(t,[i]));let r=e.getSourceFile(i);if(!r)throw new Error(`getTypeChecker() Could not find source file: ${i}`);return{typeChecker:e.getTypeChecker(),sourceFile:r}}var Nn=class{constructor(i){this.libName=i}};async function bm(t,i){let e=`https://cdn.jsdelivr.net/npm/typescript@${t.ts.version}/lib/${i}`;In.has(i)||In.set(i,fetch(e).then(r=>r.text()).then(r=>{Ju.set(i,r)})),await In.get(i),In.delete(i)}var Ju=new Map,In=new Map,ji=new Map,Wu=new Map;function H(t,i,e,r="esm"){return Array.isArray(e.namedImports)&&e.namedImports.forEach(n=>{i=Em(t,i,n,e.importPath,!!e.isTypeOnly,r)}),typeof e.defaultImport=="string"&&(i=Sm(t,i,e.defaultImport,e.importPath,r)),i}function Em(t,i,e,r,n,s){return s==="cjs"?Gu(t,i,null,e,r):Hu(t,i,null,e,r,n)}function Sm(t,i,e,r,n){return n==="cjs"?Gu(t,i,e,null,r):Hu(t,i,e,null,r,!1)}function Hu(t,i,e,r,n,s){let a=[...i.statements],o=0,u=!1,l=!1;for(let h=0;h<a.length;h++){let d=a[h];if(!t.ts.isImportDeclaration(d)||(o=h,!d.moduleSpecifier||!t.ts.isStringLiteral(d.moduleSpecifier))||d.moduleSpecifier.text!==n||!!d.importClause?.isTypeOnly!==s)continue;let m=[],g=d.importClause?.namedBindings;if(g&&t.ts.isNamedImports(g)&&g.elements&&m.push(...g.elements),typeof r=="string"){if(m.some(x=>x.name.text===r))return i;m.push(t.ts.factory.createImportSpecifier(!1,void 0,t.ts.factory.createIdentifier(r))),m.sort((x,P)=>x.name.text.localeCompare(P.name.text)),u=!0}let D=d.importClause?d.importClause.name:void 0;if(typeof e=="string"){if(D&&D.text===e)return i;D=t.ts.factory.createIdentifier(e),l=!0}if(u||l)return a[h]=t.ts.factory.updateImportDeclaration(d,void 0,t.ts.factory.createImportClause(s,D,t.ts.factory.createNamedImports(m)),d.moduleSpecifier,void 0),t.ts.factory.updateSourceFile(i,a)}let c,p;typeof e=="string"&&(c=t.ts.factory.createIdentifier(e)),typeof r=="string"&&(p=t.ts.factory.createNamedImports([t.ts.factory.createImportSpecifier(!1,void 0,t.ts.factory.createIdentifier(r))]));let f=t.ts.factory.createImportDeclaration(void 0,t.ts.factory.createImportClause(s,c,p),t.ts.factory.createStringLiteral(n));return a.splice(o,0,f),t.ts.factory.updateSourceFile(i,a)}function Gu(t,i,e,r,n){let s=[...i.statements],a=0;for(let o=0;o<s.length;o++){let u=s[o];if(t.ts.isVariableStatement(u))for(let l=0;l<u.declarationList.declarations.length;l++){let c=[...u.declarationList.declarations],p=c[l],f=p.initializer;if(!f||!t.ts.isCallExpression(f))continue;let h=f.expression;if(!t.ts.isIdentifier(h)||h.text!=="require"||f.arguments.length!==1)continue;let d=f.arguments[0];if(t.ts.isStringLiteral(d)&&(a=o,d.text===n)){if(t.ts.isIdentifier(p.name)&&typeof e=="string")return p.name.text===e?i:(c[l]=t.ts.factory.updateVariableDeclaration(p,t.ts.factory.createIdentifier(e),p.exclamationToken,p.type,p.initializer),s[o]=t.ts.factory.updateVariableStatement(u,u.modifiers,t.ts.factory.updateVariableDeclarationList(u.declarationList,c)),t.ts.factory.updateSourceFile(i,s));if(t.ts.isObjectBindingPattern(p.name)&&typeof r=="string"){let m=[...p.name.elements];return m.some(D=>!t.ts.isBindingElement(D)||!t.ts.isIdentifier(D.name)?!1:D.name.text===r)?i:(m.push(t.ts.factory.createBindingElement(void 0,void 0,r)),m.sort((D,x)=>!t.ts.isBindingElement(D)||!t.ts.isIdentifier(D.name)||!t.ts.isBindingElement(x)||!t.ts.isIdentifier(x.name)?0:D.name.text.localeCompare(x.name.text)),c[l]=t.ts.factory.updateVariableDeclaration(p,t.ts.factory.createObjectBindingPattern(m),p.exclamationToken,p.type,p.initializer),s[o]=t.ts.factory.updateVariableStatement(u,u.modifiers,t.ts.factory.updateVariableDeclarationList(u.declarationList,c)),t.ts.factory.updateSourceFile(i,s))}}}}if(typeof e=="string"){let o=t.ts.factory.createVariableStatement(void 0,t.ts.factory.createVariableDeclarationList([t.ts.factory.createVariableDeclaration(e,void 0,void 0,t.ts.factory.createCallExpression(t.ts.factory.createIdentifier("require"),void 0,[t.ts.factory.createStringLiteral(n)]))],t.ts.NodeFlags.Const));return s.splice(a,0,o),t.ts.factory.updateSourceFile(i,s)}if(typeof r=="string"){let o=t.ts.factory.createVariableStatement(void 0,t.ts.factory.createVariableDeclarationList([t.ts.factory.createVariableDeclaration(t.ts.factory.createObjectBindingPattern([t.ts.factory.createBindingElement(void 0,void 0,r)]),void 0,void 0,t.ts.factory.createCallExpression(t.ts.factory.createIdentifier("require"),void 0,[t.ts.factory.createStringLiteral(n)]))],t.ts.NodeFlags.Const));return s.splice(a,0,o),t.ts.factory.updateSourceFile(i,s)}return i}function mt(t,i,e="esm"){return e==="cjs"?Am(t,i):Pm(t,i)}function Pm(t,i){let e=[];for(let r of i.statements){if(t.ts.isExportDeclaration(r)){if(r.exportClause&&t.ts.isNamedExports(r.exportClause)){for(let n of r.exportClause.elements)if(r.moduleSpecifier&&e.push({isDefaultExport:!1,statement:r,node:n}),t.ts.isIdentifier(n.name)){let s=n.name.text;for(let a of i.statements)if(t.ts.isVariableStatement(a))for(let o of a.declarationList.declarations)t.ts.isIdentifier(o.name)&&o.name.text===s&&e.push({isDefaultExport:!1,statement:a,node:a});else t.ts.isFunctionDeclaration(a)&&a.name&&a.name.text===s&&e.push({isDefaultExport:!1,statement:a,node:a})}}else!r.exportClause&&r.moduleSpecifier&&e.push({isDefaultExport:!1,statement:r,node:r});continue}if(t.ts.isExportAssignment(r)){let n=r.flags===t.ts.NodeFlags.None,s=r.expression;if(t.ts.isIdentifier(s)){let a=s.text;for(let o of i.statements){if(t.ts.isVariableStatement(o))for(let u of o.declarationList.declarations)t.ts.isIdentifier(u.name)&&u.name.text===a&&e.push({isDefaultExport:n,statement:o,node:o});t.ts.isFunctionDeclaration(o)&&o.name?.text===a&&e.push({isDefaultExport:n,statement:o,node:o})}}else(t.ts.isArrowFunction(s)||t.ts.isCallExpression(s)||t.ts.isFunctionDeclaration(s)||t.ts.isObjectLiteralExpression(s))&&e.push({isDefaultExport:n,statement:r,node:s});continue}if((t.ts.isVariableStatement(r)||t.ts.isFunctionDeclaration(r))&&r.modifiers&&r.modifiers.some(n=>n.kind===t.ts.SyntaxKind.ExportKeyword)){e.push({isDefaultExport:r.modifiers.some(n=>n.kind===t.ts.SyntaxKind.DefaultKeyword),statement:r,node:r});continue}}return e}function Am(t,i){let e=[];for(let r of i.statements)if(t.ts.isExpressionStatement(r)&&t.ts.isBinaryExpression(r.expression)&&t.ts.isPropertyAccessExpression(r.expression.left)){let n=r.expression.left,s=r.expression.right;if(!t.ts.isIdentifier(n.expression))continue;if(n.expression.text==="module"&&n.name.text==="exports"){if(t.ts.isIdentifier(s)){let a=s.text;for(let o of i.statements)if(t.ts.isVariableStatement(o))for(let u of o.declarationList.declarations)t.ts.isIdentifier(u.name)&&u.name.text===a&&e.push({isDefaultExport:!0,statement:o,node:o});else t.ts.isFunctionDeclaration(o)&&o.name&&o.name.text===a&&e.push({isDefaultExport:!0,statement:o,node:o})}else e.push({isDefaultExport:!0,statement:r,node:s});continue}}return e}function Tm(t,i,e){for(let r of i.statements)if(t.ts.isImportDeclaration(r)&&r.importClause){if(r.importClause.namedBindings&&t.ts.isNamedImports(r.importClause.namedBindings)){for(let n of r.importClause.namedBindings.elements)if(t.ts.isIdentifier(n.name)&&n.name.text===e&&t.ts.isStringLiteral(r.moduleSpecifier))return{importPath:r.moduleSpecifier.text,exportType:"named"}}if(r.importClause.name&&r.importClause.name.text===e&&t.ts.isStringLiteral(r.moduleSpecifier))return{importPath:r.moduleSpecifier.text,exportType:"default"}}return null}async function Rt(t,i,e,r){let n=Tm(t,e,r);if(n){let s=await $i(t,t.normalize(t.resolve(t.dirname(i),n.importPath))),a=t.relative(t.getAppRootDir(),s);return{displayFilePath:ue(t,s),filePath:s,relFilePath:a,importPath:n.importPath,exportType:n.exportType}}return null}function Yr(t,i,e){for(let r=0;r<i.statements.length;r++){let n=i.statements[r];if(t.ts.isVariableStatement(n)){for(let s of n.declarationList.declarations)if(t.ts.isIdentifier(s.name)&&s.name.text===e)return{statement:n,statementIndex:r}}}return null}function ke(t,i,e){let r=Yr(t,i,e);if(r&&r.statement.declarationList.declarations.length>0){let n=r.statement.declarationList.declarations[0];if(n.initializer&&t.ts.isArrayLiteralExpression(n.initializer))return{statement:r.statement,statementIndex:r.statementIndex,variableDeclaration:n,arrayLiteralExp:n.initializer}}return null}function kn(t,i){if(i){if(wm(t,i))return!0;let e=!1;if(i.forEachChild(r=>{kn(t,r)&&(e=!0)}),e)return!0}return!1}function wm(t,i){return t.ts.isJsxElement(i)||t.ts.isJsxOpeningElement(i)||t.ts.isJsxOpeningFragment(i)||t.ts.isJsxSelfClosingElement(i)||t.ts.isJsxFragment(i)||t.ts.isJsxChild(i)}async function $i(t,i){let e=t.extname(i).toLowerCase();if(e===""||!Ys.includes(e)){for(let r of Ys){let n=i+r;if(await t.exists(n))return n}for(let r of Ys){let n=t.join(i,"index"+r);if(await t.exists(n))return n}}return i}var Ys=[".tsx",".jsx",".ts",".js"];function Zr(t,i,e){if(!e||!i)return;let r=i.getSymbolAtLocation(e);if(!r)return;let n=r.valueDeclaration;if(!n)return;let s=n.getSourceFile().fileName,a=vm(t,s);return a?[{name:a}]:void 0}function vm(t,i){if(typeof i=="string"){i=t.normalize(Et(i));let e=i.split("/"),r=e.lastIndexOf("node_modules");if(r>-1){let n=e.slice(r+1),s=n[0];if(s)return s.startsWith("@")&&n[1]&&(s+="/"+n[1]),s}}}function Mt(t){let i=[];for(let e of t)if(e.dependencies)for(let r of e.dependencies)i.some(n=>n.name===r.name)||i.push({...r});return i.sort((e,r)=>e.name.localeCompare(r.name))}function Xu(t,i,e="esm"){return e==="cjs"?Nm(t,i):Im(t,i)}var Fm=/^(@\w|\w)/;function Im(t,i){let e=[];for(let r of i.statements)if(t.ts.isImportDeclaration(r)&&t.ts.isLiteralExpression(r.moduleSpecifier)){if(!Fm.test(r.moduleSpecifier.text)||r.importClause?.isTypeOnly)continue;if(r.importClause&&r.importClause.namedBindings&&t.ts.isNamedImports(r.importClause.namedBindings))for(let n of r.importClause.namedBindings.elements)n.isTypeOnly||e.push({isDefaultExport:!1,statement:r,node:n.name});r.importClause&&r.importClause.name&&e.push({isDefaultExport:!0,statement:r,node:r.importClause.name})}return e}function Nm(t,i){return[]}async function ei(t,i){if(!i.some(a=>!a.isRegistered))return i;let r=await $e(t,i.map(a=>a.filePath)),n=r.getTypeChecker();return await Promise.all(i.map(async a=>{let o=r.getSourceFile(a.filePath);if(o){let l=(await mr(t,n,a.filePath,o,!1)).find(c=>c.cmpInfo.id===a.id);l&&(a.inputs=Nr(t,n,l.node.fnNode))}return a}))}async function ti(t,i,e,r){if(i.node.fnNode){let{sourceFile:n,typeChecker:s}=await Qr(t,i.cmpInfo.filePath,e),o=(await mr(t,s,i.cmpInfo.filePath,n,r)).find(u=>u.cmpInfo.id===i.cmpInfo.id);if(!o)throw new Error(`createComponentInputs() Could not find component ${i.cmpInfo.name} in ${i.cmpInfo.filePath}`);return Nr(t,s,o.node.fnNode)}return[]}async function Yu(t,i,e){let r=t.extname(i).toLowerCase();if(r===".tsx"||r===".jsx"||r===".ts"||r===".js"){let n=await t.readFile(i);if(n)return km(t,i,n,e)}return null}function km(t,i,e,r=!1){let n=Y(t,e);return mr(t,null,i,n,r)}async function mr(t,i,e,r,n){let s=[];for(let o of r.statements)if(t.ts.isExpressionStatement(o)&&t.ts.isStringLiteral(o.expression)&&o.expression.text==="use server")return s;let a=mt(t,r);return n&&a.push(...Xu(t,r)),e=t.normalize(e),await Promise.all(a.map(async o=>{let u=await Bm(t,i,e,o);s.push(...u)})),s}async function Bm(t,i,e,r){let n=[],s=t.relative(t.getAppRootDir(),e),a=me(t,e);if(t.ts.isVariableStatement(r.node)){for(let o of r.node.declarationList.declarations){if(!t.ts.isIdentifier(o.name)||!Jr(o.name.text))continue;let u=Zt(t,i,o.initializer);if(u){let l=u.name||o.name.text,c=r.isDefaultExport?"default":l,p=r.isDefaultExport?"default":"named";n.push({cmpInfo:{id:await ge(t,e,c),displayFilePath:ue(t,e),name:De(l),inputs:[],exportName:c,exportType:p,importName:l,filePath:e,relFilePath:s,importPath:a,dependencies:u.deps,framework:"react"},node:u})}}return n}if(t.ts.isArrowFunction(r.node)){let o=Zt(t,i,r.node);if(o){let u=ht(t,e),l=r.isDefaultExport?"default":u,c=r.isDefaultExport?"default":"named";n.push({cmpInfo:{id:await ge(t,e,l),displayFilePath:ue(t,e),name:u,inputs:[],exportName:l,exportType:c,importName:Ir(t,e),filePath:e,relFilePath:s,importPath:a,dependencies:o.deps,framework:"react"},node:o})}return n}if(t.ts.isFunctionExpression(r.node)||t.ts.isFunctionDeclaration(r.node)){let o=r.node.name?.text;if(o&&!Jr(o))return n;let u=Zt(t,i,r.node);if(u){let l=u.name||ht(t,e),c=r.isDefaultExport||!u.name?"default":u.name,p=r.isDefaultExport?"default":"named";n.push({cmpInfo:{id:await ge(t,e,c),displayFilePath:ue(t,e),name:l,inputs:[],exportName:c,exportType:p,importName:u.name||Ir(t,e),filePath:e,relFilePath:s,importPath:a,dependencies:u.deps,framework:"react"},node:u})}return n}if((t.ts.isExportSpecifier(r.node)||t.ts.isIdentifier(r.node))&&Jr(r.node.getText())){let o,u=Zt(t,i,r.node);if(u){let l=u.name||ht(t,e),c=r.isDefaultExport||!u.name?"default":u.name,p=r.isDefaultExport?"default":"named",f=Lm(t,r.node)?.moduleSpecifier??Om(t,r.node)?.moduleSpecifier;if(f&&t.ts.isStringLiteral(f)){let h=i?.getSymbolAtLocation(f);if(h&&h.declarations&&h.declarations.length>0){let d=h.declarations[0];(!t.ts.isSourceFile(d)||t.ts.isSourceFile(d)&&d.fileName.includes("node_modules"))&&(o=f.text)}}n.push({cmpInfo:{id:await ge(t,e,c,o),displayFilePath:ue(t,e),name:l,inputs:[],exportName:c,exportType:p,importName:u.name||Ir(t,e),filePath:e,relFilePath:s,importPath:o||a,externalImportPath:o,dependencies:u.deps,framework:"react"},node:u})}return n}if(t.ts.isExportDeclaration(r.node)&&r.node.exportClause===void 0){let o=r.node.moduleSpecifier;if(o&&t.ts.isStringLiteral(o)){let u=await Mm(t,i,e,o);n.push(...u)}return n}return n}function Lm(t,i){for(;i;){if(t.ts.isExportDeclaration(i))return i;i=i.parent}return null}function Om(t,i){for(;i;){if(t.ts.isImportDeclaration(i))return i;i=i.parent}return null}function Zt(t,i,e){if(!e)return null;if(t.ts.isArrowFunction(e))return kn(t,e.body)?{name:"",fnNode:e,deps:Zr(t,i,e)}:null;if(t.ts.isFunctionExpression(e)||t.ts.isFunctionDeclaration(e))return kn(t,e.body)?{name:e.name?.text||"",fnNode:e,deps:Zr(t,i,e)}:null;if(t.ts.isCallExpression(e)){let r=e.expression;if(t.ts.isPropertyAccessExpression(r)){let n=e.arguments;if(n.length===0)return null;let s=r.expression;if(!t.ts.isIdentifier(s)||s.text!=="React")return null;let a=r.name;return!t.ts.isIdentifier(a)||a.text!=="forwardRef"?null:Zt(t,i,n[0])}else if(t.ts.isIdentifier(r)&&r.text==="observer"){let n=e.arguments;return n.length===0?null:Zt(t,i,n[0])}return null}if(!i)return null;if(t.ts.isPropertyAccessExpression(e)){let r=e.expression,n=e.name;if(!t.ts.isIdentifier(r)||!t.ts.isIdentifier(n)||!Jr(n.text))return null;let a=i.getTypeAtLocation(n).getCallSignatures();if(a.length>0&&a[0].getParameters().length>0)return{name:"",fnNode:n,deps:Zr(t,i,n)}}if(t.ts.isExportSpecifier(e)){let r=e.name;return{name:r.text||"",fnNode:r,deps:Zr(t,i,r)}}if(t.ts.isIdentifier(e))return{name:e.text||"",fnNode:e,deps:Zr(t,i,e)};if(t.ts.isExpressionStatement(e)){let r=e.expression;if(t.ts.isAsExpression(r)&&t.ts.isIdentifier(r.type)&&r.type.text==="default")return Zt(t,i,r.expression)}if(t.ts.isVariableStatement(e)){for(let r of e.declarationList.declarations)if(r.initializer&&t.ts.isAsExpression(r.initializer)){let n=r.initializer;if(t.ts.isIdentifier(n.type)&&n.type.text==="default"){let s=Zt(t,i,n.expression);if(s&&t.ts.isIdentifier(r.name))return{name:r.name.text,fnNode:s.fnNode,deps:s.deps}}}}return null}async function Zu(t,i){let e=[],r=i.getSourceFiles(),n=i.getTypeChecker();return await Promise.all(r.map(async s=>{let a=t.normalize(s.fileName);if(vn(t,Rm,s.fileName)||a===t.reactConfigPath||a===t.khulnasoftComponentPath)return;let o=await mr(t,n,a,s,a===t.registryPath);e.push(...o)})),e.sort((s,a)=>s.cmpInfo.name.localeCompare(a.cmpInfo.name))}var Rm=new Set(["node_modules","dist"]);async function Mm(t,i,e,r){let n=[],s=r.text;if(!i)return n;try{let a=i.getSymbolAtLocation(r);if(!a)return n;let o=i.getExportsOfModule(a);for(let u of o){let l=u.valueDeclaration||u.declarations?.[0];if(!l)continue;let c=u.name;if(!Jr(c)&&c!=="default"||!el(t,i,l))continue;let p=Zt(t,i,l);if(p){let f=u.name,h=f==="default"?"default":"named",d=De(f),m=f==="default"?Ir(t,e):f;n.push({cmpInfo:{id:await ge(t,e,f,s),displayFilePath:ue(t,e),name:d,inputs:[],exportName:f,exportType:h,importName:m,filePath:e,relFilePath:t.relative(t.getAppRootDir(),e),importPath:s,externalImportPath:s,dependencies:p.deps,framework:"react"},node:p})}}}catch(a){t.Sentry?.captureException(new Error(`Error processing module ${s}:`,{cause:a}),{extra:{modulePath:s,filePath:e}})}return n}function el(t,i,e){if(t.ts.isInterfaceDeclaration(e)||t.ts.isTypeAliasDeclaration(e))return!1;if(t.ts.isExportSpecifier(e)){let r=i.getSymbolAtLocation(e.name);if(r){let s=i.getAliasedSymbol(r).declarations?.[0];if(s)return el(t,i,s)}return!1}if(t.ts.isFunctionDeclaration(e)||t.ts.isArrowFunction(e)||t.ts.isFunctionExpression(e)){let r=i.getSignatureFromDeclaration(e);if(r){let n=i.getReturnTypeOfSignature(r);return Qu(n,i)}}return t.ts.isClassDeclaration(e)?e.heritageClauses?.some(n=>n.types.some(s=>s.expression.getText()==="React.Component"||s.expression.getText()==="Component"))??!1:t.ts.isVariableDeclaration(e)?i.getTypeAtLocation(e).getCallSignatures().some(s=>Qu(i.getReturnTypeOfSignature(s),i)):!1}function Qu(t,i){let e=i.typeToString(t);return e==="JSX.Element"||e==="Element"||e.includes("ReactElement")||e.includes("React.ReactElement")||e.includes("ReactNode")}async function tl(t,i){let e=[],r=i.getSourceFiles(),n=i.getTypeChecker();return await Promise.all(r.map(async s=>{let a=t.basename(s.fileName);if(t.appDir&&_m.has(a)||t.dirname(s.fileName).includes("node_modules"))return;let o=t.normalize(s.fileName);if(o===t.nextConfigPath||o===t.khulnasoftComponentPath)return;let u=await mr(t,n,o,s,o===t.registryPath||kt(o));e.push(...u)})),e.sort((s,a)=>s.cmpInfo.name.localeCompare(a.cmpInfo.name))}var _m=new Set(["default.tsx","default.ts","default.jsx","default.js","error.tsx","error.ts","error.jsx","error.js","layout.tsx","layout.ts","layout.jsx","layout.js","loading.tsx","loading.ts","loading.jsx","loading.js","not-found.tsx","not-found.ts","not-found.jsx","not-found.js","page.tsx","page.ts","page.jsx","page.js","route.tsx","route.ts","route.jsx","route.js","template.tsx","template.ts","template.jsx","template.js"]);function _t(t,i){let e=[],r=[],n=[],s=[];for(let a of i.statements){if(t.ts.isImportDeclaration(a)){if(t.ts.isStringLiteral(a.moduleSpecifier)){let u=a.moduleSpecifier.text;if(!u.startsWith(".")&&!u.startsWith("/")){e.push(a);continue}}let o=a.importClause;if(o){if(o.namedBindings){r.push(a);continue}if(o.name){r.push(a);continue}}n.push(a);continue}s.push(a)}return t.ts.factory.updateSourceFile(i,[...Zs(t,e),...Zs(t,r),...Zs(t,n),...s])}function gt(t){let i=t.split(`
    `).map(r=>r.trimEnd());t="";let e=!1;for(let r=i.length-1;r>=0;r--){let n=i[r];!e&&n.startsWith("import ")&&(e=!0,n=n+`
    `),/^khulnasoft.init(.*)$/.test(n)&&(n=n+`
    `),i[r-1]&&!i[r-1].includes("*/")&&(n.trim().startsWith("Khulnasoft.registerComponent")&&(n=`
    `+n),n.trim().startsWith("/**")&&(n=`
    `+n),n.trim().startsWith("module.exports")&&(n=`
    `+n),n.trim().startsWith("export ")&&(n=`
    `+n)),t=n+`
    `+t}return t.trim()+`
    `}function Zs(t,i){return i.sort((e,r)=>{let n=rl(t,e),s=rl(t,r);return n.toLocaleLowerCase().localeCompare(s.toLocaleLowerCase())})}function rl(t,i){let e=i.importClause;if(e){let r=e.namedBindings;if(r&&t.ts.isNamedImports(r)&&r.elements.length>0)return r.elements[0].name.text;if(e.name)return e.name.text}return i.moduleSpecifier&&t.ts.isStringLiteral(i.moduleSpecifier)?i.moduleSpecifier.text:""}function nl(t){return typeof t=="string"&&!t.includes("'use client'")&&!t.includes(`"use client"'`)&&(t=`"use client"
    ${t}`),t}function sl(t,i){let e=i.statements.filter(r=>!(t.ts.isExpressionStatement(r)&&t.ts.isStringLiteral(r.expression)&&t.ts.isStringLiteral(r.expression)&&r.expression.text==="use client"));return t.ts.factory.updateSourceFile(i,e)}function jt(t,i){return i.sort((e,r)=>{if(t.ts.isObjectLiteralExpression(e)&&t.ts.isObjectLiteralExpression(r)){let n=il(t,e),s=il(t,r);return n.toLocaleLowerCase().localeCompare(s.toLocaleLowerCase())}return 1})}function il(t,i){let e=i.properties.find(r=>re(t,r)==="name");return e&&t.ts.isPropertyAssignment(e)&&t.ts.isStringLiteral(e.initializer)?e.initializer.text:"zzzz"}async function al(t){let i=await t.readFile(t.registryPath);return i?jm(t,i):{components:[],sourceFile:Y(t,"")}}async function jm(t,i){let e=Y(t,i);return t.sdkVersion===j.gen2?Vm(t,e):$m(t,e)}async function $m(t,i){let e=[];for(let r=0;r<i.statements.length;r++){let n=i.statements[r];if(!t.ts.isExpressionStatement(n))continue;let s=n.expression;if(!t.ts.isCallExpression(s))continue;let a=s.expression;if(!t.ts.isPropertyAccessExpression(a))continue;let o=a.expression;if(!t.ts.isIdentifier(o)||o.text!=="Khulnasoft"||a.name.text!=="registerComponent")continue;let l=s.arguments;if(l.length<2)continue;let c=l[1];if(!t.ts.isObjectLiteralExpression(c))continue;let p=l[0];if(t.ts.isCallExpression(p)){let f=t.ts.isIdentifier(p.expression)&&p.expression.text;if(f==="withChildren"){let d=ra(t,p.arguments[0]);if(t.ts.isCallExpression(d)){let m=await ea(t,r,d,c,!0);m&&e.push(m)}else{let m=d;if(t.ts.isIdentifier(m)){let g=await ta(t,i,r,m,c,!0);g&&e.push(g)}}continue}if(f==="dynamic"){let d=await ea(t,r,p,c,!1);d&&e.push(d);continue}let h=ra(t,p.arguments[0]);if(t.ts.isCallExpression(h)&&t.ts.isIdentifier(h.expression)&&h.expression.text==="dynamic"){let d=await ea(t,r,h,c,!1);d&&e.push(d);continue}if(t.ts.isIdentifier(h)){let d=await ta(t,i,r,h,c,!1);d&&e.push(d);continue}continue}if(t.ts.isIdentifier(p)){let f=await ta(t,i,r,p,c,!1);f&&e.push(f);continue}}return{sourceFile:i,components:it(e)}}function ra(t,i){return t.ts.isCallExpression(i)?(t.ts.isIdentifier(i.expression)&&i.expression.text)==="dynamic"?i:ra(t,i.arguments[0]):i}async function ea(t,i,e,r,n){let s={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],nodeIndex:i,acceptsChildren:n,framework:"react"},a=e.arguments;if(a.length===0)return null;let o=a[0];if(!t.ts.isArrowFunction(o))return null;let u=o.body;if(t.ts.isCallExpression(u)){if(u.expression.kind!==t.ts.SyntaxKind.ImportKeyword||u.arguments.length!==1)return null;let c=u.arguments[0];if(!t.ts.isStringLiteral(c))return null;let p=c.text,f=await ri(t,p);s.filePath=f,s.relFilePath=t.relative(t.getAppRootDir(),s.filePath),await t.exists(f)?s.importPath=me(t,s.filePath):(s.externalImportPath=p,s.importPath=s.externalImportPath),s.name=ht(t,s.filePath),s.importName="default",s.exportName="default",s.exportType="default"}else if(t.ts.isPropertyAccessExpression(u)){let l=u.expression;if(!t.ts.isParenthesizedExpression(l))return null;let c=l.expression;if(!t.ts.isAwaitExpression(c))return null;let p=c.expression;if(!t.ts.isCallExpression(p)||p.expression.kind!==t.ts.SyntaxKind.ImportKeyword||p.arguments.length!==1)return null;let h=p.arguments[0];if(!t.ts.isStringLiteral(h)||!t.ts.isIdentifier(u.name))return null;let d=h.text,m=await ri(t,d);s.filePath=m,s.relFilePath=t.relative(t.getAppRootDir(),s.filePath),await t.exists(m)?s.importPath=me(t,s.filePath):(s.externalImportPath=d,s.importPath=s.externalImportPath),s.name=De(u.name.text),s.importName=u.name.text,s.exportName=u.name.text,s.exportType="named"}else return null;return s=nt(t,s,r),s.displayFilePath=ue(t,s.filePath),s.filePath&&s.exportName&&(s.id=await ge(t,s.filePath,s.exportName,s.externalImportPath)),s}async function ta(t,i,e,r,n,s){let a={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],nodeIndex:e,acceptsChildren:s,framework:"react"},o=i.statements.filter(l=>t.ts.isImportDeclaration(l)),u=o.find(l=>l.importClause&&l.importClause.name?.text===r.text);if(u){let l=u.moduleSpecifier;if(!t.ts.isStringLiteral(l))return null;let c=await ri(t,l.text);a.filePath=c,a.relFilePath=t.relative(t.getAppRootDir(),a.filePath),await t.exists(c)?a.importPath=me(t,a.filePath):(a.externalImportPath=l.text,a.importPath=a.externalImportPath),a.name=ht(t,a.filePath),a.importName=r.text,a.exportName="default",a.exportType="default"}else{let l=o.find(f=>!f.importClause||!f.importClause.namedBindings||!t.ts.isNamedImports(f.importClause.namedBindings)?!1:f.importClause.namedBindings.elements.some(h=>h.name.text===r.text));if(!l)return null;let c=l.moduleSpecifier;if(!t.ts.isStringLiteral(c))return null;let p=await ri(t,c.text);a.filePath=p,a.relFilePath=t.relative(t.getAppRootDir(),a.filePath),await t.exists(p)?a.importPath=me(t,a.filePath):(a.externalImportPath=c.text,a.importPath=a.externalImportPath),a.name=De(r.text),a.importName=r.text,a.exportName=r.text,a.exportType="named"}return a=nt(t,a,n),a.displayFilePath=ue(t,a.filePath),a.filePath&&a.exportName&&(a.id=await ge(t,a.filePath,a.exportName,a.externalImportPath)),a}function ri(t,i){return $i(t,t.normalize(t.resolve(t.dirname(t.registryPath),i)))}function ol(t,i,e){let r=!1,n=0,s=[...i.statements];for(let l=0;l<s.length;l++){let c=s[l];if(t.ts.isImportDeclaration(c)){n=l;continue}if(!t.ts.isExpressionStatement(c))continue;let p=c.expression;if(!t.ts.isCallExpression(p))continue;let f=p.expression;if(!t.ts.isPropertyAccessExpression(f))continue;let h=f.expression;if(!t.ts.isIdentifier(h)||h.text!=="khulnasoft")continue;if(f.name.text=="init"){r=!0;break}else continue}if(r)return i;let a=t.ts.factory.createPropertyAccessExpression(t.ts.factory.createPropertyAccessExpression(t.ts.factory.createIdentifier("process"),t.ts.factory.createIdentifier("env")),t.ts.factory.createIdentifier(Ot)),o=e?t.ts.factory.createNonNullExpression(a):a,u=t.ts.factory.createExpressionStatement(t.ts.factory.createCallExpression(t.ts.factory.createPropertyAccessExpression(t.ts.factory.createIdentifier("khulnasoft"),t.ts.factory.createIdentifier("init")),void 0,[o]));return s.splice(n+1,0,u),t.ts.factory.updateSourceFile(i,s)}async function Vm(t,i){let e=[],r=ke(t,i,"CUSTOM_COMPONENTS");return r&&await Promise.all(r.arrayLiteralExp.elements.map(async(n,s)=>{let a=await ia(t,i,n);a&&(a.nodeIndex=s,e.push(a))})),{sourceFile:i,components:it(e)}}async function ia(t,i,e){if(!t.ts.isObjectLiteralExpression(e))return null;let r={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],acceptsChildren:!1,framework:"react"};Xr(t,e)&&(r.acceptsChildren=!0);for(let s of e.properties){if(!t.ts.isPropertyAssignment(s)||!t.ts.isIdentifier(s.name))continue;if(re(t,s)==="component"){let o,{initializer:u}=s;if(t.ts.isCallExpression(u)&&(t.ts.isIdentifier(u.expression)&&u.expression.text)==="dynamic"){let h=u.arguments;if(h.length===0)return null;let d=h[0];if(!t.ts.isArrowFunction(d))return null;let m=d.body;if(t.ts.isCallExpression(m)){if(m.expression.kind!==t.ts.SyntaxKind.ImportKeyword||m.arguments.length!==1)return null;let D=m.arguments[0];if(!t.ts.isStringLiteral(D))return null;let x=D.text,P=await ri(t,x);r.filePath=P,r.relFilePath=t.relative(t.getAppRootDir(),r.filePath),await t.exists(P)?r.importPath=me(t,r.filePath):(r.externalImportPath=x,r.importPath=r.externalImportPath),r.name=ht(t,r.filePath),r.importName="default",r.exportName="default",r.exportType="default"}else if(t.ts.isPropertyAccessExpression(m)){let g=m.expression;if(!t.ts.isParenthesizedExpression(g))return null;let D=g.expression;if(!t.ts.isAwaitExpression(D))return null;let x=D.expression;if(!t.ts.isCallExpression(x)||x.expression.kind!==t.ts.SyntaxKind.ImportKeyword||x.arguments.length!==1)return null;let C=x.arguments[0];if(!t.ts.isStringLiteral(C)||!t.ts.isIdentifier(m.name))return null;let b=C.text,S=await ri(t,b);r.filePath=S,r.relFilePath=t.relative(t.getAppRootDir(),r.filePath),await t.exists(S)?r.importPath=me(t,r.filePath):(r.externalImportPath=b,r.importPath=r.externalImportPath),r.name=De(m.name.text),r.importName=m.name.text,r.exportName=m.name.text,r.exportType="named"}else return null;return r=nt(t,r,e),r.displayFilePath=ue(t,r.filePath),r.filePath&&r.exportName&&(r.id=await ge(t,r.filePath,r.exportName,r.externalImportPath)),r}if(t.ts.isIdentifier(u)&&(o=u.text),!o)continue;r.name===""&&(r.name=De(o)),r.importName=o;let l=await Rt(t,t.registryPath,i,o);if(!l)continue;r.filePath=l.filePath,r.relFilePath=l.relFilePath,await t.exists(l.filePath)?r.importPath=me(t,l.filePath):(r.externalImportPath=l.importPath,r.importPath=r.externalImportPath),r.importPath=me(t,l.filePath),r.displayFilePath=l.displayFilePath,r.exportType=l.exportType;let c=i.statements.filter(f=>t.ts.isImportDeclaration(f)),p=c.find(f=>f.importClause&&f.importClause.name?.text===o);if(p){let f=p.moduleSpecifier;if(!t.ts.isStringLiteral(f))return null;r.exportName="default"}else{let f=c.find(d=>!d.importClause||!d.importClause.namedBindings||!t.ts.isNamedImports(d.importClause.namedBindings)?!1:d.importClause.namedBindings.elements.some(m=>m.name.text===o));if(!f)return null;let h=f.moduleSpecifier;if(!t.ts.isStringLiteral(h))return null;r.exportName=o}continue}}return r=nt(t,r,e),r.filePath&&r.exportName&&(r.id=await ge(t,r.filePath,r.exportName,r.externalImportPath)),r}function $t(t,i){let e=[...i.statements],r=!1;for(let n=i.statements.length-1;n>=0;n--){let s=i.statements[n];if(t.ts.isImportDeclaration(s)&&s.importClause){let a=!1,o=s.importClause.namedBindings;if(o&&t.ts.isNamedImports(o)&&o.elements){let u=[...o.elements];for(let l=u.length-1;l>=0;l--){let c=u[l];if(t.ts.isImportSpecifier(c)){let p=c.name;if(p&&t.ts.isIdentifier(p)){let f=p.text;ul(t,i,f)||u.splice(l,1)}}}if(u.length===0)a=!0;else if(o.elements.length!==u.length){let l=t.ts.factory.updateImportClause(s.importClause,!1,s.importClause.name,t.ts.factory.createNamedImports(u)),c=t.ts.factory.updateImportDeclaration(s,void 0,l,s.moduleSpecifier,void 0);e[n]=c,r=!0}}else if(s.importClause.name&&t.ts.isIdentifier(s.importClause.name)){let u=s.importClause.name.text;ul(t,i,u)||(a=!0)}a&&(e.splice(n,1),r=!0)}}return r?t.ts.factory.updateSourceFile(i,e):i}function ul(t,i,e){let r=!1;function n(s){if(!t.ts.isImportDeclaration(s)){if(t.ts.isIdentifier(s)&&s.text===e){r=!0;return}t.ts.forEachChild(s,n)}}return t.ts.forEachChild(i,n),r}function Vt(t,i,e,r,n,s,a){let o=null,u=null,l=null,c=-1;i=at(i),e=at(e);let p=i.find(h=>h.id===t),f=e.find(h=>h.id===t);if(r)f||(o={...at(p),inputs:at(p.inputs).map(h=>(h.isRegistered=!0,h))},c=e.length,e.push(o));else if(typeof f?.nodeIndex=="number"&&f.nodeIndex>-1){if(n)c=f.nodeIndex,u=at(f),e=e.filter(h=>h.id!==t);else if(s!=null)Um(f,s),c=f.nodeIndex,l=f;else if(a!=null){let h=f.inputs.find(d=>d.name===a.name);h&&(a.registerInput===!1?h.isRegistered=!1:(Km(h,a),h.isRegistered=!0),l=f,c=f.nodeIndex)}}return{addCmpToRegistry:o,removeCmpFromRegistry:u,updateRegisteredCmp:l,nodeIndex:c,components:St(i,e)}}function St(t,i){let e=it([...i.map(r=>(r.isRegistered=!0,r)),...t.filter(r=>!i.some(n=>n.id===r.id)).map(r=>(r.isRegistered=!1,r))]);return e.forEach(r=>{r.inputs=r.inputs.map(Xs),r.inputs.sort((a,o)=>a.name.toLowerCase().localeCompare(o.name.toLowerCase()));let n=i.find(a=>a.id===r.id);n&&(n.acceptsChildren=Gs(r));let s=t.find(a=>a.id===r.id&&a.externalImportPath);s&&(r.filePath=s.filePath,r.relFilePath=s.relFilePath)}),e}function Um(t,i){He(i.name)?t.name=i.name:i.name===null&&(t.name=t.importName),He(i.description)?t.description=i.description:i.description===null&&delete t.description,He(i.image)?t.image=i.image:i.image===null&&delete t.image}function Km(t,i){He(i.type)&&(t.type=i.type),He(i.friendlyName)?t.friendlyName=i.friendlyName:i.friendlyName===null&&delete t.friendlyName,He(i.defaultValue)||Oi(i.defaultValue)||Wr(i.defaultValue)?t.defaultValue=i.defaultValue:i.defaultValue===null&&delete t.defaultValue,He(i.helperText)?t.helperText=i.helperText:i.helperText===null&&delete t.helperText,i.required===!0?t.required=i.required:(i.required===null||i.required===!1)&&delete t.required}async function gr(t){let i=new Set,e=async n=>{let s=await t.readdir(n);await Promise.all(s.map(async a=>{if(a.startsWith(".")||a==="node_modules")return;let o=t.join(n,a),u=t.extname(a).toLowerCase();if(u===".tsx"||u===".jsx"||u===".ts"||u===".js"){i.add(o);return}(await t.stat(o)).isDirectory()&&await e(o)}))};return await e(t.getAppRootDir()),await $e(t,[...i])}function Ut(t,i,e){return Yr(t,i,e.variableName)?i:zm(t,i,e)}function zm(t,i,e){let r=typeof e.arrayType=="string"?t.ts.factory.createArrayTypeNode(t.ts.factory.createTypeReferenceNode(e.arrayType,void 0)):void 0,n=t.ts.factory.createArrayLiteralExpression([]),s=t.ts.factory.createVariableDeclaration(e.variableName,void 0,r,n),a=t.ts.factory.createVariableDeclarationList([s],t.ts.NodeFlags.Const),o=t.ts.factory.createModifier(t.ts.SyntaxKind.ExportKeyword),u=t.ts.factory.createVariableStatement([o],a),l=[...i.statements,u];return t.ts.factory.updateSourceFile(i,l)}async function Kt(t,i,e,r,n,s,a,o){let u=await gr(t),[l,c,p,f]=await Promise.all([tl(t,u),al(t),st(t),Ri(t)]),h=l.map(P=>P.cmpInfo),d=c.components,m={components:St(h,d),registryPath:t.registryPath,registryDisplayPath:ue(t,t.registryPath),frameworks:t.getFrameworks(),dependencies:Mt(h),publicApiKey:f.envValue??void 0,devToolsVersion:t.version};if(o)return m.components=await ei(t,m.components),m;let g=!1,D=c.sourceFile,x=Array.isArray(i)?i:typeof i=="string"?[i]:[];if(x.length>0){let P=x.map(S=>{let w=l.find($=>$.cmpInfo.id===S);if(!w)throw new Error(`Component ${S} not found`);return w}),C=Array.from(new Set(P.map(S=>S.cmpInfo.filePath))),b=await $e(t,C);for(let S of P){let w=m.components.find(M=>M.id===S.cmpInfo.id),$=await ti(t,S,b,t.registryPath===S.cmpInfo.filePath||kt(S.cmpInfo.filePath));ot(w,$);let z=h.findIndex(M=>M.id===S.cmpInfo.id);h[z].inputs=$;let k=Vt(S.cmpInfo.id,h,d,e,r,n,s);if(t.sdkVersion===j.gen2){let{elements:M,elmIndex:we,statementIndex:ve,statement:U,variableDeclaration:Q}=await Jm(t,D,S);if(k.addCmpToRegistry)M.push(Wm(t,k.addCmpToRegistry)),g=!0;else if(k.removeCmpFromRegistry)M.splice(we,1),g=!0;else if(k.updateRegisteredCmp){let je=Le(t,M[we],k.updateRegisteredCmp);M[we]=t.ts.factory.updateObjectLiteralExpression(je,[cl(t,k.updateRegisteredCmp),...je.properties.slice(1)]),g=!0}if(g&&a){let je=[...D.statements];je[ve]=t.ts.factory.updateVariableStatement(U,U.modifiers,t.ts.factory.updateVariableDeclarationList(U.declarationList,[t.ts.factory.updateVariableDeclaration(Q,Q.name,Q.exclamationToken,Q.type,t.ts.factory.createArrayLiteralExpression(jt(t,M)))])),D=t.ts.factory.updateSourceFile(D,je),D=ll(t,k,D),D=H(t,D,{namedImports:["RegisteredComponent"],importPath:"@khulnasoft.com/sdk-react",isTypeOnly:!0}),D=Ut(t,D,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),m.components=k.components,d=k.components.filter(Qt=>Qt.isRegistered)}}else{let M=[...D.statements];k.addCmpToRegistry?(M.push(qu(t,k.addCmpToRegistry)),g=!0):k.removeCmpFromRegistry?(M.splice(k.nodeIndex,1),g=!0):k.updateRegisteredCmp&&(M[k.nodeIndex]=Qs(t,M[k.nodeIndex],k.updateRegisteredCmp),g=!0),g&&a&&(D=t.ts.factory.updateSourceFile(D,M),D=H(t,D,{namedImports:["Khulnasoft","khulnasoft"],importPath:"@khulnasoft.com/react"}),D=ol(t,D,p),D=ll(t,k,D),w?.acceptsChildren&&(D=H(t,D,{namedImports:["withChildren"],importPath:"@khulnasoft.com/react"})),m.components=k.components,d=k.components.filter(we=>we.isRegistered))}}}if(g&&a){D=$t(t,D),D=_t(t,D),t.appDir&&(D=sl(t,D));let P=le(t,D);P=gt(P),t.appDir&&(P=nl(P)),P=await t.formatCode(t.registryPath,P),await t.writeFile(t.registryPath,P)}return m}function cl(t,i){let e=t.ts.factory.createIdentifier(i.importName);return t.appDir?t.ts.factory.createPropertyAssignment("component",e):t.ts.factory.createPropertyAssignment("component",Hm(t,i))}function qm(t){return t.ts.factory.createPropertyAssignment("canHaveChildren",t.ts.factory.createTrue())}function Wm(t,i){return Le(t,t.ts.factory.createObjectLiteralExpression([cl(t,i),...i.acceptsChildren?[qm(t)]:[]],!0),i)}async function Jm(t,i,e){let r=ke(t,i,"CUSTOM_COMPONENTS");if(!r)throw new Error(`Exported name of the Khulnasoft registry must be "CUSTOM_COMPONENTS". Please update your Khulnasoft registry file: ${t.registryPath}`);let n=r.arrayLiteralExp.elements.filter(a=>t.ts.isObjectLiteralExpression(a)),s=-1;for(let a=0;a<n.length;a++)if((await ia(t,i,n[a]))?.id===e.cmpInfo.id){s=a;break}return{...r,elements:n,elmIndex:s}}function ll(t,i,e){if(t.appDir){let r=i.addCmpToRegistry||i.updateRegisteredCmp;if(r){let n=r.externalImportPath?r.externalImportPath:ne(t,t.registryPath,r.filePath);r.exportType==="default"?e=H(t,e,{defaultImport:r.importName,importPath:n}):r.exportType==="named"&&(e=H(t,e,{namedImports:[r.importName],importPath:n}))}}else e=H(t,e,{defaultImport:"dynamic",importPath:"next/dynamic"});return e}function Hm(t,i){let e=i.externalImportPath?i.externalImportPath:ne(t,t.registryPath,i.filePath),r=i.exportName!=="default",n;r?n=t.ts.factory.createPropertyAccessExpression(t.ts.factory.createAwaitExpression(t.ts.factory.createCallExpression(t.ts.factory.createIdentifier("import"),void 0,[t.ts.factory.createStringLiteral(e)])),t.ts.factory.createIdentifier(i.exportName)):n=t.ts.factory.createCallExpression(t.ts.factory.createIdentifier("import"),void 0,[t.ts.factory.createStringLiteral(e)]);let s=t.ts.factory.createArrowFunction(r?[t.ts.factory.createModifier(t.ts.SyntaxKind.AsyncKeyword)]:void 0,void 0,[],void 0,t.ts.factory.createToken(t.ts.SyntaxKind.EqualsGreaterThanToken),n);return t.ts.factory.createCallExpression(t.ts.factory.createIdentifier("dynamic"),void 0,[s])}async function fl(t){let i=[],e=await Zm(t,i);return await Dl(t,i,e),t.appDir?(t.debug(`ensure khulnasoft setup for next.js app ${t.appDir}`),await Xm(t,t.appDir,i)):t.pagesDir&&(t.debug(`ensure khulnasoft setup for next.js pages ${t.pagesDir}`),await Qm(t,t.pagesDir,i)),i}async function dl(t){let i=[];return await Dl(t,i),t.appDir?(t.debug(`ensure figma-imports setup for next.js app ${t.appDir}`),await Gm(t,t.appDir,i)):t.pagesDir&&(t.debug(`ensure figma-imports setup for next.js pages ${t.pagesDir}`),await Ym(t,t.pagesDir,i)),i}async function Gm(t,i,e){let r=`page.${t.typescriptEnabled?"tsx":"jsx"}`,n=t.join(i,"figma-imports",r);if(!await t.exists(n)){let s=await t.formatCode(n,ml({sys:t,routePath:n,modelName:"figma-imports"}));await t.writeFile(n,s),e.push({filePath:n,modifiedType:"create"})}if(!await t.exists(t.khulnasoftComponentPath)){let s=await t.formatCode(t.khulnasoftComponentPath,hl(t));await t.writeFile(t.khulnasoftComponentPath,s),e.push({filePath:t.khulnasoftComponentPath,modifiedType:"create"})}}async function Xm(t,i,e){let r=`page.${t.typescriptEnabled?"tsx":"jsx"}`,n=t.join(i,"[...page]",r);if(!await t.exists(n)){let s=await t.formatCode(n,ml({sys:t,routePath:n,modelName:"page"}));await t.writeFile(n,s),e.push({filePath:n,modifiedType:"create"})}if(!await t.exists(t.khulnasoftComponentPath)){let s=await t.formatCode(t.khulnasoftComponentPath,hl(t));await t.writeFile(t.khulnasoftComponentPath,s),e.push({filePath:t.khulnasoftComponentPath,modifiedType:"create"})}}function hl(t){let i=t.typescriptEnabled;return t.sdkVersion===j.gen2?`
      "use client";
      import { ${i?"KhulnasoftContent, ":""} isPreviewing, Content } from "@khulnasoft.com/sdk-react";
      import DefaultErrorPage from "next/error";
      import { CUSTOM_COMPONENTS } from ${JSON.stringify(ne(t,t.khulnasoftComponentPath,t.registryPath))};
      ${i?`
    interface KhulnasoftPageProps {
          content: KhulnasoftContent | null;
          model: string;
          }`:""}
    
      // Khulnasoft Public API Key set in .env file
      const khulnasoftApiKey = process.env.${Ot}${i?"!":""};
    
      export function RenderKhulnasoftContent({ content, model }${i?": KhulnasoftPageProps":""}) {
        // Call the isPreviewing hook to determine if
        // the page is being previewed in Khulnasoft
        // If "content" has a value or the page is being previewed in Khulnasoft,
        // render the KhulnasoftComponent with the specified content and model props.
        if (content || isPreviewing()) {
          return <Content
            content={content}
            apiKey={khulnasoftApiKey}
            model={model}
            customComponents={CUSTOM_COMPONENTS}
          />;
        }
        // If the "content" is falsy and the page is
        // not being previewed in Khulnasoft, render the
        // DefaultErrorPage with a 404.
        return <DefaultErrorPage statusCode={404} />;
      }
      `.trimStart():`
    "use client";
    ${i?'import { ComponentProps } from "react";':""}
    import { KhulnasoftComponent, useIsPreviewing } from "@khulnasoft.com/react";
    import { ${i?"KhulnasoftContent, ":""}khulnasoft } from '@khulnasoft.com/sdk';
    import DefaultErrorPage from "next/error";
    import ${JSON.stringify(ne(t,t.khulnasoftComponentPath,t.registryPath))};
    ${i?`
    type KhulnasoftPageProps = ComponentProps<typeof KhulnasoftComponent>;`:""}
    
    // Khulnasoft Public API Key set in .env file
    khulnasoft.init(process.env.${Ot}${i?"!":""});
    
    export function RenderKhulnasoftContent({ content, model }${i?": KhulnasoftPageProps":""}) {
      // Call the useIsPreviewing hook to determine if
      // the page is being previewed in Khulnasoft
      const isPreviewing = useIsPreviewing();
      // If "content" has a value or the page is being previewed in Khulnasoft,
      // render the KhulnasoftComponent with the specified content and model props.
      if (content || isPreviewing) {
        return <KhulnasoftComponent content={content} model={model} />;
      }
      // If the "content" is falsy and the page is
      // not being previewed in Khulnasoft, render the
      // DefaultErrorPage with a 404.
      return <DefaultErrorPage statusCode={404} />;
    }
    `.trimStart()}function pl(t){return t.features.asyncParams?`
    interface PageProps {
          params: Promise<{
            page: string[];
          }>;
        }`:`
    interface PageProps {
          params: {
            page: string[];
          };
        }`}function ml({sys:t,routePath:i,modelName:e}){let r=t.typescriptEnabled,n=ne(t,i,t.khulnasoftComponentPath);return t.sdkVersion===j.gen2?`
    import { fetchOneEntry } from "@khulnasoft.com/sdk-react";
    import { RenderKhulnasoftContent } from ${JSON.stringify(n)};
    
    // Khulnasoft Public API Key set in .env file
    const PUBLIC_API_KEY = process.env.${Ot}${r?"!":""};
    
    ${r?pl(t):""}
    
    export default async function Page(props${r?": PageProps":""}) {
      const khulnasoftModelName = "${e}";
    
      // Use the page path specified in the URL to fetch the content
      const urlPath = "/" + (${t.features.asyncParams?"(await props?.params)":"props?.params"}?.page?.join("/") || "");
    
      const content = await fetchOneEntry({
       // Get the page content from Khulnasoft with the specified options
        apiKey: PUBLIC_API_KEY,
        model: khulnasoftModelName,
        userAttributes: { urlPath },
      });
    
      return (
        <>
          {/* Render the Khulnasoft page */}
          <RenderKhulnasoftContent content={content} model={khulnasoftModelName} />
        </>
      );
    }
    `.trimStart():`
    import { khulnasoft } from "@khulnasoft.com/sdk";
    import { RenderKhulnasoftContent } from ${JSON.stringify(n)};
    
    // Khulnasoft Public API Key set in .env file
    khulnasoft.init(process.env.${Ot}${r?"!":""});
    ${r?pl(t):""}
    
    export default async function Page(props${r?": PageProps":""}) {
      const khulnasoftModelName = "${e}";
    
      const content = await khulnasoft
        // Get the page content from Khulnasoft with the specified options
        .get(khulnasoftModelName, {
          userAttributes: {
            // Use the page path specified in the URL to fetch the content
            urlPath: "/" + (${t.features.asyncParams?"(await props?.params)":"props?.params"}?.page?.join("/") || ""),
          },
        })
        // Convert the result to a promise
        .toPromise();
    
      return (
        <>
          {/* Render the Khulnasoft page */}
          <RenderKhulnasoftContent content={content} model={khulnasoftModelName} />
        </>
      );
    }
    `.trimStart()}async function Qm(t,i,e){let r=`[...page].${t.typescriptEnabled?"tsx":"jsx"}`,n=t.join(i,r);if(!await t.exists(n)){let s=await t.formatCode(n,gl({sys:t,routePath:n,modelName:"page"}));await t.writeFile(n,s),e.push({filePath:n,modifiedType:"create"})}}async function Ym(t,i,e){let r=`figma-imports.${t.typescriptEnabled?"tsx":"jsx"}`,n=t.join(i,r);if(!await t.exists(n)){let s=await t.formatCode(n,gl({sys:t,routePath:n,modelName:"figma-imports"}));await t.writeFile(n,s),e.push({filePath:n,modifiedType:"create"})}}function gl({sys:t,routePath:i,modelName:e}){let r=t.typescriptEnabled;return t.sdkVersion===j.gen2?`
    import React from "react";
    import { useRouter } from "next/router";
    ${r?'import type { KhulnasoftContent } from "@khulnasoft.com/sdk-react";':""}
    import {
      Content,
      fetchEntries,
      fetchOneEntry,
      isPreviewing,
    } from "@khulnasoft.com/sdk-react";
    import DefaultErrorPage from "next/error";
    import Head from "next/head";
    ${r?'import { GetStaticProps } from "next";':""}
    import { CUSTOM_COMPONENTS } from ${JSON.stringify(ne(t,t.khulnasoftComponentPath,t.registryPath))};
    
    const KHULNASOFT_API_KEY = process.env.${Ot}${r?"!":""};
    
    // Define a function that fetches the Khulnasoft
    // content for a given page
    export const getStaticProps${r?": GetStaticProps":""} = async ({ params }) => {
      ${t.features.asyncParams?"await params;":""}
      const urlPath =
        "/" +
        (Array.isArray(params?.page) ? params.page.join("/") : params?.page || "");
    
      // Fetch the khulnasoft content for the given page
      const page = await fetchOneEntry({
        apiKey: KHULNASOFT_API_KEY,
        model: "${e}",
        userAttributes: { urlPath },
      });
    
      return {
        // Return the page content as props
        props: { page },
        // Revalidate the content every 5 seconds
        revalidate: 5,
      };
    };
    
    ${e==="page"?`
    // Define a function that generates the
    // static paths for all pages in Khulnasoft
    export async function getStaticPaths() {
      // Get a list of all pages in Khulnasoft
      const pages = await fetchEntries({
        apiKey: KHULNASOFT_API_KEY,
        model: "page",
        // We only need the URL field
        fields: "data.url",
        options: { noTargeting: true },
      });
      // Generate the static paths for all pages in Khulnasoft
      return {
        paths: pages.map((page) => \`\${page.data?.url}\`),
        fallback: "blocking",
      };
    }
    `:""}
    
    // Define the Page component
    export default function Page(props${r?": { page: KhulnasoftContent | null }":""}) {
      const router = useRouter();
      const canShowContent = props.page || isPreviewing(router.asPath);
    
      // If the page content is not available
      // and not in preview/editing mode, show a 404 error page
      if (!canShowContent) {
        return <DefaultErrorPage statusCode={404} />;
      }
    
      // If the page content is available, render
      // the KhulnasoftComponent with the page content
      return (
        <>
          <Head>
            <title>{props.page?.data?.title}</title>
          </Head>
          {/* Render the Khulnasoft page */}
          <Content
            model="${e}"
            content={props.page}
            apiKey={KHULNASOFT_API_KEY}
            customComponents={CUSTOM_COMPONENTS}
          />
        </>
      );
    }
    
        `:`
    import React from "react";
    import { useRouter } from "next/router";
    import { KhulnasoftComponent, khulnasoft, useIsPreviewing } from "@khulnasoft.com/react";
    import DefaultErrorPage from "next/error";
    import Head from "next/head";${r?`
    import { KhulnasoftContent } from "@khulnasoft.com/sdk";`:""}${r?`
    import { GetStaticProps } from "next";`:""}
    import ${JSON.stringify(ne(t,i,t.registryPath))};
    
    khulnasoft.init(process.env.${Ot}${r?"!":""});
    
    // Define a function that fetches the Khulnasoft
    // content for a given page
    export const getStaticProps${r?": GetStaticProps":""} = async ({ params }) => {
      ${t.features.asyncParams?"await params;":""}
      // Fetch the khulnasoft content for the given page
      const page = await khulnasoft
        .get("${e}", {
          userAttributes: {
            urlPath: "/" + ((params?.page${r?" as string[]":""})?.join("/") || ""),
          },
        })
        .toPromise();
    
      // Return the page content as props
      return {
        props: {
          page: page || null,
        },
        // Revalidate the content every 5 seconds
        revalidate: 5,
      };
    };
    
    ${e==="page"?`// Define a function that generates the
    // static paths for all pages in Khulnasoft
    export async function getStaticPaths() {
      // Get a list of all pages in Khulnasoft
      const pages = await khulnasoft.getAll("page", {
        // We only need the URL field
        fields: "data.url",
        options: { noTargeting: true },
      });
    
      // Generate the static paths for all pages in Khulnasoft
      return {
        paths: pages.map((page) => String(page.data?.url)).filter(url => url !== '/'),
        fallback: 'blocking',
      };
    }`:""}
    
    // Define the Page component
    export default function Page({ page }${r?": { page: KhulnasoftContent | null }":""}) {
      const router = useRouter();
      const isPreviewing = useIsPreviewing();
    
      // If the page content is not available
      // and not in preview mode, show a 404 error page
      if (!page && !isPreviewing) {
        return <DefaultErrorPage statusCode={404} />;
      }
    
      // If the page content is available, render
      // the KhulnasoftComponent with the page content
      return (
        <>
          <Head>
            <title>{page?.data?.title}</title>
          </Head>
          {/* Render the Khulnasoft page */}
          <KhulnasoftComponent model="${e}" content={page || undefined} />
        </>
      );
    }
    `.trimStart()}async function Zm(t,i){let r=t.typescriptEnabled?"tsx":"jsx",n=t.join(t.componentsDir,"Counter"),s=t.join(n,`Counter.${r}`),a=t.join(n,"styles.module.css"),{component:o,styles:u}=eg(t);if(!await t.exists(s)){let l=await t.formatCode(s,o);await t.writeFile(s,l),i.push({filePath:s,modifiedType:"create"})}return await t.exists(a)||(await t.writeFile(a,u),i.push({filePath:a,modifiedType:"create"})),s}function eg(t){let i=t.typescriptEnabled,e=`
    "use client"
    import React, { useState } from "react";
    import styles from "./styles.module.css";
    ${i?`
    interface CounterProps {
      initialCount?: number;
    }`:""}
    
    function Counter({ initialCount = 99 }${i?": CounterProps":""}) {
      const [count, setCount] = useState(initialCount);
    
      const increment = () => {
        setCount((prevCount) => prevCount + 1);
      };
    
      const decrement = () => {
        setCount((prevCount) => prevCount - 1);
      };
    
      return (
        <div className={styles.counter}>
          <button className={styles.btn} onClick={decrement}>
            -
          </button>
          <span className={styles.count}>{count}</span>
          <button className={styles.btn} onClick={increment}>
            +
          </button>
        </div>
      );
    }
    
    export default Counter;
    `.trimStart(),r=`
    .counter {
      margin: 32px auto;
      display: flex;
      width: 100%;
      max-width: 190px;
    }
    
    .btn {
      width: 42px;
      font-size: 32px;
      font-weight: bold;
      background-color: #1c6bd1;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      line-height: 1.4;
    }
    
    .btn:hover {
      opacity: 0.8;
    }
    
    .count {
      flex: 1;
      font-size: 42px;
      text-align: center;
    }
    `.trimStart();return{component:e,styles:r}}async function Dl(t,i,e){if(!await t.exists(t.registryPath)){if(t.sdkVersion===j.gen2){let s=tg(t);await t.writeFile(t.registryPath,s)}else await t.writeFile(t.registryPath,"");i.push({filePath:t.registryPath,modifiedType:"create"})}if(!e)return;let n=(await Kt(t,null,!1,!1,null,null,!1,!1)).components.find(s=>s.filePath===e);n&&await Kt(t,n.id,!0,!1,null,null,!0,!1)}function tg(t){return t.typescriptEnabled?`import type { RegisteredComponent } from "@khulnasoft.com/sdk-react";
    
    export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
    ];`:`export const CUSTOM_COMPONENTS = [
      ];
      `}async function ii(t){let i=await Bi(t,t.getRepoRootDir());if(i&&typeof i=="object"){let e=new Set(Object.keys({...i.dependencies,...i.devDependencies}));if(e.has("@khulnasoft.com/sdk-react"))return j.gen2;if(e.has("@khulnasoft.com/react"))return j.gen1}return null}async function yl(t){let i=await rg(t);return{khulnasoftPageOptions:async()=>({templateContentId:"3de2f13211234071a4b19a17b4fbc5a7",pathname:"/khulnasoft-demo",title:"Khulnasoft + Next.js Demo Page"}),ensureKhulnasoftSetup:()=>fl(i),ensureFigmaImportPage:()=>dl(i),getRegistryPath:()=>i.registryPath,getRegistry:r=>Kt(i,null,!1,!1,null,null,!1,!!r?.readAllInputTypes),addExternalPackage:r=>{i.addExternalPackage(r)},loadComponent:async r=>{let n=await Kt(i,r.cmpId,!1,!1,null,null,!1,!1);return{...n,component:n.components.find(s=>s.id===r.cmpId)}},registerComponent:r=>Kt(i,r.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:r=>Kt(i,r.cmpId,!1,!1,r,null,!0,!1),setRegisteredComponentInput:r=>Kt(i,r.cmpId,!1,!1,null,r,!0,!1),unregisterComponent:r=>Kt(i,r.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Ri(i),setPublicApiKey:r=>ju(i,r.publicApiKey),getDependencies:r=>r.sdkVersion===j.gen2?[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/sdk-react"}]:[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/react"},{name:"@khulnasoft.com/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>Bt(i),setCache:r=>Lt(i,r)}}async function rg(t){let i=t.getAppRootDir(),e=t.join(i,"src"),r=await ig(t),n=await st(t),s=t.getFrameworks().find(l=>l.name==="next"),a={asyncParams:s?.version?.major!==void 0&&s.version.major>=15},o={},u={...t,addExternalPackage:l=>{o[t.join(i,l,"index.ts")]=`export * from "${l}";`},readFileSync:l=>o[l]??t.readFileSync(l),existsSync:l=>!!o[l]||t.existsSync(l),readdirSync:l=>{let c=t.readdirSync(l);return l===i?[...c,...Object.keys(o).map(p=>p.slice(i.length+1))]:c},readdir:async l=>{let c=await t.readdir(l);return l===i?[...c,...Object.keys(o).map(p=>p.slice(i.length+1))]:c},appDir:null,pagesDir:null,srcDir:null,khulnasoftComponentPath:"",componentsDir:"",registryPath:"",nextConfigPath:r,typescriptEnabled:n,features:a};if(t.sdkVersion?u.sdkVersion=t.sdkVersion:u.sdkVersion=await ii(u),await t.exists(e)){u.srcDir=e,u.componentsDir=t.join(e,"components");let l=t.join(e,"app");await t.exists(l)&&(u.appDir=l);let c=t.join(e,"pages");await t.exists(c)&&(u.pagesDir=c),u.registryPath=await dt(t,e)}else u.componentsDir=t.join(i,"components"),u.registryPath=await dt(t,i);if(u.khulnasoftComponentPath=t.join(u.componentsDir,`khulnasoft.${n?"tsx":"jsx"}`),!u.appDir){let l=t.join(i,"app");await t.exists(l)&&(u.appDir=l)}if(!u.pagesDir){let l=t.join(i,"pages");await t.exists(l)&&(u.pagesDir=l)}if(!u.appDir&&!u.pagesDir&&!t.ignoreMissingConfig)throw new Error(`Could not find Next.js "app" or "pages" directory. Searched in "${i}".`);return u}async function ig(t){let i=t.join(t.getAppRootDir(),"next.config.ts");if(await t.exists(i))return i;let e=t.join(t.getAppRootDir(),"next.config.mjs");if(await t.exists(e))return e;let r=t.join(t.getAppRootDir(),"next.config.js");if(await t.exists(r))return r;throw new Error(`Could not find Next.js config file. Searched for "next.config.ts", "next.config.mjs" and "next.config.js" in "${t.getAppRootDir()}".`)}async function Vi(t){return await dr(t,[".env"],Cl)}async function xl(t,i){ng(i);let e=await Vi(t),r=await hr(t,e.file,e.envKey,i);return{...e,modifiedType:r}}function ng(t){typeof process<"u"&&(process.env[Cl]=t)}var Cl="PUBLIC_KHULNASOFT_API_KEY";function bl(t,i,e){if(e.length===0)return t;let r=t.split(`
    `),n=r.findIndex(o=>o.includes(e));if(n===-1||r.some(o=>o.includes(i[0])))return t;let a=["/**",...i.map(o=>` * ${o.trim()}`)," */"];return r.splice(n,0,...a),r.join(`
    `)}async function Sl(t,i){let e=[],r=i.getSourceFiles(),n=i.getTypeChecker();return await Promise.all(r.map(async s=>{let a=t.basename(s.fileName);if(a.startsWith(".")||og.has(a))return;let o=t.normalize(s.fileName);if(o===t.registryPath)return;let u=await Bn(t,n,o,s);e.push(...u)})),e}async function Pl(t,i){if(t.extname(i).toLowerCase()===".tsx"){let r=await t.readFile(i);if(r)return sg(t,i,r)}return null}function sg(t,i,e){let r=Y(t,e);return Bn(t,null,i,r)}async function Bn(t,i,e,r){e=t.normalize(e);let n=[],s=mt(t,r);return await Promise.all(s.map(async a=>{let o=await ag(t,i,e,a);o&&n.push(o)})),n}async function ag(t,i,e,r){let n=t.relative(t.getAppRootDir(),e),s=me(t,e);if(t.ts.isVariableStatement(r.node))for(let a of r.node.declarationList.declarations){let o=El(t,a.initializer);if(o&&t.ts.isIdentifier(a.name)){let u=a.name.text;return{cmpInfo:{id:await ge(t,e,u),displayFilePath:ue(t,e),name:De(u),inputs:[],exportName:r.isDefaultExport?"default":u,exportType:r.isDefaultExport?"default":"named",importName:u,filePath:e,relFilePath:n,importPath:s,framework:"qwik"},node:o}}}else if(t.ts.isCallExpression(r.node)){let a=El(t,r.node);if(a)return{cmpInfo:{id:await ge(t,e,"default"),displayFilePath:ue(t,e),name:ht(t,e),inputs:[],exportName:"default",exportType:"default",importName:Ir(t,e),filePath:e,relFilePath:n,importPath:s,framework:"qwik"},node:a}}return null}function El(t,i){if(i&&t.ts.isCallExpression(i)&&t.ts.isIdentifier(i.expression)&&i.expression.text==="component$"&&i.arguments.length>0){let e=i.arguments[0];if(t.ts.isArrowFunction(e)||t.ts.isFunctionExpression(e))return{callExpression:i,fnNode:e}}return null}var og=new Set(["node_modules","layout.tsx","404.tsx","router-head.tsx"]);async function Al(t,i){let e=i.node.fnNode;if((t.ts.isArrowFunction(e)||t.ts.isFunctionExpression(e))&&e.parameters.length>0){let{sourceFile:n,typeChecker:s}=await Qr(t,i.cmpInfo.filePath,null);if(!(await Bn(t,s,i.cmpInfo.filePath,n)).find(u=>u.cmpInfo.id===i.cmpInfo.id))throw new Error(`createComponentInputs() Could not find component ${i.cmpInfo.name} in ${i.cmpInfo.filePath}`);return Nr(t,s,e)}return[]}async function Tl(t){return na(t)}async function na(t){let i=[];return await t.exists(t.registryPath)||(await t.writeFile(t.registryPath,ug),i.push({filePath:t.registryPath,modifiedType:"create"})),i}var ug=`import type { RegisteredComponent } from "@khulnasoft.com/sdk-qwik";
    
    export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
    ];
    `;async function wl(t){await na(t);let i=await t.readFile(t.registryPath);return i?lg(t,i):{components:[],sourceFile:Y(t,"")}}async function lg(t,i){let e=Y(t,i);return cg(t,e)}async function cg(t,i){let e=[],r=ke(t,i,"CUSTOM_COMPONENTS");return r&&await Promise.all(r.arrayLiteralExp.elements.map(async(n,s)=>{let a=await sa(t,i,n);a&&(a.nodeIndex=s,e.push(a))})),{sourceFile:i,components:it(e)}}async function sa(t,i,e){if(!t.ts.isObjectLiteralExpression(e))return null;let r={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],framework:"qwik"};for(let n of e.properties){if(!t.ts.isPropertyAssignment(n)||!t.ts.isIdentifier(n.name))continue;if(re(t,n)==="component"&&t.ts.isIdentifier(n.initializer)){let a=n.initializer.text;r.name===""&&(r.name=De(a)),r.importName=a;let o=await Rt(t,t.registryPath,i,a);if(!o)continue;r.filePath=o.filePath,r.relFilePath=o.relFilePath,r.importPath=me(t,o.filePath),r.displayFilePath=o.displayFilePath,r.exportType=o.exportType;let u=await Pl(t,o.filePath);if(u&&u.length>0)if(u.length===1)r.exportName=u[0].cmpInfo.exportName;else{let l=u.find(c=>c.cmpInfo.exportName===a);l&&(r.exportName=l.cmpInfo.exportName)}continue}}return r=nt(t,r,e),r.filePath&&r.exportName&&(r.id=await ge(t,r.filePath,r.exportName)),r}async function vl(t){let i=new Set,e=async n=>{let s=await t.readdir(n);await Promise.all(s.map(async a=>{if(a.startsWith(".")||a==="node_modules")return;let o=t.join(n,a),u=t.extname(a).toLowerCase();if(u===".tsx"||u===".ts"){i.add(o);return}(await t.stat(o)).isDirectory()&&await e(o)}))};return await e(t.getAppRootDir()),await $e(t,[...i])}async function kr(t,i,e,r,n,s,a,o){let u=await vl(t),[l,c,p]=await Promise.all([Sl(t,u),wl(t),Vi(t)]),f=l.map(m=>m.cmpInfo),h=c.components,d={components:St(f,h),registryPath:t.registryPath,registryDisplayPath:ue(t,t.registryPath),frameworks:t.getFrameworks(),dependencies:Mt(f),publicApiKey:p.envValue??void 0,devToolsVersion:t.version};if(o)return d;if(i!=null){let m=l.find(k=>k.cmpInfo.id===i);if(!m)throw new Error(`Component ${i} not found`);let g=c.sourceFile,D=d.components.find(k=>k.id===i),x=await Al(t,m);console.log("sourceInputs",x),ot(D,x),i=Array.isArray(i)?i[0]:i;let P=Vt(i,f,h,e,r,n,s),{elements:C,elmIndex:b,statementIndex:S,statement:w,variableDeclaration:$}=await fg(t,g,m),z=!1;if(P.addCmpToRegistry?(C.push(pg(t,P.addCmpToRegistry)),z=!0):P.removeCmpFromRegistry?(C.splice(b,1),z=!0):P.updateRegisteredCmp&&(C[b]=Le(t,C[b],P.updateRegisteredCmp),z=!0),z&&a){let k=[...g.statements];k[S]=t.ts.factory.updateVariableStatement(w,w.modifiers,t.ts.factory.updateVariableDeclarationList(w.declarationList,[t.ts.factory.updateVariableDeclaration($,$.name,$.exclamationToken,$.type,t.ts.factory.createArrayLiteralExpression(jt(t,C)))])),g=t.ts.factory.updateSourceFile(g,k),D.exportType==="named"?g=H(t,g,{namedImports:[D.importName],importPath:ne(t,t.registryPath,D.filePath)}):g=H(t,g,{defaultImport:D.importName,importPath:ne(t,t.registryPath,D.filePath)}),g=H(t,g,{namedImports:["RegisteredComponent"],importPath:"@khulnasoft.com/sdk-qwik",isTypeOnly:!0}),g=Ut(t,g,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),g=$t(t,g),g=_t(t,g);let M=le(t,g);M=gt(M),M=bl(M,dg,"CUSTOM_COMPONENTS"),M=await t.formatCode(t.registryPath,M),await t.writeFile(t.registryPath,M)}d.components=P.components}return d}function pg(t,i){return Le(t,t.ts.factory.createObjectLiteralExpression([t.ts.factory.createPropertyAssignment("component",t.ts.factory.createIdentifier(i.importName))],!0),i)}async function fg(t,i,e){let r=ke(t,i,"CUSTOM_COMPONENTS");if(!r)throw new Error(`Exported name of the Khulnasoft registry must be "CUSTOM_COMPONENTS". Please update your Khulnasoft registry file: ${t.registryPath}`);let n=r.arrayLiteralExp.elements.filter(a=>t.ts.isObjectLiteralExpression(a)),s=-1;for(let a=0;a<n.length;a++)if((await sa(t,i,n[a]))?.id===e.cmpInfo.id){s=a;break}return{...r,elements:n,elmIndex:s}}var dg=["This array is used to integrate custom components within Khulnasoft.","https://www.khulnasoft.com/c/docs/custom-components-intro","",'These components will be found the "Custom Components"',"section of Khulnasoft's visual editor.",'You can also turn on "components only mode" to limit',"editing to only these components.","https://www.khulnasoft.com/c/docs/guides/components-only-mode"];async function Fl(t){let i=await hg(t);return{khulnasoftPageOptions:async()=>({templateContentId:"dc70f1d979ad416d8fd357137eb9ddfb",pathname:"/",title:"Khulnasoft + Qwik Demo Page"}),ensureKhulnasoftSetup:()=>Tl(i),ensureFigmaImportPage:async()=>[],getRegistryPath:()=>i.registryPath,getRegistry:r=>kr(i,null,!1,!1,null,null,!1,!!r?.readAllInputTypes),addExternalPackage:async r=>{},loadComponent:async r=>{let n=await kr(i,r.cmpId,!1,!1,null,null,!1,!1);return{...n,component:n.components.find(s=>s.id===r.cmpId)}},registerComponent:r=>kr(i,r.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:r=>kr(i,r.cmpId,!1,!1,r,null,!0,!1),setRegisteredComponentInput:r=>kr(i,r.cmpId,!1,!1,null,r,!0,!1),unregisterComponent:r=>kr(i,r.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Vi(i),setPublicApiKey:r=>xl(i,r.publicApiKey),getDependencies:r=>[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/sdk-qwik"}],getDevRunCommand:()=>"dev",getCache:()=>Bt(i),setCache:r=>Lt(i,r)}}async function hg(t){let i=await Li(t,t.getAppRootDir(),"components");if(!i)throw new Error(`Could not find components directory within project: ${t.getAppRootDir()}`);let e=await dt(t,i),r=t.join(t.getAppRootDir(),".env");return{...t,componentsDir:i,registryPath:e,envPath:r}}async function Ui(t){return await dr(t,[".env"],Ki)}async function Il(t,i){let e=await Ui(t),r=await hr(t,e.file,e.envKey,i);return{...e,modifiedType:r}}var Ki="PUBLIC_KHULNASOFT_KEY";var mg=new Set(["dist","node_modules"]);async function Nl(t,i){let e=[],r=i.getSourceFiles(),n=i.getTypeChecker(),s=t.join(t.getAppRootDir(),"build");return await Promise.all(r.map(async a=>{let o=t.basename(a.fileName);if(o.startsWith(".")||o==="node_modules"||vn(t,mg,a.fileName)||gg.has(o)||o.includes("$."))return;let u=t.normalize(a.fileName);if(u===t.remixConfigPath||u===s)return;let l=await mr(t,n,u,a,u===t.registryPath);e.push(...l)})),e}var gg=new Set(["root.tsx","root.ts","root.jsx","root.js","_index.tsx","_index.jsx","_index.ts","_index.js"]);async function kl(t){await Ln(t);let i=await t.readFile(t.registryPath);return i?Dg(t,i):{components:[],sourceFile:Y(t,"")}}async function Dg(t,i){let e=Y(t,i);return yg(t,e)}async function yg(t,i){let e=[],r=ke(t,i,"CUSTOM_COMPONENTS");return r&&await Promise.all(r.arrayLiteralExp.elements.map(async(n,s)=>{let a=await aa(t,i,n);a&&(a.nodeIndex=s,e.push(a))})),{sourceFile:i,components:it(e)}}async function aa(t,i,e){if(!t.ts.isObjectLiteralExpression(e))return null;let r={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],acceptsChildren:!1,framework:"react"};t.sdkVersion===j.gen2&&Xr(t,e)&&(r.acceptsChildren=!0);for(let n of e.properties){if(!t.ts.isPropertyAssignment(n)||!t.ts.isIdentifier(n.name))continue;if(re(t,n)==="component"){let a,{initializer:o}=n;if(t.ts.isIdentifier(o))a=o.text;else if(t.ts.isCallExpression(o)){(t.ts.isIdentifier(o.expression)&&o.expression.text)==="withChildren"&&(r.acceptsChildren=!0);let c=o.arguments[0];t.ts.isIdentifier(c)&&(a=c.text)}if(!a)continue;r.name===""&&(r.name=De(a)),r.importName=a;let u=await Rt(t,t.registryPath,i,a);if(!u)continue;if(r.filePath=u.filePath,r.relFilePath=u.relFilePath,await t.exists(u.filePath)?r.importPath=me(t,u.filePath):(r.externalImportPath=u.importPath,r.importPath=r.externalImportPath),r.displayFilePath=u.displayFilePath,r.exportType=u.exportType,r.externalImportPath)r.exportName=a;else{let l=await Yu(t,u.filePath,t.registryPath===u.filePath||kt(u.filePath));if(l&&l.length>0)if(l.length===1)r.exportName=l[0].cmpInfo.exportName;else{let c=l.find(p=>p.cmpInfo.exportName===a);c&&(r.exportName=c.cmpInfo.exportName)}}continue}}return r=nt(t,r,e),r.filePath&&r.exportName&&(r.id=await ge(t,r.filePath,r.exportName,r.externalImportPath)),r}async function zt(t,i,e,r,n,s,a,o){let u=await gr(t),[l,c,p]=await Promise.all([Nl(t,u),kl(t),Ui(t)]),f=l.map(x=>x.cmpInfo),h=c.components,d={components:St(f,h),registryPath:t.registryPath,registryDisplayPath:ue(t,t.registryPath),frameworks:t.getFrameworks(),dependencies:Mt(f),publicApiKey:p.envValue??void 0,devToolsVersion:t.version};if(o)return d.components=await ei(t,d.components),d;let m=!1,g=c.sourceFile,D=Array.isArray(i)?i:typeof i=="string"?[i]:[];if(D.length>0){let x=D.map(b=>{let S=l.find(w=>w.cmpInfo.id===b);if(!S)throw new Error(`Component ${b} not found`);return S}),P=Array.from(new Set(x.map(b=>b.cmpInfo.filePath))),C=await $e(t,P);for(let b of x){let S=d.components.find(Q=>Q.id===b.cmpInfo.id),w=await ti(t,b,C,t.registryPath===b.cmpInfo.filePath||kt(b.cmpInfo.filePath));ot(S,w);let $=f.findIndex(Q=>Q.id===b.cmpInfo.id);f[$].inputs=w;let z=Vt(b.cmpInfo.id,f,h,e,r,n,s),{elements:k,elmIndex:M,statementIndex:we,statement:ve,variableDeclaration:U}=await Cg(t,g,b);if(z.addCmpToRegistry)k.push(xg(t,z.addCmpToRegistry)),m=!0;else if(z.removeCmpFromRegistry)k.splice(M,1),m=!0;else if(z.updateRegisteredCmp){let Q=Le(t,k[M],z.updateRegisteredCmp);k[M]=t.ts.factory.updateObjectLiteralExpression(Q,[Bl(t,z.updateRegisteredCmp),...Q.properties.slice(1)]),m=!0}if(m&&a){let Q=[...g.statements];Q[we]=t.ts.factory.updateVariableStatement(ve,ve.modifiers,t.ts.factory.updateVariableDeclarationList(ve.declarationList,[t.ts.factory.updateVariableDeclaration(U,U.name,U.exclamationToken,U.type,t.ts.factory.createArrayLiteralExpression(jt(t,k)))])),g=t.ts.factory.updateSourceFile(g,Q),S.exportType==="named"?g=H(t,g,{namedImports:[S.importName],importPath:S.externalImportPath?S.externalImportPath:ne(t,t.registryPath,S.filePath)}):g=H(t,g,{defaultImport:S.importName,importPath:S.externalImportPath?S.externalImportPath:ne(t,t.registryPath,S.filePath)});let je=t.sdkVersion===j.gen2?"@khulnasoft.com/sdk-react":"@khulnasoft.com/react";g=H(t,g,{namedImports:["RegisteredComponent"],importPath:je,isTypeOnly:!0}),S.acceptsChildren&&t.sdkVersion!==j.gen2&&(g=H(t,g,{namedImports:["withChildren"],importPath:"@khulnasoft.com/react"})),g=Ut(t,g,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),d.components=z.components,h=z.components.filter(Qt=>Qt.isRegistered)}}}if(m&&a){g=$t(t,g),g=_t(t,g);let x=le(t,g);x=gt(x),x=await t.formatCode(t.registryPath,x),await t.writeFile(t.registryPath,x)}return d}function Bl(t,i){if(t.sdkVersion===j.gen2)return t.ts.factory.createPropertyAssignment("component",t.ts.factory.createIdentifier(i.importName));let e=t.ts.factory.createIdentifier(i.importName),r=i.acceptsChildren?t.ts.factory.createCallExpression(t.ts.factory.createIdentifier("withChildren"),void 0,[e]):e;return t.ts.factory.createPropertyAssignment("component",r)}function xg(t,i){return Le(t,t.ts.factory.createObjectLiteralExpression([Bl(t,i),...i.acceptsChildren&&t.sdkVersion===j.gen2?[t.ts.factory.createPropertyAssignment("canHaveChildren",t.ts.factory.createTrue())]:[]],!0),i)}async function Cg(t,i,e){let r=ke(t,i,"CUSTOM_COMPONENTS");if(!r)throw new Error(`Exported name of the Khulnasoft registry must be "CUSTOM_COMPONENTS". Please update your Khulnasoft registry file: ${t.registryPath}`);let n=r.arrayLiteralExp.elements.filter(a=>t.ts.isObjectLiteralExpression(a)),s=-1;for(let a=0;a<n.length;a++)if((await aa(t,i,n[a]))?.id===e.cmpInfo.id){s=a;break}return{...r,elements:n,elmIndex:s}}async function Ll(t){let i=[],e=await Sg(t,i);return i.push(...await Ln(t)),await Ag(t,e),await Eg(t,i),i}async function Ol(t){let i=[];return i.push(...await Ln(t)),await bg(t,i),i}async function bg(t,i){let e=`figma-imports.${t.typescriptEnabled?"tsx":"jsx"}`;t.hasLocaleParam&&(t.debug("remixEnsureFigmaImportRoute, hasLocaleParam"),e=`($locale).${e}`);let r=t.join(t.routesDir,e),n=await t.exists(r);t.debug(`remixEnsureFigmaImportRoute, hasRoute: ${n}`);let s=await t.formatCode(r,Rl({sys:t,routePath:r,modelName:"figma-imports"}));await t.writeFile(r,s),i.push({filePath:r,modifiedType:n?"update":"create"})}async function Eg(t,i){let e=`$.${t.typescriptEnabled?"tsx":"jsx"}`;t.hasLocaleParam&&(t.debug("remixEnsureAppRoute, hasLocaleParam"),e=`($locale).${e}`),t.sdkVersion===j.gen2&&(e=`($slug)._index.${t.typescriptEnabled?"tsx":"jsx"}`);let r=t.join(t.routesDir,e),n=await t.exists(r);t.debug(`remixEnsureAppRoute, hasRoute: ${n}`);let s=await t.formatCode(r,Rl({sys:t,routePath:r,modelName:"page"}));await t.writeFile(r,s),i.push({filePath:r,modifiedType:n?"update":"create"})}function Rl({sys:t,routePath:i,modelName:e}){let r=t.typescriptEnabled,n=ne(t,i,t.registryPath),s="",a="";r&&(s="import type { LoaderArgs } from '@remix-run/server-runtime';",a=": LoaderArgs");let o=`process.env.${Ki}`,u="";return t.getFrameworks().some(l=>l.name==="@shopify/remix-oxygen")&&(o=`context.env.${Ki}`,u=", context"),r&&(o+="!"),t.sdkVersion===j.gen2?`
    
    import {
      Content,
      fetchOneEntry,
      getKhulnasoftSearchParams,
      isPreviewing,
    } from "@khulnasoft.com/sdk-react";
    ${r?'import type { LoaderFunctionArgs } from "@remix-run/node";':""}
    import { useLoaderData } from "@remix-run/react";
    import { fetch as webFetch } from "@remix-run/web-fetch";
    import { CUSTOM_COMPONENTS } from ${JSON.stringify(n)};
    
    export const loader = async ({ params, request${u} }${r?": LoaderFunctionArgs":""}) => {
      const khulnasoftApiKey = ${o};
      const url = new URL(request.url);
      const urlPath = \`/\${params["slug"] || ""}\`;
    
      const page = await fetchOneEntry({
        model: "${e}",
        apiKey: khulnasoftApiKey,
        options: getKhulnasoftSearchParams(url.searchParams),
        userAttributes: { urlPath },
        fetch: webFetch,
      });
    
      if (!page && !isPreviewing(url.search)) {
        throw new Response("Page Not Found", {
          status: 404,
          statusText: "Page not found in Khulnasoft.com",
        });
      }
    
      return { page, khulnasoftApiKey };
    };
    
    // Define and render the page.
    export default function Page() {
      const { page, khulnasoftApiKey } = useLoaderData${r?"<typeof loader>":""}();
      // Render the page content from Khulnasoft.com
      return (
        <Content
          model="${e}"
          apiKey={khulnasoftApiKey}
          content={page}
          customComponents={CUSTOM_COMPONENTS}
        />
      );
    }
        `:`
    import { KhulnasoftComponent, khulnasoft } from "@khulnasoft.com/react";
    import { useLoaderData } from "@remix-run/react";
    import { CUSTOM_COMPONENTS } from ${JSON.stringify(n)};
    ${s}
    
    // Fetch contents of the page
    export const loader = async ({ params, request, context }${a}) => {
      // Initialize the Khulnasoft client and pass in your Public API Key
      const khulnasoftApiKey = ${o};
      khulnasoft.init(khulnasoftApiKey);
    
      // Fetch data content from Khulnasoft.com based on the URL path
      const page = await khulnasoft
        .get("${e}", {
          userAttributes: {
            urlPath: "/" + params["*"],
          },
          locale: params.locale,
        })
        .toPromise();
    
      // Verify the user is previewing or editing in Khulnasoft
      const isPreviewing = new URL(request.url).searchParams.has("khulnasoft.preview");
    
      // If the page is not found and the user is not previewing, throw a 404.
      // The CatchBoundary component will catch the error
      if (!page && !isPreviewing) {
        throw new Response("Page Not Found", {
          status: 404,
          statusText:
            "We couldn't find this page, please check your url path and if the page is published on Khulnasoft.com.",
        });
      }
    
      return { page, khulnasoftApiKey };
    };
    
    // Define and render the page.
    export default function Page() {
      // Use the useLoaderData hook to get the Page data from "loader" above.
      const { page, khulnasoftApiKey } = useLoaderData${r?"<typeof loader>":""}();
    
      // Render the page content from Khulnasoft.com
      return (
        <KhulnasoftComponent
          customComponents={CUSTOM_COMPONENTS}
          apiKey={khulnasoftApiKey}
          model="${e}"
          content={page}
        />
      );
    }
    
    ${r?`
    declare global {
      interface Env {
        ${Ki}: string;
      }
    }
    `:""}
    `}async function Sg(t,i){let r=t.typescriptEnabled?"tsx":"jsx",n=t.join(t.componentsDir,"Counter"),s=t.join(n,`Counter.${r}`),a=t.join(n,"styles.module.css"),{component:o,styles:u}=Pg(t),l=await t.exists(s);if(t.debug(`remixEnsureCounterComponent, hasCounterCmp: ${l}`),!l){let p=await t.formatCode(s,o);await t.writeFile(s,p),i.push({filePath:s,modifiedType:"create"})}let c=await t.exists(a);return t.debug(`remixEnsureCounterComponent, hasCounterStyles: ${c}`),c||(await t.writeFile(a,u),i.push({filePath:a,modifiedType:"create"})),s}function Pg(t){let i=t.typescriptEnabled,e=`
    import { useState } from "react";
    import styles from "./styles.module.css";
    ${i?`
    interface CounterProps {
      initialCount?: number;
    }`:""}
    
    function Counter({ initialCount = 99 }${i?": CounterProps":""}) {
      const [count, setCount] = useState(initialCount);
    
      const increment = () => {
        setCount((prevCount) => prevCount + 1);
      };
    
      const decrement = () => {
        setCount((prevCount) => prevCount - 1);
      };
    
      return (
        <div className={styles.counter}>
          <button className={styles.btn} onClick={decrement}>
            -
          </button>
          <span className={styles.count}>{count}</span>
          <button className={styles.btn} onClick={increment}>
            +
          </button>
        </div>
      );
    }
    
    export default Counter;
    `.trimStart(),r=`
    .counter {
      margin: 32px auto;
      display: flex;
      width: 100%;
      max-width: 190px;
      color: #1c6bd1;
    }
    
    .btn {
      width: 42px;
      font-size: 32px;
      font-weight: bold;
      background-color: #1c6bd1;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      line-height: 1.4;
    }
    
    .btn:hover {
      opacity: 0.8;
    }
    
    .count {
      flex: 1;
      font-size: 42px;
      text-align: center;
    }
    `.trimStart();return{component:e,styles:r}}async function Ag(t,i){let r=(await zt(t,null,!1,!1,null,null,!1,!1)).components.find(n=>n.filePath===i);r&&await zt(t,r.id,!0,!1,null,null,!0,!1)}async function Ln(t){let i=[];return await t.exists(t.registryPath)||(await t.writeFile(t.registryPath,Tg(t)),i.push({filePath:t.registryPath,modifiedType:"create"})),i}function Tg(t){let i=t.sdkVersion===j.gen2;return t.typescriptEnabled?`import type { RegisteredComponent } from ${i?'"@khulnasoft.com/sdk-react"':'"@khulnasoft.com/react"'};
    
    export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
    ];`:`export const CUSTOM_COMPONENTS = [
      ];
      `}async function Ml(t){let i=await wg(t);return{khulnasoftPageOptions:async()=>{let r="/khulnasoft-demo",n=i.hasLocaleParam?`/en-us${r}`:void 0;return{templateContentId:"a5c9eef7909d4fc99554264a17de22c9",pathname:r,localePathname:n,title:"Khulnasoft + Remix Demo Page"}},ensureKhulnasoftSetup:()=>Ll(i),ensureFigmaImportPage:()=>Ol(i),getRegistryPath:()=>i.registryPath,getRegistry:r=>zt(i,null,!1,!1,null,null,!1,!!r?.readAllInputTypes),addExternalPackage:r=>{i.addExternalPackage(r)},loadComponent:async r=>{let n=await zt(i,r.cmpId,!1,!1,null,null,!1,!1);return{...n,component:n.components.find(s=>s.id===r.cmpId)}},registerComponent:r=>zt(i,r.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:r=>zt(i,r.cmpId,!1,!1,r,null,!0,!1),setRegisteredComponentInput:r=>zt(i,r.cmpId,!1,!1,null,r,!0,!1),unregisterComponent:r=>zt(i,r.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Ui(i),setPublicApiKey:r=>Il(i,r.publicApiKey),getDependencies:r=>r.sdkVersion===j.gen2?[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/sdk-react"}]:[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/react"},{name:"@khulnasoft.com/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>Bt(i),setCache:r=>Lt(i,r)}}async function wg(t){let i=await Fg(t),e=t.getAppRootDir(),r=await Ig(t),n=t.dirname(r),s=t.join(n,"components"),a=await st(t),o=await dt(t,n),u={},l={...t,registryPath:o,remixConfigPath:i,typescriptEnabled:a,appDir:n,componentsDir:s,routesDir:r,hasLocaleParam:await vg(t,r),addExternalPackage:c=>{u[t.join(e,c,"index.ts")]=`export * from "${c}";`},readFileSync:c=>u[c]??t.readFileSync(c),existsSync:c=>!!u[c]||t.existsSync(c),readdirSync:c=>{let p=t.readdirSync(c);return c===e?[...p,...Object.keys(u).map(f=>f.slice(e.length+1))]:p},readdir:async c=>{let p=await t.readdir(c);return c===e?[...p,...Object.keys(u).map(f=>f.slice(e.length+1))]:p}};return t.sdkVersion?l.sdkVersion=t.sdkVersion:l.sdkVersion=await ii(l),l}async function vg(t,i){return(await t.readdir(i)).some(r=>r.startsWith("($locale)."))}async function Fg(t){let i=["remix.config.ts","remix.config.js","vite.config.ts","vite.config.js"];for(let e of i){let r=t.join(t.getAppRootDir(),e);if(await t.exists(r))return r}if(t.ignoreMissingConfig)return"";throw new Error(`Could not find Remix config file. Searched for ${i.join(", ")} in "${t.getAppRootDir()}".`)}async function Ig(t){let i=await Li(t,t.getAppRootDir(),"routes");if(i)return i;throw new Error(`Could not find Remix "routes" directory in "${t.getAppRootDir()}". Please ensure this command is ran from within your Remix project's directory.`)}async function zi(t){let i=[".env"],e=t.configType==="vite"?qi:On;return await dr(t,i,e)}async function _l(t,i){let e=await zi(t),r=await hr(t,e.file,e.envKey,i);return{...e,modifiedType:r}}var qi="VITE_PUBLIC_KHULNASOFT_KEY",On="YOUR_PUBLIC_KHULNASOFT_KEY";function jl(t,i){let e=`Khulnasoft.registerComponent(
    `;e+=`  ${i.importName},
    `,e+=`  {
        name: "${i.name}",
      }
    `,e+=");";let r=Fn(t,e);return oa(t,r,i)}function oa(t,i,e){if(!t.ts.isExpressionStatement(i))return i;let r=i.expression;if(!t.ts.isCallExpression(r))return i;let n=[...r.arguments];if(n.length<2)return i;let s=n[1];return t.ts.isObjectLiteralExpression(s)?(n[1]=Le(t,s,e),t.ts.factory.updateExpressionStatement(i,t.ts.factory.updateCallExpression(r,r.expression,r.typeArguments,n))):i}async function $l(t){let i=await t.readFile(t.registryPath);return i?Ng(t,i):{components:[],sourceFile:Y(t,"")}}async function Ng(t,i){let e=Y(t,i);return t.sdkVersion===j.gen2?Lg(t,e):kg(t,e)}async function kg(t,i){let e=[];for(let r=0;r<i.statements.length;r++){let n=i.statements[r];if(!t.ts.isExpressionStatement(n))continue;let s=n.expression;if(!t.ts.isCallExpression(s))continue;let a=s.expression;if(!t.ts.isPropertyAccessExpression(a))continue;let o=a.expression;if(!t.ts.isIdentifier(o)||o.text!=="Khulnasoft"||a.name.text!=="registerComponent")continue;let l=s.arguments;if(l.length<2)continue;let c=l[1];if(!t.ts.isObjectLiteralExpression(c))continue;let p=l[0];if(t.ts.isIdentifier(p)){let f=await Bg(t,i,r,p,c,!1);f&&e.push(f);continue}}return{sourceFile:i,components:it(e)}}async function Bg(t,i,e,r,n,s){let a={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],nodeIndex:e,acceptsChildren:s,framework:"react"},o=i.statements.filter(l=>t.ts.isImportDeclaration(l)),u=o.find(l=>l.importClause&&l.importClause.name?.text===r.text);if(u){let l=u.moduleSpecifier;if(!t.ts.isStringLiteral(l))return null;a.filePath=await ua(t,l.text),a.relFilePath=t.relative(t.getAppRootDir(),a.filePath),a.importPath=me(t,a.filePath),a.name=ht(t,a.filePath),a.importName=r.text,a.exportName="default",a.exportType="default"}else{let l=o.find(f=>!f.importClause||!f.importClause.namedBindings||!t.ts.isNamedImports(f.importClause.namedBindings)?!1:f.importClause.namedBindings.elements.some(h=>h.name.text===r.text));if(!l)return null;let c=l.moduleSpecifier;if(!t.ts.isStringLiteral(c))return null;let p=await ua(t,c.text);a.filePath=await ua(t,c.text),a.relFilePath=t.relative(t.getAppRootDir(),a.filePath),await t.exists(p)?a.importPath=me(t,a.filePath):(a.externalImportPath=c.text,a.importPath=a.externalImportPath),a.name=De(r.text),a.importName=r.text,a.exportName=r.text,a.exportType="named"}return a=nt(t,a,n),a.displayFilePath=ue(t,a.filePath),a.filePath&&a.exportName&&(a.id=await ge(t,a.filePath,a.exportName,a.externalImportPath)),a}function ua(t,i){return $i(t,t.normalize(t.resolve(t.dirname(t.registryPath),i)))}async function Lg(t,i){let e=[],r=ke(t,i,"CUSTOM_COMPONENTS");return r&&await Promise.all(r.arrayLiteralExp.elements.map(async(n,s)=>{let a=await la(t,i,n);a&&(a.nodeIndex=s,e.push(a))})),{sourceFile:i,components:it(e)}}async function la(t,i,e){if(!t.ts.isObjectLiteralExpression(e))return null;let r={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],acceptsChildren:!1,framework:"react"};Xr(t,e)&&(r.acceptsChildren=!0);for(let s of e.properties){if(!t.ts.isPropertyAssignment(s)||!t.ts.isIdentifier(s.name))continue;if(re(t,s)==="component"){let o,{initializer:u}=s;if(t.ts.isIdentifier(u)&&(o=u.text),!o)continue;r.name===""&&(r.name=De(o)),r.importName=o;let l=await Rt(t,t.registryPath,i,o);if(!l)continue;r.filePath=l.filePath,r.relFilePath=l.relFilePath,await t.exists(l.filePath)?r.importPath=me(t,l.filePath):(r.externalImportPath=l.importPath,r.importPath=r.externalImportPath),r.displayFilePath=l.displayFilePath,r.exportType=l.exportType;let c=i.statements.filter(f=>t.ts.isImportDeclaration(f)),p=c.find(f=>f.importClause&&f.importClause.name?.text===o);if(p){let f=p.moduleSpecifier;if(!t.ts.isStringLiteral(f))return null;r.exportName="default"}else{let f=c.find(d=>!d.importClause||!d.importClause.namedBindings||!t.ts.isNamedImports(d.importClause.namedBindings)?!1:d.importClause.namedBindings.elements.some(m=>m.name.text===o));if(!f)return null;let h=f.moduleSpecifier;if(!t.ts.isStringLiteral(h))return null;r.exportName=o}continue}}return r=nt(t,r,e),r.filePath&&r.exportName&&(r.id=await ge(t,r.filePath,r.exportName,r.externalImportPath)),r}async function qt(t,i,e,r,n,s,a,o){let u=await gr(t),[l,c,p,f]=await Promise.all([Zu(t,u),$l(t),st(t),zi(t)]),h=l.map(P=>P.cmpInfo),d=c.components,m={components:St(h,d),registryPath:t.registryPath,registryDisplayPath:ue(t,t.registryPath),frameworks:t.getFrameworks(),dependencies:Mt(h),publicApiKey:f.envValue??void 0,devToolsVersion:t.version};if(o)return m.components=await ei(t,m.components),m;let g=!1,D=c.sourceFile,x=Array.isArray(i)?i:typeof i=="string"?[i]:[];if(x.length>0){let P=x.map(S=>{let w=l.find($=>$.cmpInfo.id===S);if(!w)throw new Error(`Component ${S} not found`);return w}),C=Array.from(new Set(P.map(S=>S.cmpInfo.filePath))),b=await $e(t,C);for(let S of P){let w=m.components.find(M=>M.id===S.cmpInfo.id),$=await ti(t,S,b,t.registryPath===S.cmpInfo.filePath||kt(S.cmpInfo.filePath));ot(w,$);let z=h.findIndex(M=>M.id===S.cmpInfo.id);h[z].inputs=$;let k=Vt(S.cmpInfo.id,h,d,e,r,n,s);if(t.sdkVersion===j.gen2){let{elements:M,elmIndex:we,statementIndex:ve,statement:U,variableDeclaration:Q}=await Og(t,D,S);if(k.addCmpToRegistry)M.push(Rg(t,k.addCmpToRegistry)),g=!0;else if(k.removeCmpFromRegistry)M.splice(we,1),g=!0;else if(k.updateRegisteredCmp){let je=Le(t,M[we],k.updateRegisteredCmp),Qt=t.ts.factory.createIdentifier(k.updateRegisteredCmp.importName);M[we]=t.ts.factory.updateObjectLiteralExpression(je,[t.ts.factory.createPropertyAssignment("component",Qt),...je.properties.slice(1)]),g=!0}if(g&&a){let je=[...D.statements];je[ve]=t.ts.factory.updateVariableStatement(U,U.modifiers,t.ts.factory.updateVariableDeclarationList(U.declarationList,[t.ts.factory.updateVariableDeclaration(Q,Q.name,Q.exclamationToken,Q.type,t.ts.factory.createArrayLiteralExpression(jt(t,M)))])),D=t.ts.factory.updateSourceFile(D,je),D=Vl(t,k,D),D=H(t,D,{namedImports:["RegisteredComponent"],importPath:"@khulnasoft.com/sdk-react",isTypeOnly:!0}),D=Ut(t,D,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),m.components=k.components,d=k.components.filter(Qt=>Qt.isRegistered)}}else{let M=[...D.statements];k.addCmpToRegistry?(M.push(jl(t,k.addCmpToRegistry)),g=!0):k.removeCmpFromRegistry?(M.splice(k.nodeIndex,1),g=!0):k.updateRegisteredCmp&&(M[k.nodeIndex]=oa(t,M[k.nodeIndex],k.updateRegisteredCmp),g=!0),g&&a&&(D=t.ts.factory.updateSourceFile(D,M),D=H(t,D,{namedImports:["Khulnasoft","khulnasoft"],importPath:"@khulnasoft.com/react"}),D=Vl(t,k,D),w?.acceptsChildren&&(D=H(t,D,{namedImports:["withChildren"],importPath:"@khulnasoft.com/react"})),m.components=k.components,d=k.components.filter(we=>we.isRegistered))}}}if(g&&a){D=$t(t,D),D=_t(t,D);let P=le(t,D);P=gt(P),P=await t.formatCode(t.registryPath,P),await t.writeFile(t.registryPath,P)}return m}async function Og(t,i,e){let r=ke(t,i,"CUSTOM_COMPONENTS");if(!r)throw new Error(`Exported name of the Khulnasoft registry must be "CUSTOM_COMPONENTS". Please update your Khulnasoft registry file: ${t.registryPath}`);let n=r.arrayLiteralExp.elements.filter(a=>t.ts.isObjectLiteralExpression(a)),s=-1;for(let a=0;a<n.length;a++)if((await la(t,i,n[a]))?.id===e.cmpInfo.id){s=a;break}return{...r,elements:n,elmIndex:s}}function Rg(t,i){let e=t.ts.factory.createIdentifier(i.importName);return Le(t,t.ts.factory.createObjectLiteralExpression([t.ts.factory.createPropertyAssignment("component",e),...i.acceptsChildren?[t.ts.factory.createPropertyAssignment("canHaveChildren",t.ts.factory.createTrue())]:[]],!0),i)}function Vl(t,i,e){let r=i.addCmpToRegistry||i.updateRegisteredCmp;if(r){let n=r.externalImportPath?r.externalImportPath:ne(t,t.registryPath,r.filePath);r.exportType==="default"?e=H(t,e,{defaultImport:r.importName,importPath:n}):r.exportType==="named"&&(e=H(t,e,{namedImports:[r.importName],importPath:n}))}return e}async function Ul(t){let i=[],e=await Mg(t,i);if(await ql(t,i,e),!await t.exists(t.khulnasoftComponentPath)){let r=await t.formatCode(t.khulnasoftComponentPath,zl(t,t.khulnasoftComponentPath));await t.writeFile(t.khulnasoftComponentPath,r),i.push({filePath:t.khulnasoftComponentPath,modifiedType:"create"})}return i}async function Kl(t){let i=[];await ql(t,i);let e=`figma-imports.${t.typescriptEnabled?"tsx":"jsx"}`,r=t.join(t.componentsDir,e);if(!await t.exists(r)){let n=await t.formatCode(r,zl(t,r,"figma-imports"));await t.writeFile(r,n),i.push({filePath:r,modifiedType:"create"})}return i}function zl(t,i,e="page"){let r=t.typescriptEnabled;return t.sdkVersion===j.gen2?`
      import React from "react";
      import {
          Content,
          fetchOneEntry,
          getKhulnasoftSearchParams,
          isPreviewing,
        ${r?"type KhulnasoftContent,":""}
        } from "@khulnasoft.com/sdk-react";
      import { CUSTOM_COMPONENTS } from ${JSON.stringify(ne(t,i,t.registryPath))};
    
      // Khulnasoft Public API Key set in .env file
      const KHULNASOFT_API_KEY = ${t.configType==="vite"?`import.meta.env.${qi};`:`${On};`}
      const MODEL_NAME = "${e}";
    
      export default function KhulnasoftPage() {
      const [notFound, setNotFound] = React.useState(false);
      const [content, setContent] = React.useState${r?"<KhulnasoftContent | null>":""}(null);
    
      // get the page content from Khulnasoft
      React.useEffect(() => {
        fetchOneEntry({
          model: MODEL_NAME,
          apiKey: KHULNASOFT_API_KEY,
          userAttributes: {
            urlPath: window.location.pathname,
          },
          options: getKhulnasoftSearchParams(new URL(location.href).searchParams),
        })
          .then((content) => {
            if (content) {
              setContent(content);
            }
            setNotFound(!content);
          })
          .catch((err) => {
            console.log("Oops: ", err);
          });
      }, []);
    
      // If no page is found, return
      // a 404 page from your code.
      if (notFound && !isPreviewing()) {
        return <div>404 Page Not Found</div>;
      }
    
      // return the page when found
      return (
      <>
        {/* Render the Khulnasoft page */}
        <Content
          content={content}
          model={MODEL_NAME}
          apiKey={KHULNASOFT_API_KEY}
          customComponents={CUSTOM_COMPONENTS}
        />
      </>
      );
    }
        `:`
    import React from "react";
    import { KhulnasoftComponent, khulnasoft, useIsPreviewing } from "@khulnasoft.com/react"; 
    import ${JSON.stringify(ne(t,i,t.registryPath))};
    
    // Khulnasoft Public API Key set in .env file
    ${t.configType==="vite"?`khulnasoft.init(import.meta.env.${qi}${r?"!":""})`:`khulnasoft.init("${On}")`}
    
    export default function KhulnasoftPage() {
      const isPreviewingInKhulnasoft = useIsPreviewing();
      const [notFound, setNotFound] = React.useState(false);
      const [content, setContent] = React.useState(null);
    
      // get the page content from Khulnasoft
      React.useEffect(() => {
        async function fetchContent() {
          const content = await khulnasoft
            .get("${e}", {
              url: window.location.pathname,
            })
            .promise();
    
          setContent(content);
          setNotFound(!content);
    
          // if the page title is found, 
          // set the document title
          if (content?.data.title) {
            document.title = content.data.title;
          }
        }
        fetchContent();
      }, []);
      
      if (content === null) {
        return;
      }
      // If no page is found, return 
      // a 404 page from your code.
      if (notFound && !isPreviewingInKhulnasoft) {
        return <div>404 Page Not Found</div>;
      }
    
      // return the page when found
      return (
        <>
          {/* Render the Khulnasoft page */}
          <KhulnasoftComponent model="${e}" content={content} />
        </>
      );
    }
    `.trimStart()}async function ql(t,i,e){if(!await t.exists(t.registryPath)){if(t.sdkVersion===j.gen2){let s=jg(t);await t.writeFile(t.registryPath,s)}else await t.writeFile(t.registryPath,"");i.push({filePath:t.registryPath,modifiedType:"create"})}if(!e)return;let n=(await qt(t,null,!1,!1,null,null,!1,!1)).components.find(s=>s.filePath===e);n&&await qt(t,n.id,!0,!1,null,null,!0,!1)}async function Mg(t,i){let r=t.typescriptEnabled?"tsx":"jsx",n=t.join(t.componentsDir,"Counter"),s=t.join(n,`Counter.${r}`),a=t.join(n,"styles.module.css"),{component:o,styles:u}=_g(t);if(!await t.exists(s)){let l=await t.formatCode(s,o);await t.writeFile(s,l),i.push({filePath:s,modifiedType:"create"})}return await t.exists(a)||(await t.writeFile(a,u),i.push({filePath:a,modifiedType:"create"})),s}function _g(t){let i=t.typescriptEnabled,e=`
    "use client"
    import React, { useState } from "react";
    import styles from "./styles.module.css";
    ${i?`
    interface CounterProps {
      initialCount?: number;
    }`:""}
    
    function Counter({ initialCount = 99 }${i?": CounterProps":""}) {
      const [count, setCount] = useState(initialCount);
    
      const increment = () => {
        setCount((prevCount) => prevCount + 1);
      };
    
      const decrement = () => {
        setCount((prevCount) => prevCount - 1);
      };
    
      return (
        <div className={styles.counter}>
          <button className={styles.btn} onClick={decrement}>
            -
          </button>
          <span className={styles.count}>{count}</span>
          <button className={styles.btn} onClick={increment}>
            +
          </button>
        </div>
      );
    }
    
    export default Counter;
    `.trimStart(),r=`
    .counter {
      margin: 32px auto;
      display: flex;
      width: 100%;
      max-width: 190px;
    }
    
    .btn {
      width: 42px;
      font-size: 32px;
      font-weight: bold;
      background-color: #1c6bd1;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      line-height: 1.4;
    }
    
    .btn:hover {
      opacity: 0.8;
    }
    
    .count {
      flex: 1;
      font-size: 42px;
      text-align: center;
    }
    `.trimStart();return{component:e,styles:r}}function jg(t){return t.typescriptEnabled?`import type { RegisteredComponent } from "@khulnasoft.com/sdk-react";
        
    export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
    ];`:`export const CUSTOM_COMPONENTS = [
      ];
      `}async function Wl(t){let i=await $g(t);return{khulnasoftPageOptions:async()=>({templateContentId:"2e36438034894a8abf279ea9e6d3596f",pathname:"/khulnasoft-demo",title:"Khulnasoft + React Demo Page"}),ensureKhulnasoftSetup:()=>Ul(i),ensureFigmaImportPage:()=>Kl(i),getRegistryPath:()=>i.registryPath,getRegistry:r=>qt(i,null,!1,!1,null,null,!1,!!r?.readAllInputTypes),addExternalPackage:r=>{i.addExternalPackage(r)},loadComponent:async r=>{let n=await qt(i,r.cmpId,!1,!1,null,null,!1,!1);return{...n,component:n.components.find(s=>s.id===r.cmpId)}},registerComponent:r=>qt(i,r.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:r=>qt(i,r.cmpId,!1,!1,r,null,!0,!1),setRegisteredComponentInput:r=>qt(i,r.cmpId,!1,!1,null,r,!0,!1),unregisterComponent:r=>qt(i,r.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>zi(i),setPublicApiKey:r=>_l(i,r.publicApiKey),getDependencies:r=>r.sdkVersion===j.gen2?[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/sdk-react"}]:[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/react"},{name:"@khulnasoft.com/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>Bt(i),setCache:r=>Lt(i,r)}}async function $g(t){let i=await Vg(t),e=t.getAppRootDir(),r=t.join(e,"src"),n=await st(t),s={},a={...t,srcDir:null,khulnasoftComponentPath:"",componentsDir:"",registryPath:"",reactConfigPath:i,typescriptEnabled:n,configType:"",addExternalPackage:o=>{s[t.join(e,o,"index.ts")]=`export * from "${o}";`},readFileSync:o=>s[o]??t.readFileSync(o),existsSync:o=>!!s[o]||t.existsSync(o),readdirSync:o=>{let u=t.readdirSync(o);return o===e?[...u,...Object.keys(s).map(l=>l.slice(e.length+1))]:u},readdir:async o=>{let u=await t.readdir(o);return o===e?[...u,...Object.keys(s).map(l=>l.slice(e.length+1))]:u}};return t.sdkVersion?a.sdkVersion=t.sdkVersion:a.sdkVersion=await ii(a),i.includes("webpack.config")&&(a.configType="webpack"),i.includes("vite.config")&&(a.configType="vite"),await t.exists(r)?(a.srcDir=r,a.componentsDir=t.join(r,"components"),a.registryPath=await dt(t,r),a.khulnasoftComponentPath=t.join(a.srcDir,`khulnasoft-page.${n?"tsx":"jsx"}`)):(a.componentsDir=t.join(e,"components"),a.registryPath=await dt(t,e),a.khulnasoftComponentPath=t.join(e,`khulnasoft-page.${n?"tsx":"jsx"}`)),a}async function Vg(t){let i=["vite.config.ts","vite.config.js","webpack.config.js","webpack.config.ts"];for(let e of i){let r=t.join(t.getAppRootDir(),e);if(await t.exists(r))return r}if(t.ignoreMissingConfig)return"";throw new Error(`Could not find React config file. Searched for ${i.join(", ")} in "${t.getAppRootDir()}".`)}async function Wi(t){return await Ug(t,["environment.ts"],Rn)}async function Jl(t,i){let e=await Wi(t),r=await Wg(t,e.file,e.envKey,i);return{...e,modifiedType:r}}async function Ug(t,i,e){let r={envKey:e,envValue:null,file:""};for(let n of i){let s=t.join(t.getAppRootDir(),"src","environments",n),a=await Kg(t,s);if(typeof a=="string"&&a.length>0&&a!=="YOUR_API_KEY")return r.envValue=a,r.file=s,r}return r.file=t.join(t.getAppRootDir(),"src","environments",i[i.length-1]),r}async function Kg(t,i){let e=await t.readFile(i);return e?zg(t,e):""}function zg(t,i){let e=Y(t,i),r="",s=Yr(t,e,"environment");if(s&&s.statement.declarationList.declarations.length>0){let o=s.statement.declarationList.declarations[0].initializer;o&&t.ts.isObjectLiteralExpression(o)&&o.properties.forEach(u=>{t.ts.isPropertyAssignment(u)&&t.ts.isIdentifier(u.name)&&u.name.text===Rn&&t.ts.isStringLiteral(u.initializer)&&(r=u.initializer.text)})}return r}async function qg(t,i,e,r){let n=Y(t,i),a=Yr(t,n,"environment");if(a&&a.statement.declarationList.declarations.length>0){let o=a.statement.declarationList,u=o.declarations[0],l=u.initializer;if(l&&t.ts.isObjectLiteralExpression(l)){let c=t.ts.factory.createPropertyAssignment(t.ts.factory.createIdentifier(e),t.ts.factory.createStringLiteral(r)),p=t.ts.factory.createNodeArray([...l.properties,c]),f=t.ts.factory.updateObjectLiteralExpression(l,p),h=t.ts.factory.updateVariableDeclaration(u,u.name,u.exclamationToken,u.type,f),d=t.ts.factory.updateVariableDeclarationList(o,[h]);return t.ts.factory.updateVariableStatement(a.statement,a.statement.modifiers,d)}return null}return null}async function Wg(t,i,e,r){let n=await t.readFile(i);if(n)if(n.includes(e))t.debug(`"${e}" already set in ${i}`);else{t.debug(`Add "${e}" to ${i}`);let s=await qg(t,n,e,r);if(s){let a=le(t,s),o=await t.formatCode(i,a);await t.writeFile(i,o)}return"update"}else{t.debug(`Creating new env file with "${e}" at ${i}`);let s=`
        // https://www.khulnasoft.com/c/docs/using-your-api-key
        export const environment = {
          production: false,
          khulnasoftApiKey: "${r}",
        };
        `.trimStart(),a=await t.formatCode(i,s);return await t.writeFile(i,a),"create"}return null}var Rn="khulnasoftApiKey";async function Gl(t,i){let e=[],r=i.getSourceFiles(),n=i.getTypeChecker();return await Promise.all(r.map(async s=>{let a=t.basename(s.fileName);if(Gg(t,s.fileName)||a.startsWith(".")||a==="node_modules"||Jg.has(a))return;let o=t.normalize(s.fileName);if(o===t.registryPath)return;let u=await Mn(t,n,o,s);e.push(...u)})),e.sort((s,a)=>s.cmpInfo.name.localeCompare(a.cmpInfo.name))}var Jg=new Set([]),Hg=new Set(["node_modules"]);function Gg(t,i){for(let e of Hg)if(t.dirname(i).includes(e))return!0;return!1}async function Xl(t,i){let e=t.extname(i).toLowerCase();if(e===".tsx"||e===".jsx"||e===".ts"||e===".js"){let r=await t.readFile(i);if(r)return Xg(t,i,r)}return null}function Xg(t,i,e){let r=Y(t,e);return Mn(t,null,i,r)}async function Mn(t,i,e,r){let n=[],s={};e=t.normalize(e);let a=r.statements.filter(c=>t.ts.isClassDeclaration(c)&&tD(t,c)),o=r.statements.find(c=>t.ts.isImportDeclaration(c)&&t.ts.isStringLiteral(c.moduleSpecifier)&&c.moduleSpecifier.text==="@angular/core");if(o&&t.ts.isImportDeclaration(o)){let c=o.importClause?.namedBindings;if(c&&t.ts.isNamedImports(c)){let p=c.elements.find(f=>(f.propertyName??f.name).text==="input");p&&(s.inputSignalImportName=p.name.text)}}let u=await Yg(t,i,e,r),l=rD(t,r);return await Promise.all(a.map(async c=>{let p=await Qg(t,i,e,c,l,s);n.push(...p)})),n.push(...u),n}async function ca(t,i,e){if(i.node.fnNode){let{sourceFile:r,typeChecker:n}=await Qr(t,i.cmpInfo.filePath,e),a=(await Mn(t,n,i.cmpInfo.filePath,r)).find(o=>o.cmpInfo.id===i.cmpInfo.id);if(!a)throw new Error(`Could not find component ${i.cmpInfo.name} in ${i.cmpInfo.filePath}`);return a.cmpInfo.inputs}return[]}async function Ql(t,i,e){let r=await $e(t,e.map(a=>a.filePath)),n=r.getTypeChecker();return await Promise.all(e.filter(a=>!(a.name.endsWith("Page")||a.name.endsWith("Module")||a.name==="AppComponent")).map(async a=>{if(!a.isRegistered){let o=r.getSourceFile(a.filePath);if(o){let l=(await Mn(t,n,a.filePath,o)).find(c=>c.cmpInfo.id===a.id);if(l){a.inputs=Nr(t,n,l.node.fnNode);let c=i.find(p=>p.cmpInfo.id===a.id);if(c){let p=await ca(t,c,r);ot(a,p)}}}}return a}))}async function Qg(t,i,e,r,n,s){let a=[],o=t.relative(t.getAppRootDir(),e),u=me(t,e),l=r.name?.text;if(!l)return a;let c=!1;r.modifiers&&(c=r.modifiers.some(d=>d.kind===t.ts.SyntaxKind.DefaultKeyword));let p=c?"default":l,f=c?"default":"named",h=[];return r.members.forEach(d=>{if(t.ts.isPropertyDeclaration(d)||t.ts.isGetAccessor(d)||t.ts.isSetAccessor(d)){let D=(t.ts.getDecorators(d)??[]).find(P=>Zg(t,P))!==void 0&&t.ts.isIdentifier(d.name),x=s?.inputSignalImportName!==void 0&&t.ts.isIdentifier(d.name)&&eD(t,d,s.inputSignalImportName);if(D||x){let P="any";if(t.ts.isSetAccessor(d))P=Hl(t,d.parameters[0].type);else if(d.type&&i){let b=i.getTypeAtLocation(d.type);P=i.typeToString(b)}else P=Hl(t,d.type);let C={name:d.name.text,type:n[P]?"string":P};n[P]&&(C.enum=n[P]),h.push(C)}}}),a.push({cmpInfo:{id:await ge(t,e,l),displayFilePath:ue(t,e),name:De(l),inputs:h,exportName:p,exportType:f,importName:l,filePath:e,relFilePath:o,importPath:u,meta:{...nD(t,r)},framework:"angular"},node:{name:l,fnNode:r,deps:void 0}}),a}async function Yg(t,i,e,r){let n=[],s=t.relative(t.getAppRootDir(),e),a=me(t,e);for(let o of r.statements)if(t.ts.isExportDeclaration(o)&&o.exportClause&&t.ts.isNamedExports(o.exportClause))for(let u of o.exportClause.elements){let l=u.name?.text;if(!l)continue;let c=l,p="named",f=[];if(i){let m=i.getSymbolAtLocation(u.name);if(m){let g=i.getDeclaredTypeOfSymbol(m);i.getPropertiesOfType(g).forEach(x=>{let P=x.getDeclarations();P&&P.forEach(C=>{if(t.ts.isPropertyDeclaration(C)){let b=i.getTypeAtLocation(C),S={name:x.getName(),type:iD(t,i,b)};f.push(S)}})})}}let h=t.ts.isExportSpecifier(u)&&u.parent?u.parent.parent:void 0,d;if(h){let m=h.moduleSpecifier;if(m&&t.ts.isStringLiteral(m)){let g=i?.getSymbolAtLocation(m);if(g&&g.declarations&&g.declarations.length>0){let D=g.declarations[0];(!t.ts.isSourceFile(D)||t.ts.isSourceFile(D)&&D.fileName.includes("node_modules"))&&(d=m.text)}}}n.push({cmpInfo:{id:await ge(t,e,l,d),displayFilePath:ue(t,e),name:De(l),inputs:f,exportName:c,exportType:p,importName:l,filePath:e,relFilePath:s,importPath:d||a,externalImportPath:d,framework:"angular"},node:{name:l,fnNode:u,deps:void 0}})}return n}function Zg(t,i){return Yl(t,i,"Input")}function eD(t,i,e){return t.ts.isPropertyDeclaration(i)&&i.initializer!==void 0&&t.ts.isCallExpression(i.initializer)&&t.ts.isIdentifier(i.initializer.expression)&&i.initializer.expression.text===e}function Yl(t,i,e){if(t.ts.isCallExpression(i.expression)){let r=i.expression;if(t.ts.isIdentifier(r.expression))return r.expression?.text===e}return!1}function tD(t,i){return!!t.ts.getDecorators(i)?.some(n=>t.ts.isCallExpression(n.expression)&&t.ts.isIdentifier(n.expression.expression)&&n.expression.expression.text==="Component")}function Hl(t,i){if(!i)return"any";let e="any";switch(i.kind){case t.ts.SyntaxKind.StringKeyword:e="string";break;case t.ts.SyntaxKind.NumberKeyword:e="number";break;case t.ts.SyntaxKind.BooleanKeyword:e="boolean";break;case t.ts.SyntaxKind.TypeReference:t.ts.isTypeReferenceNode(i)&&t.ts.isIdentifier(i.typeName)&&(e=i.typeName.text);break}return e.includes("|")?"string":e}function rD(t,i){let e={};return t.ts.forEachChild(i,r=>{t.ts.isTypeAliasDeclaration(r)&&t.ts.isUnionTypeNode(r.type)&&r.type.types.every(n=>t.ts.isLiteralTypeNode(n)&&t.ts.isStringLiteral(n.literal))&&(e[r.name.text]=r.type.types.map(n=>n.literal.text))}),e}function iD(t,i,e){let r=i.typeToString(e);if(r==="any"){let n=e.getSymbol();if(n){let s=n.getDeclarations();if(s&&s.length>0){let a=s[0];if(t.ts.isVariableDeclaration(a)){let o=a.type;o&&(r=i.typeToString(i.getTypeAtLocation(o)))}}}}return r}function nD(t,i){let{getDecorators:e,isCallExpression:r,isIdentifier:n,isObjectLiteralExpression:s,isPropertyAssignment:a,isStringLiteral:o,SyntaxKind:u}=t.ts,l,c;return e(i)?.forEach(f=>{if(Yl(t,f,"Component")){let{expression:h}=f;if(r(h)){let[d]=h.arguments;s(d)&&d.properties.forEach(m=>{a(m)&&n(m.name)&&(m.name.escapedText==="selector"&&o(m.initializer)&&(l=m.initializer.text),m.name.escapedText==="standalone"&&(c=m.initializer.kind===u.TrueKeyword))})}}}),{selector:l,standalone:c}}async function _n(t,i,e){let r=t.typescriptEnabled?".ts":".js",n=`app.module${r}`,s=t.join(t.appDir,n),a=await t.readFile(s);if(!a){t.Sentry?.captureException(new Error(`Unable to read app.module.${r} at ${s}`),{extra:{appModuleCode:a,appModulePath:s}});return}let o=await sD(t,s,i,e,a);if(!o){t.Sentry?.captureException(new Error(`Unable to update app.module.${r} at ${s}`),{extra:{appModuleCode:a,appModulePath:s}});return}return await t.writeFile(s,o),s}async function sD(t,i,e,r,n){let s=n,a=Y(t,n),o=ne(t,i,r);a=H(t,a,{namedImports:[e],importPath:o}),a=H(t,a,{namedImports:["Content"],importPath:"@khulnasoft.com/sdk-angular"});let u=[];for(let l of a.statements)if(t.ts.isClassDeclaration(l)&&l.name?.text==="AppModule"){let c=aD(t,e,l);u.push(c)}else u.push(l);return a=t.ts.factory.updateSourceFile(a,u),s=le(t,a),s}function aD(t,i,e){let r=t.ts.getDecorators(e);if(r){for(let n of r)if(t.ts.isCallExpression(n.expression)&&t.ts.isIdentifier(n.expression.expression)&&n.expression.expression.text==="NgModule"){let s=n.expression.arguments;if(s.length===1&&t.ts.isObjectLiteralExpression(s[0])){let a=Zl(t,s[0],"declarations",i);if(a){let o=Zl(t,a,"imports","Content");if(o&&(a=o),a){let u=t.ts.factory.updateDecorator(n,t.ts.factory.updateCallExpression(n.expression,n.expression.expression,n.expression.typeArguments,[a])),c=[...r.map(p=>p===n?u:p),...t.ts.getModifiers(e)||[]];return t.ts.factory.updateClassDeclaration(e,c,e.name,e.typeParameters,e.heritageClauses,e.members)}}}}}return e}function Zl(t,i,e,r){let n=[...i.properties],s=n.findIndex(o=>re(t,o)===e);if(s>-1){let o=n[s];if(t.ts.isPropertyAssignment(o)&&o.initializer&&t.ts.isArrayLiteralExpression(o.initializer)){let u=ec(t,o.initializer,r);return u?(n[s]=t.ts.factory.updatePropertyAssignment(o,o.name,u),t.ts.factory.updateObjectLiteralExpression(i,n)):null}return null}let a=ec(t,t.ts.factory.createArrayLiteralExpression([],!0),r);return a?t.ts.factory.updateObjectLiteralExpression(i,[...n,t.ts.factory.createPropertyAssignment(e,a)]):null}function ec(t,i,e){return i.elements.some(n=>t.ts.isIdentifier(n)?n.text===e:!1)?null:t.ts.factory.updateArrayLiteralExpression(i,[...i.elements,t.ts.factory.createIdentifier(e)])}async function pa(t,i,e,r){let s=`app.routes${t.typescriptEnabled?".ts":".js"}`,a=t.join(t.appDir,s);try{if(t.magicast){let o=await t.magicast.loadFile(a);Object.keys(o.exports).length===0&&(o.exports.routes=[]);let l=Object.keys(o.exports)[0],c=o.exports[l];if(c.find(f=>f.path===i))return;let p=t.magicast.khulnasofts.raw("{}");if(p.path=i,p.component=t.magicast.khulnasofts.raw(e),c.push(p),o.imports.$items.find(f=>f.imported===e))return;o.imports.$append({imported:e,from:r}),await t.magicast.writeFile(o,a)}}catch(o){let u=null;try{u=t.readFileSync(a)}catch(l){t.Sentry?.captureException(l,{level:"warning"})}t.Sentry?.captureException(o,{extra:{content:u,appRoutesPath:a,componentName:e,componentPath:r}})}}var fc=de(pc(),1);async function dc(t){let i=t.ts.findConfigFile(t.getAppRootDir(),t.existsSync);if(i){let e=await t.readFile(i);if(!e)return;let r=fc.default.parse(e);if(!r||typeof r!="object"||Array.isArray(r))return;let n=r.compilerOptions;if(!n||typeof n!="object"||Array.isArray(n))return;let s=n.paths;(!s||typeof s!="object"||Array.isArray(s))&&(n.paths={},s=n.paths),Object.assign(n.paths,{"~/*":["./src/*"]}),await t.writeFile(i,JSON.stringify(r,null,2))}}async function hc(t){let i=[],e=await DD(t,i);i.push(...await Kn(t)),await mD(t,e);let r="KhulnasoftPage";if(!await t.exists(t.khulnasoftPageComponentPath)){let n=await t.formatCode(t.khulnasoftPageComponentPath,gc(t,r,t.khulnasoftPageComponentPath,"khulnasoft-page","page",!0));await t.writeFile(t.khulnasoftPageComponentPath,n),i.push({filePath:t.khulnasoftPageComponentPath,modifiedType:"create"})}if(t.hasAppModule){await _n(t,"Counter",e);let n=await _n(t,r,t.khulnasoftPageComponentPath);n&&i.push({filePath:n,modifiedType:"update"})}return await pa(t,"**",r,"./components/khulnasoft-page.component"),i}async function mc(t){let i=[];i.push(...await Kn(t));let e="FigmaImportsPage",r="figma-imports.component",n=t.join(t.componentsDir,`${r}.${t.typescriptEnabled?"ts":"js"}`);if(!await t.exists(n)){let s=await t.formatCode(n,gc(t,e,n,"figma-imports","figma-imports",!1));await t.writeFile(n,s),i.push({filePath:n,modifiedType:"create"})}if(t.hasAppModule){let s=await _n(t,e,n);s&&i.push({filePath:s,modifiedType:"update"})}return await pa(t,"figma-imports",e,`./components/${r}`),await dc(t),i}async function Kn(t){let i=[];return await t.exists(t.registryPath)||(await t.writeFile(t.registryPath,gD(t)),i.push({filePath:t.registryPath,modifiedType:"create"})),i}async function mD(t,i){let r=(await Wt(t,null,!1,!1,null,null,!1,!1)).components.find(n=>n.filePath===i);r&&await Wt(t,r.id,!0,!1,null,null,!0,!1)}function gc(t,i,e,r,n,s){let a=!t.hasAppModule,o=ne(t,e,t.registryPath),u=t.join(t.getAppRootDir(),"src","environments","environment.ts"),l=ne(t,e,u),c=s?`    <ng-container *ngIf="content || isPreviewing; else notFound">
          <khulnasoft-content
            [model]="model"
            [content]="content"
            [apiKey]="apiKey"
            [customComponents]="customComponents"
          ></khulnasoft-content>
        </ng-container>
    
        <ng-template #notFound>
          <div>404 - Content not found</div>
        </ng-template>`:`    <khulnasoft-content
          [model]="model"
          [content]="content"
          [apiKey]="apiKey"
          [customComponents]="customComponents"
        ></khulnasoft-content>`;return`
    import { Component, Input } from '@angular/core';
    import { fetchOneEntry, type KhulnasoftContent${s?", isPreviewing":""} } from '@khulnasoft.com/sdk-angular';
    ${a?"import { Content } from '@khulnasoft.com/sdk-angular';":""}
    ${a?"import { CommonModule } from '@angular/common';":""}
    import { environment } from ${JSON.stringify(l)};
    import { CUSTOM_COMPONENTS } from ${JSON.stringify(o)};
    
    @Component({
      selector: 'app-${r}',
      ${a?"standalone: true,":""}
      ${a?"imports: [Content, CommonModule],":""}
      template: \`
    ${c}
      \`,
    })
    export class ${i} {
      
      ${s?`isPreviewing = isPreviewing();
    `:""}
      @Input() model = '${n}';
    
      apiKey = environment.${Rn};
      ${t.typescriptEnabled?`
      content: KhulnasoftContent | null = null;
    `:`
      content = null;
    `}
    
      customComponents = CUSTOM_COMPONENTS;
    
      async ngOnInit() {
        const urlPath = window.location.pathname || '/';
    
        const khulnasoftContent = await fetchOneEntry({
          model: this.model,
          apiKey: this.apiKey,
          userAttributes: {
            urlPath,
          },
        });
    
        if (!khulnasoftContent) {
          return;
        }
    
        this.content = khulnasoftContent;
      }
    }
    
      `.trimStart()}function gD(t){return t.typescriptEnabled?`import type { RegisteredComponent } from "@khulnasoft.com/sdk-angular";
        
    export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
    ];`:`export const CUSTOM_COMPONENTS = [
      ];
      `}async function DD(t,i){let r=t.typescriptEnabled?"ts":"js",n=t.join(t.componentsDir,`counter.component.${r}`),s=await t.exists(n);t.debug(`angularEnsureCounterComponent, hasCounterCmp: ${s}`);let a=yD(t);if(!s){let o=await t.formatCode(n,a);await t.writeFile(n,o),i.push({filePath:n,modifiedType:"create"})}return n}function yD(t){return`
    import { Component, Input } from '@angular/core';
    
    @Component({
      selector: 'app-counter',
      ${t.hasAppModule?"":"standalone: true,"}
      template: \`
        <div class="counter">
          <button class="btn" (click)="decrement()">-</button>
          <span class="count">{{ count }}</span>
          <button class="btn" (click)="increment()">+</button>
        </div>
      \`,
      styles: [
        \`
          .counter {
            margin: 32px auto;
            display: flex;
            width: 100%;
            max-width: 190px;
          }
    
          .btn {
            width: 42px;
            font-size: 32px;
            font-weight: bold;
            background-color: #1c6bd1;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            line-height: 1.4;
          }
    
          .btn:hover {
            opacity: 0.8;
          }
    
          .count {
            flex: 1;
            font-size: 42px;
            text-align: center;
            margin: 0 8px;
          }
        \`,
      ],
    })
    export class Counter {
      @Input() initialCount: number = 99;
      count: number;
    
      constructor() {
        this.count = this.initialCount;
      }
    
      ngOnInit(): void {
        this.count = this.initialCount;
      }
    
      increment(): void {
        this.count += 1;
      }
    
      decrement(): void {
        this.count -= 1;
      }
    }
    
    `.trimStart()}async function Dc(t){await Kn(t);let i=await t.readFile(t.registryPath);return i?xD(t,i):{components:[],sourceFile:Y(t,"")}}async function xD(t,i){let e=Y(t,i);return CD(t,e)}async function CD(t,i){let e=[],r=ke(t,i,"CUSTOM_COMPONENTS");return r&&await Promise.all(r.arrayLiteralExp.elements.map(async(n,s)=>{let a=await Ca(t,i,n);a&&(a.nodeIndex=s,e.push(a))})),{sourceFile:i,components:it(e)}}async function Ca(t,i,e){if(!t.ts.isObjectLiteralExpression(e))return null;let r={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],framework:"angular"};for(let n of e.properties){if(!t.ts.isPropertyAssignment(n)||!t.ts.isIdentifier(n.name))continue;if(re(t,n)==="component"){let a,{initializer:o}=n;if(t.ts.isIdentifier(o))a=o.text;else if(t.ts.isCallExpression(o)){let l=o.arguments[0];t.ts.isIdentifier(l)&&(a=l.text)}if(!a)continue;r.name===""&&(r.name=De(a)),r.importName=a;let u=await Rt(t,t.registryPath,i,a);if(!u)continue;if(r.filePath=u.filePath,r.relFilePath=u.relFilePath,await t.exists(u.filePath)?r.importPath=me(t,u.filePath):(r.externalImportPath=u.importPath,r.importPath=r.externalImportPath),r.displayFilePath=u.displayFilePath,r.exportType=u.exportType,r.externalImportPath)r.exportName=a;else{let l=await Xl(t,u.filePath);if(l&&l.length>0)if(l.length===1)r.exportName=l[0].cmpInfo.exportName;else{let c=l.find(p=>p.cmpInfo.exportName===a);c&&(r.exportName=c.cmpInfo.exportName)}}continue}}return r=nt(t,r,e),r.filePath&&r.exportName&&(r.id=await ge(t,r.filePath,r.exportName,r.externalImportPath)),r}async function Wt(t,i,e,r,n,s,a,o){let u=await gr(t),[l,c,p]=await Promise.all([Gl(t,u),Dc(t),Wi(t)]),f=l.map(x=>x.cmpInfo),h=c.components,d={components:St(f,h),registryPath:t.registryPath,registryDisplayPath:ue(t,t.registryPath),frameworks:t.getFrameworks(),dependencies:Mt(f),publicApiKey:p.envValue??void 0,devToolsVersion:t.version};if(o)return d.components=await Ql(t,l,d.components),d;let m=!1,g=c.sourceFile,D=Array.isArray(i)?i:typeof i=="string"?[i]:[];if(D.length>0){let x=D.map(b=>{let S=l.find(w=>w.cmpInfo.id===b);if(!S)throw new Error(`Component ${b} not found`);return S}),P=Array.from(new Set(x.map(b=>b.cmpInfo.filePath))),C=await $e(t,P);for(let b of x){let S=d.components.find(Q=>Q.id===b.cmpInfo.id),w=await ca(t,b,C);ot(S,w);let $=f.findIndex(Q=>Q.id===b.cmpInfo.id);f[$].inputs=w;let z=Vt(b.cmpInfo.id,f,h,e,r,n,s),{elements:k,elmIndex:M,statementIndex:we,statement:ve,variableDeclaration:U}=await ED(t,g,b);if(z.addCmpToRegistry)k.push(bD(t,z.addCmpToRegistry)),m=!0;else if(z.removeCmpFromRegistry)k.splice(M,1),m=!0;else if(z.updateRegisteredCmp){let Q=Le(t,k[M],z.updateRegisteredCmp);k[M]=t.ts.factory.updateObjectLiteralExpression(Q,[yc(t,z.updateRegisteredCmp),...Q.properties.slice(1)]),m=!0}if(m&&a){let Q=[...g.statements];Q[we]=t.ts.factory.updateVariableStatement(ve,ve.modifiers,t.ts.factory.updateVariableDeclarationList(ve.declarationList,[t.ts.factory.updateVariableDeclaration(U,U.name,U.exclamationToken,U.type,t.ts.factory.createArrayLiteralExpression(jt(t,k)))])),g=t.ts.factory.updateSourceFile(g,Q),S.exportType==="named"?g=H(t,g,{namedImports:[S.importName],importPath:S.externalImportPath?S.externalImportPath:ne(t,t.registryPath,S.filePath)}):g=H(t,g,{defaultImport:S.importName,importPath:S.externalImportPath?S.externalImportPath:ne(t,t.registryPath,S.filePath)}),g=H(t,g,{namedImports:["RegisteredComponent"],importPath:"@khulnasoft.com/sdk-angular",isTypeOnly:!0}),g=Ut(t,g,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),d.components=z.components,h=z.components.filter(je=>je.isRegistered)}}}if(m&&a){g=$t(t,g),g=_t(t,g);let x=le(t,g);x=gt(x),x=await t.formatCode(t.registryPath,x),await t.writeFile(t.registryPath,x)}return d}function yc(t,i){let e=t.ts.factory.createIdentifier(i.importName);return t.ts.factory.createPropertyAssignment("component",e)}function bD(t,i){return Le(t,t.ts.factory.createObjectLiteralExpression([yc(t,i)],!0),i)}async function ED(t,i,e){let r=ke(t,i,"CUSTOM_COMPONENTS");if(!r)throw new Error(`Exported name of the Khulnasoft registry must be "CUSTOM_COMPONENTS". Please update your Khulnasoft registry file: ${t.registryPath}`);let n=r.arrayLiteralExp.elements.filter(a=>t.ts.isObjectLiteralExpression(a)),s=-1;for(let a=0;a<n.length;a++)if((await Ca(t,i,n[a]))?.id===e.cmpInfo.id){s=a;break}return{...r,elements:n,elmIndex:s}}async function xc(t){let i=await SD(t),e={};return{khulnasoftPageOptions:async()=>({templateContentId:"f0b8016ac92e474699293211a268ebaa",pathname:"/khulnasoft-demo",title:"Khulnasoft + Angular Demo Page"}),ensureKhulnasoftSetup:()=>hc(i),ensureFigmaImportPage:()=>mc(i),getRegistryPath:()=>i.registryPath,getRegistry:n=>Wt(i,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:async n=>{e[n]||(e[n]=`export * from "${n}";`)},loadComponent:async n=>{let s=await Wt(i,n.cmpId,!1,!1,null,null,!1,!1);return{...s,component:s.components.find(a=>a.id===n.cmpId)}},registerComponent:n=>Wt(i,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>Wt(i,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>Wt(i,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>Wt(i,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Wi(i),setPublicApiKey:n=>Jl(i,n.publicApiKey),getDependencies:n=>[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/sdk-angular"},{name:"concurrently"}],getDevRunCommand:()=>"khulnasoft-dev",getCache:()=>Bt(i),setCache:n=>Lt(i,n)}}async function SD(t){let i=await PD(t),e=t.getAppRootDir(),r=t.join(e,"src"),n=await st(t),s=t.join(r,"app"),a=await dt(t,s),o={...t,srcDir:"",appDir:"",componentsDir:"",registryPath:a,angularConfigPath:i,typescriptEnabled:n,khulnasoftPageComponentPath:"",hasAppModule:!1};if(!await t.exists(r))throw new Error(`Could not find src directory. Searched for src in "${t.getAppRootDir()}".`);o.srcDir=r,o.appDir=s,o.componentsDir=t.join(o.appDir,"components"),o.khulnasoftPageComponentPath=t.join(o.componentsDir,`khulnasoft-page.component.${n?"ts":"js"}`);let u=`app.module.${n?"ts":"js"}`,l=t.join(o.appDir,u);return await t.exists(l)&&(o.hasAppModule=!0),o}async function PD(t){let i=t.join(t.getAppRootDir(),"angular.json");if(await t.exists(i))return i;let e=t.join(t.getAppRootDir(),"project.json");if(await t.exists(e))return e;if(t.ignoreMissingConfig)return"";throw new Error(`Could not find Angular config file. Searched for angular.json & project.json in "${t.getAppRootDir()}".`)}var Jn=de(kc(),1);async function Bc(t,i){let r={components:(await i.getRegistry()).components.filter(s=>s.isRegistered).map(s=>{let a={filePath:Et(t.relative(t.getAppRootDir(),s.filePath)),name:s.name,image:s.image,description:s.description,exportName:s.exportName,inputs:at(s.inputs)};return at(a)}),version:1};t.debug("exporting registry components:",r.components.length);let n=(0,Jn.compress)(r);return btoa(JSON.stringify(n))}async function Lc(t,i,e){if(typeof e!="string")throw new Error("Invalid registry to import");let r=await i.getRegistry(),n=JSON.parse(atob(e)),s=(0,Jn.decompress)(n),a=at(r);t.debug("importing registry components:",s.components.length);for(let o of s.components){let u=Et(t.normalize(o.filePath)),l=r.components.find(p=>Et(p.filePath).endsWith(u)&&p.exportName===o.exportName);if(!l){console.error(`Could not find component to register: ${o.filePath}, ${o.exportName}`);continue}t.debug(`register (${l.id})`,l.filePath),await i.registerComponent({cmpId:l.id});for(let p of o.inputs)t.debug(`set input (${l.id})`),await i.setRegisteredComponentInput({cmpId:l.id,name:p.name,type:p.type,required:p.required,defaultValue:p.defaultValue,friendlyName:p.friendlyName,helperText:p.helperText});t.debug(`set input (${l.id}) info`);let c=await i.setRegisteredComponentInfo({cmpId:l.id,name:o.name,image:o.image,description:o.description});a=at(c)}return a}var At={react:"react",remix:"remix",angular:"angular",next:"next",qwik:"qwik"},HD={[At.react]:[{version:j.gen1,recommended:!0},{version:j.gen2,recommended:!1}],[At.remix]:[{version:j.gen1,recommended:!1},{version:j.gen2,recommended:!0}],[At.angular]:[{version:j.gen2,recommended:!0}],[At.next]:[{version:j.gen1,recommended:!0},{version:j.gen2,recommended:!1}],[At.qwik]:[{version:j.gen2,recommended:!0}]};function Oc(t){return HD[t]}async function Rc(t,i){let e=[],r=new Set;async function n(s){let a=t.join(s,"package.json");try{if(!await t.exists(a))return null;let u=await t.readFile(a);if(u===null)throw new Error(`Failed to read package.json at ${a}`);let l=JSON.parse(u);if(r.has(l.name))return null;r.add(l.name);let c={name:l.name,subPackages:[]},p=await t.readdir(s);for(let f of p)f!=="node_modules"&&(await t.stat(t.join(s,f))).isDirectory()&&c.subPackages.push(f);return e.push(c),c}catch(o){return t.Sentry?.captureException(o,{level:"warning"}),null}}try{let s=t.join(i,"package.json");if(await t.exists(s)){let o=await t.readFile(s);if(o!==null){let u=JSON.parse(o),l={...u.dependencies,...u.devDependencies};for(let c of Object.keys(l)){let p=t.join(i,"node_modules",c);await n(p)}if(u.workspaces)for(let c of u.workspaces){let p=await t.readdir(t.join(i,c));for(let f of p){let h=t.join(i,c,f);await n(h)}}}}}catch(s){t.Sentry?.captureException(s,{level:"warning"})}return e}var GD={"@khulnasoft.com/qwik-city":Fl,next:yl,"@remix-run/react":Ml,react:Wl,"@angular/core":xc},XD={"@khulnasoft.com/qwik-city":At.qwik,next:At.next,"@remix-run/react":At.remix,react:At.react,"@angular/core":At.angular};async function Mc(t){if(!t.ts)throw new Error("createDevTools() requires a TypeScript instance passed to the 'ts' option");if((!t.frameworks||t.frameworks.length===0)&&(t.frameworks=await Hr(t)),t.frameworks.length===0)throw new Error("Supported Devtools framework for not found");for(let i of t.frameworks){let e=GD[i.name];if(e)try{let r=await e(t);return{...r,exportRegistry:()=>Bc(t,r),importRegistry:s=>Lc(t,r,s),framework:XD[i.name],findAllDependencies:async()=>await Rc(t,t.getRepoRootDir())}}catch(r){t.Sentry?.captureException(r,{level:"warning"})}}throw new Error(`Devtools framework not found for ${t.getAppRootDir()}, ${JSON.stringify(t.frameworks,null,2)}`)}var _e=require("fs/promises"),$f=require("crypto"),Pe=require("fs"),Pn=require("os"),oe=de(require("path"),1),Xo=de(require("prettier"),1),Vf=de(require("typescript"),1),Uf=de(require("launch-editor"),1);var Ai=require("child_process");var Go={};jh(Go,{MagicastError:()=>We,khulnasofts:()=>hC,detectCodeFormat:()=>Rf,generateCode:()=>Ho,loadFile:()=>fC,parseExpression:()=>_f,parseModule:()=>Mf,writeFile:()=>dC});var Ds=require("fs");var As=de(lp(),1),tf=de($p(),1);function ct(t){var i=t.use(Te),e=i.Type,r=i.builtInTypes,n=r.number;function s(l){return e.from(c=>n.check(c)&&c>=l,n+" >= "+l)}let a={null:function(){return null},emptyArray:function(){return[]},false:function(){return!1},true:function(){return!0},undefined:function(){},"use strict":function(){return"use strict"}};var o=e.or(r.string,r.number,r.boolean,r.null,r.undefined);let u=e.from(l=>{if(l===null)return!0;var c=typeof l;return!(c==="object"||c==="function")},o.toString());return{geq:s,defaults:a,isPrimitive:u}}function pe(t){try{var i=t(),e=i.exports,r=e.default}catch{return}r&&r!==e&&typeof e=="object"&&(Object.assign(r,e,{default:r}),e.__esModule&&Object.defineProperty(r,"__esModule",{value:!0}),i.exports=r)}var jx=Object.defineProperty,$x=(t,i,e)=>i in t?jx(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,Ye=(t,i,e)=>($x(t,typeof i!="symbol"?i+"":i,e),e),rf=Object.prototype,ys=rf.toString,xt=rf.hasOwnProperty,Kr=class{assert(i,e){if(!this.check(i,e)){var r=Ko(i);throw new Error(r+" does not match type "+this)}return!0}arrayOf(){let i=this;return new xn(i)}},xn=class extends Kr{constructor(i){super(),this.elemType=i,Ye(this,"kind","ArrayType")}toString(){return"["+this.elemType+"]"}check(i,e){return Array.isArray(i)&&i.every(r=>this.elemType.check(r,e))}},xs=class extends Kr{constructor(i){super(),this.value=i,Ye(this,"kind","IdentityType")}toString(){return String(this.value)}check(i,e){let r=i===this.value;return!r&&typeof e=="function"&&e(this,i),r}},Cs=class extends Kr{constructor(i){super(),this.fields=i,Ye(this,"kind","ObjectType")}toString(){return"{ "+this.fields.join(", ")+" }"}check(i,e){return ys.call(i)===ys.call({})&&this.fields.every(r=>r.type.check(i[r.name],e))}},bs=class extends Kr{constructor(i){super(),this.types=i,Ye(this,"kind","OrType")}toString(){return this.types.join(" | ")}check(i,e){return this.types.some(r=>r.check(i,!!e))?!0:(typeof e=="function"&&e(this,i),!1)}},Ur=class extends Kr{constructor(i,e){super(),this.name=i,this.predicate=e,Ye(this,"kind","PredicateType")}toString(){return this.name}check(i,e){let r=this.predicate(i,e);return!r&&typeof e=="function"&&e(this,i),r}},Dn=class t{constructor(i,e){this.type=i,this.typeName=e,Ye(this,"baseNames",[]),Ye(this,"ownFields",Object.create(null)),Ye(this,"allSupertypes",Object.create(null)),Ye(this,"supertypeList",[]),Ye(this,"allFields",Object.create(null)),Ye(this,"fieldNames",[]),Ye(this,"finalized",!1),Ye(this,"buildable",!1),Ye(this,"buildParams",[])}isSupertypeOf(i){if(i instanceof t){if(this.finalized!==!0||i.finalized!==!0)throw new Error("");return xt.call(i.allSupertypes,this.typeName)}else throw new Error(i+" is not a Def")}checkAllFields(i,e){var r=this.allFields;if(this.finalized!==!0)throw new Error(""+this.typeName);function n(s){var a=r[s],o=a.type,u=a.getValue(i);return o.check(u,e)}return i!==null&&typeof i=="object"&&Object.keys(r).every(n)}bases(...i){var e=this.baseNames;if(this.finalized){if(i.length!==e.length)throw new Error("");for(var r=0;r<i.length;r++)if(i[r]!==e[r])throw new Error("");return this}return i.forEach(n=>{e.indexOf(n)<0&&e.push(n)}),this}},Es=class{constructor(i,e,r,n){this.name=i,this.type=e,this.defaultFn=r,Ye(this,"hidden"),this.hidden=!!n}toString(){return JSON.stringify(this.name)+": "+this.type}getValue(i){var e=i[this.name];return typeof e<"u"||typeof this.defaultFn=="function"&&(e=this.defaultFn.call(i)),e}};function Ko(t){return Array.isArray(t)?"["+t.map(Ko).join(", ")+"]":t&&typeof t=="object"?"{ "+Object.keys(t).map(function(i){return i+": "+t[i]}).join(", ")+" }":JSON.stringify(t)}function Te(t){let i={or(...v){return new bs(v.map(F=>i.from(F)))},from(v,F){if(v instanceof xn||v instanceof xs||v instanceof Cs||v instanceof bs||v instanceof Ur)return v;if(v instanceof Dn)return v.type;if(o.check(v)){if(v.length!==1)throw new Error("only one element type is permitted for typed arrays");return new xn(i.from(v[0]))}if(u.check(v))return new Cs(Object.keys(v).map(q=>new Es(q,i.from(v[q],q))));if(typeof v=="function"){var _=e.indexOf(v);if(_>=0)return r[_];if(typeof F!="string")throw new Error("missing name");return new Ur(F,v)}return new xs(v)},def(v){return xt.call(D,v)?D[v]:D[v]=new P(v)},hasDef(v){return xt.call(D,v)}};var e=[],r=[];function n(v,F){let _=ys.call(F),q=new Ur(v,fe=>ys.call(fe)===_);return F&&typeof F.constructor=="function"&&(e.push(F.constructor),r.push(q)),q}let s=n("string","truthy"),a=n("function",function(){}),o=n("array",[]),u=n("object",{}),l=n("RegExp",/./),c=n("Date",new Date),p=n("number",3),f=n("boolean",!0),h=n("null",null),d=n("undefined",void 0),m=typeof BigInt=="function"?n("BigInt",BigInt(1234)):new Ur("BigInt",()=>!1),g={string:s,function:a,array:o,object:u,RegExp:l,Date:c,number:p,boolean:f,null:h,undefined:d,BigInt:m};var D=Object.create(null);function x(v){if(v&&typeof v=="object"){var F=v.type;if(typeof F=="string"&&xt.call(D,F)){var _=D[F];if(_.finalized)return _}}return null}class P extends Dn{constructor(F){super(new Ur(F,(_,q)=>this.check(_,q)),F)}check(F,_){if(this.finalized!==!0)throw new Error("prematurely checking unfinalized type "+this.typeName);if(F===null||typeof F!="object")return!1;var q=x(F);return q?_&&q===this?this.checkAllFields(F,_):this.isSupertypeOf(q)?_?q.checkAllFields(F,_)&&this.checkAllFields(F,!1):!0:!1:this.typeName==="SourceLocation"||this.typeName==="Position"?this.checkAllFields(F,_):!1}build(...F){if(this.buildParams=F,this.buildable)return this;this.field("type",String,()=>this.typeName),this.buildable=!0;let _=(fe,he,Se,ft)=>{if(!xt.call(fe,he)){var Yt=this.allFields;if(!xt.call(Yt,he))throw new Error(""+he);var wn=Yt[he],Nh=wn.type,ki;if(ft)ki=Se;else if(wn.defaultFn)ki=wn.defaultFn.call(fe);else{var kh="no value or default function given for field "+JSON.stringify(he)+" of "+this.typeName+"("+this.buildParams.map(function(Bh){return Yt[Bh]}).join(", ")+")";throw new Error(kh)}if(!Nh.check(ki))throw new Error(Ko(ki)+" does not match field "+wn+" of type "+this.typeName);fe[he]=ki}},q=(...fe)=>{var he=fe.length;if(!this.finalized)throw new Error("attempting to instantiate unfinalized type "+this.typeName);var Se=Object.create(w);if(this.buildParams.forEach(function(ft,Yt){Yt<he?_(Se,ft,fe[Yt],!0):_(Se,ft,null,!1)}),Object.keys(this.allFields).forEach(function(ft){_(Se,ft,null,!1)}),Se.type!==this.typeName)throw new Error("");return Se};return q.from=fe=>{if(!this.finalized)throw new Error("attempting to instantiate unfinalized type "+this.typeName);var he=Object.create(w);if(Object.keys(this.allFields).forEach(function(Se){xt.call(fe,Se)?_(he,Se,fe[Se],!0):_(he,Se,null,!1)}),he.type!==this.typeName)throw new Error("");return he},Object.defineProperty(S,z(this.typeName),{enumerable:!0,value:q}),this}field(F,_,q,fe){return this.finalized?(console.error("Ignoring attempt to redefine field "+JSON.stringify(F)+" of finalized type "+JSON.stringify(this.typeName)),this):(this.ownFields[F]=new Es(F,i.from(_),q,fe),this)}finalize(){if(!this.finalized){var F=this.allFields,_=this.allSupertypes;this.baseNames.forEach(fe=>{var he=D[fe];if(he instanceof Dn)he.finalize(),Ks(F,he.allFields),Ks(_,he.allSupertypes);else{var Se="unknown supertype name "+JSON.stringify(fe)+" for subtype "+JSON.stringify(this.typeName);throw new Error(Se)}}),Ks(F,this.ownFields),_[this.typeName]=this,this.fieldNames.length=0;for(var q in F)xt.call(F,q)&&!F[q].hidden&&this.fieldNames.push(q);Object.defineProperty(M,this.typeName,{enumerable:!0,value:this.type}),this.finalized=!0,Qt(this.typeName,this.supertypeList),this.buildable&&this.supertypeList.lastIndexOf("Expression")>=0&&je(this.typeName)}}}function C(v){if(!xt.call(D,v))throw new Error("");var F=D[v];if(F.finalized!==!0)throw new Error("");return F.supertypeList.slice(1)}function b(v){for(var F={},_=Object.keys(D),q=_.length,fe=0;fe<q;++fe){var he=_[fe],Se=D[he];if(Se.finalized!==!0)throw new Error(""+he);for(var ft=0;ft<Se.supertypeList.length;++ft){var Yt=Se.supertypeList[ft];if(xt.call(v,Yt)){F[he]=Yt;break}}}return F}var S=Object.create(null),w={};function $(v,F){var _=w[v];return d.check(F)?delete w[v]:(a.assert(F),Object.defineProperty(w,v,{enumerable:!0,configurable:!0,value:F})),_}function z(v){return v.replace(/^[A-Z]+/,function(F){var _=F.length;switch(_){case 0:return"";case 1:return F.toLowerCase();default:return F.slice(0,_-1).toLowerCase()+F.charAt(_-1)}})}function k(v){return v=z(v),v.replace(/(Expression)?$/,"Statement")}var M={};function we(v){var F=x(v);if(F)return F.fieldNames.slice(0);if("type"in v)throw new Error("did not recognize object of type "+JSON.stringify(v.type));return Object.keys(v)}function ve(v,F){var _=x(v);if(_){var q=_.allFields[F];if(q)return q.getValue(v)}return v&&v[F]}function U(v,F,_){we(v).forEach(function(q){F.call(this,q,ve(v,q))},_)}function Q(v,F,_){return we(v).some(function(q){return F.call(this,q,ve(v,q))},_)}function je(v){var F=k(v);if(S[F])return;var _=S[z(v)];if(!_)return;let q=function(...fe){return S.expressionStatement(_.apply(S,fe))};q.from=function(...fe){return S.expressionStatement(_.from.apply(S,fe))},S[F]=q}function Qt(v,F){F.length=0,F.push(v);for(var _=Object.create(null),q=0;q<F.length;++q){v=F[q];var fe=D[v];if(fe.finalized!==!0)throw new Error("");xt.call(_,v)&&delete F[_[v]],_[v]=q,F.push.apply(F,fe.baseNames)}for(var he=0,Se=he,ft=F.length;Se<ft;++Se)xt.call(F,Se)&&(F[he++]=F[Se]);F.length=he}function Ks(v,F){return Object.keys(F).forEach(function(_){v[_]=F[_]}),v}function Ih(){Object.keys(D).forEach(function(v){D[v].finalize()})}return{Type:i,builtInTypes:g,getSupertypeNames:C,computeSupertypeLookupTable:b,khulnasofts:S,defineMethod:$,getKhulnasoftName:z,getStatementKhulnasoftName:k,namedTypes:M,getFieldNames:we,getFieldValue:ve,eachField:U,someField:Q,finalize:Ih}}pe(()=>module);var Vx=Object.prototype,us=Vx.hasOwnProperty;function nf(t){var i=t.use(Te),e=i.builtInTypes.array,r=i.builtInTypes.number;let n=function p(f,h,d){if(!(this instanceof p))throw new Error("Path constructor cannot be invoked without 'new'");if(h){if(!(h instanceof p))throw new Error("")}else h=null,d=null;this.value=f,this.parentPath=h,this.name=d,this.__childCache=null};var s=n.prototype;function a(p){return p.__childCache||(p.__childCache=Object.create(null))}function o(p,f){var h=a(p),d=p.getValueProperty(f),m=h[f];return(!us.call(h,f)||m.value!==d)&&(m=h[f]=new p.constructor(d,p,f)),m}s.getValueProperty=function(f){return this.value[f]},s.get=function(...f){for(var h=this,d=f.length,m=0;m<d;++m)h=o(h,f[m]);return h},s.each=function(f,h){for(var d=[],m=this.value.length,g=0,g=0;g<m;++g)us.call(this.value,g)&&(d[g]=this.get(g));for(h=h||this,g=0;g<m;++g)us.call(d,g)&&f.call(h,d[g])},s.map=function(f,h){var d=[];return this.each(function(m){d.push(f.call(this,m))},h),d},s.filter=function(f,h){var d=[];return this.each(function(m){f.call(this,m)&&d.push(m)},h),d};function u(){}function l(p,f,h,d){if(e.assert(p.value),f===0)return u;var m=p.value.length;if(m<1)return u;var g=arguments.length;g===2?(h=0,d=m):g===3?(h=Math.max(h,0),d=m):(h=Math.max(h,0),d=Math.min(d,m)),r.assert(h),r.assert(d);for(var D=Object.create(null),x=a(p),P=h;P<d;++P)if(us.call(p.value,P)){var C=p.get(P);if(C.name!==P)throw new Error("");var b=P+f;C.name=b,D[b]=C,delete x[P]}return delete x.length,function(){for(var S in D){var w=D[S];if(w.name!==+S)throw new Error("");x[S]=w,p.value[S]=w.value}}}s.shift=function(){var f=l(this,-1),h=this.value.shift();return f(),h},s.unshift=function(...f){var h=l(this,f.length),d=this.value.unshift.apply(this.value,f);return h(),d},s.push=function(...f){return e.assert(this.value),delete a(this).length,this.value.push.apply(this.value,f)},s.pop=function(){e.assert(this.value);var f=a(this);return delete f[this.value.length-1],delete f.length,this.value.pop()},s.insertAt=function(f){var h=arguments.length,d=l(this,h-1,f);if(d===u&&h<=1)return this;f=Math.max(f,0);for(var m=1;m<h;++m)this.value[f+m-1]=arguments[m];return d(),this},s.insertBefore=function(...f){for(var h=this.parentPath,d=f.length,m=[this.name],g=0;g<d;++g)m.push(f[g]);return h.insertAt.apply(h,m)},s.insertAfter=function(...f){for(var h=this.parentPath,d=f.length,m=[this.name+1],g=0;g<d;++g)m.push(f[g]);return h.insertAt.apply(h,m)};function c(p){if(!(p instanceof n))throw new Error("");var f=p.parentPath;if(!f)return p;var h=f.value,d=a(f);if(h[p.name]===p.value)d[p.name]=p;else if(e.check(h)){var m=h.indexOf(p.value);m>=0&&(d[p.name=m]=p)}else h[p.name]=p.value,d[p.name]=p;if(h[p.name]!==p.value)throw new Error("");if(p.parentPath.get(p.name)!==p)throw new Error("");return p}return s.replace=function(f){var h=[],d=this.parentPath.value,m=a(this.parentPath),g=arguments.length;if(c(this),e.check(d)){for(var D=d.length,x=l(this.parentPath,g-1,this.name+1),P=[this.name,1],C=0;C<g;++C)P.push(arguments[C]);var b=d.splice.apply(d,P);if(b[0]!==this.value)throw new Error("");if(d.length!==D-1+g)throw new Error("");if(x(),g===0)delete this.value,delete m[this.name],this.__childCache=null;else{if(d[this.name]!==f)throw new Error("");for(this.value!==f&&(this.value=f,this.__childCache=null),C=0;C<g;++C)h.push(this.parentPath.get(this.name+C));if(h[0]!==this)throw new Error("")}}else if(g===1)this.value!==f&&(this.__childCache=null),this.value=d[this.name]=f,h.push(this);else if(g===0)delete d[this.name],delete this.value,this.__childCache=null;else throw new Error("Could not replace path");return h},n}pe(()=>module);var Di=Object.prototype.hasOwnProperty;function Ux(t){var i=t.use(Te),e=i.Type,r=i.namedTypes,n=r.Node,s=r.Expression,a=i.builtInTypes.array,o=i.khulnasofts;let u=function C(b,S){if(!(this instanceof C))throw new Error("Scope constructor cannot be invoked without 'new'");c.check(b.value)||l.assert(b.value);var w;if(S){if(!(S instanceof C))throw new Error("");w=S.depth+1}else S=null,w=0;Object.defineProperties(this,{path:{value:b},node:{value:b.value},isGlobal:{value:!S,enumerable:!0},depth:{value:w},parent:{value:S},bindings:{value:{}},types:{value:{}}})};var l=e.or(r.Program,r.Function,r.CatchClause),c=e.or(r.Function,r.ClassDeclaration,r.ClassExpression,r.InterfaceDeclaration,r.TSInterfaceDeclaration,r.TypeAlias,r.TSTypeAliasDeclaration),p=e.or(r.TypeParameter,r.TSTypeParameter);u.isEstablishedBy=function(C){return l.check(C)||c.check(C)};var f=u.prototype;f.didScan=!1,f.declares=function(C){return this.scan(),Di.call(this.bindings,C)},f.declaresType=function(C){return this.scan(),Di.call(this.types,C)},f.declareTemporary=function(C){if(C){if(!/^[a-z$_]/i.test(C))throw new Error("")}else C="t$";C+=this.depth.toString(36)+"$",this.scan();for(var b=0;this.declares(C+b);)++b;var S=C+b;return this.bindings[S]=i.khulnasofts.identifier(S)},f.injectTemporary=function(C,b){C||(C=this.declareTemporary());var S=this.path.get("body");return r.BlockStatement.check(S.value)&&(S=S.get("body")),S.unshift(o.variableDeclaration("var",[o.variableDeclarator(C,b||null)])),C},f.scan=function(C){if(C||!this.didScan){for(var b in this.bindings)delete this.bindings[b];for(var b in this.types)delete this.types[b];h(this.path,this.bindings,this.types),this.didScan=!0}},f.getBindings=function(){return this.scan(),this.bindings},f.getTypes=function(){return this.scan(),this.types};function h(C,b,S){var w=C.value;if(c.check(w)){let $=C.get("typeParameters","params");a.check($.value)&&$.each(z=>{P(z,S)})}l.check(w)&&(r.CatchClause.check(w)?D(C.get("param"),b):d(C,b,S))}function d(C,b,S){var w=C.value;C.parent&&r.FunctionExpression.check(C.parent.node)&&C.parent.node.id&&D(C.parent.get("id"),b),w&&(a.check(w)?C.each($=>{g($,b,S)}):r.Function.check(w)?(C.get("params").each($=>{D($,b)}),g(C.get("body"),b,S),d(C.get("typeParameters"),b,S)):r.TypeAlias&&r.TypeAlias.check(w)||r.InterfaceDeclaration&&r.InterfaceDeclaration.check(w)||r.TSTypeAliasDeclaration&&r.TSTypeAliasDeclaration.check(w)||r.TSInterfaceDeclaration&&r.TSInterfaceDeclaration.check(w)?x(C.get("id"),S):r.VariableDeclarator.check(w)?(D(C.get("id"),b),g(C.get("init"),b,S)):w.type==="ImportSpecifier"||w.type==="ImportNamespaceSpecifier"||w.type==="ImportDefaultSpecifier"?D(C.get(w.local?"local":w.name?"name":"id"),b):n.check(w)&&!s.check(w)&&i.eachField(w,function($,z){var k=C.get($);if(!m(k,z))throw new Error("");g(k,b,S)}))}function m(C,b){return!!(C.value===b||Array.isArray(C.value)&&C.value.length===0&&Array.isArray(b)&&b.length===0)}function g(C,b,S){var w=C.value;if(!(!w||s.check(w)))if(r.FunctionDeclaration.check(w)&&w.id!==null)D(C.get("id"),b);else if(r.ClassDeclaration&&r.ClassDeclaration.check(w)&&w.id!==null)D(C.get("id"),b),d(C.get("typeParameters"),b,S);else if(r.InterfaceDeclaration&&r.InterfaceDeclaration.check(w)||r.TSInterfaceDeclaration&&r.TSInterfaceDeclaration.check(w))x(C.get("id"),S);else if(l.check(w)){if(r.CatchClause.check(w)&&r.Identifier.check(w.param)){var $=w.param.name,z=Di.call(b,$);d(C.get("body"),b,S),z||delete b[$]}}else d(C,b,S)}function D(C,b){var S=C.value;r.Pattern.assert(S),r.Identifier.check(S)?Di.call(b,S.name)?b[S.name].push(C):b[S.name]=[C]:r.AssignmentPattern&&r.AssignmentPattern.check(S)?D(C.get("left"),b):r.ObjectPattern&&r.ObjectPattern.check(S)?C.get("properties").each(function(w){var $=w.value;r.Pattern.check($)?D(w,b):r.Property.check($)||r.ObjectProperty&&r.ObjectProperty.check($)?D(w.get("value"),b):r.SpreadProperty&&r.SpreadProperty.check($)&&D(w.get("argument"),b)}):r.ArrayPattern&&r.ArrayPattern.check(S)?C.get("elements").each(function(w){var $=w.value;r.Pattern.check($)?D(w,b):r.SpreadElement&&r.SpreadElement.check($)&&D(w.get("argument"),b)}):r.PropertyPattern&&r.PropertyPattern.check(S)?D(C.get("pattern"),b):(r.SpreadElementPattern&&r.SpreadElementPattern.check(S)||r.RestElement&&r.RestElement.check(S)||r.SpreadPropertyPattern&&r.SpreadPropertyPattern.check(S))&&D(C.get("argument"),b)}function x(C,b){var S=C.value;r.Pattern.assert(S),r.Identifier.check(S)&&(Di.call(b,S.name)?b[S.name].push(C):b[S.name]=[C])}function P(C,b){var S=C.value;p.assert(S),Di.call(b,S.name)?b[S.name].push(C):b[S.name]=[C]}return f.lookup=function(C){for(var b=this;b&&!b.declares(C);b=b.parent);return b},f.lookupType=function(C){for(var b=this;b&&!b.declaresType(C);b=b.parent);return b},f.getGlobalScope=function(){for(var C=this;!C.isGlobal;)C=C.parent;return C},u}pe(()=>module);function sf(t){var i=t.use(Te),e=i.namedTypes,r=i.khulnasofts,n=i.builtInTypes.number,s=i.builtInTypes.array,a=t.use(nf),o=t.use(Ux);let u=function g(D,x,P){if(!(this instanceof g))throw new Error("NodePath constructor cannot be invoked without 'new'");a.call(this,D,x,P)};var l=u.prototype=Object.create(a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}});Object.defineProperties(l,{node:{get:function(){return Object.defineProperty(this,"node",{configurable:!0,value:this._computeNode()}),this.node}},parent:{get:function(){return Object.defineProperty(this,"parent",{configurable:!0,value:this._computeParent()}),this.parent}},scope:{get:function(){return Object.defineProperty(this,"scope",{configurable:!0,value:this._computeScope()}),this.scope}}}),l.replace=function(){return delete this.node,delete this.parent,delete this.scope,a.prototype.replace.apply(this,arguments)},l.prune=function(){var g=this.parent;return this.replace(),d(g)},l._computeNode=function(){var g=this.value;if(e.Node.check(g))return g;var D=this.parentPath;return D&&D.node||null},l._computeParent=function(){var g=this.value,D=this.parentPath;if(!e.Node.check(g)){for(;D&&!e.Node.check(D.value);)D=D.parentPath;D&&(D=D.parentPath)}for(;D&&!e.Node.check(D.value);)D=D.parentPath;return D||null},l._computeScope=function(){var g=this.value,D=this.parentPath,x=D&&D.scope;return e.Node.check(g)&&o.isEstablishedBy(g)&&(x=new o(this,x)),x||null},l.getValueProperty=function(g){return i.getFieldValue(this.value,g)},l.needsParens=function(g){var D=this.parentPath;if(!D)return!1;var x=this.value;if(!e.Expression.check(x)||x.type==="Identifier")return!1;for(;!e.Node.check(D.value);)if(D=D.parentPath,!D)return!1;var P=D.value;switch(x.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return P.type==="MemberExpression"&&this.name==="object"&&P.object===x;case"BinaryExpression":case"LogicalExpression":switch(P.type){case"CallExpression":return this.name==="callee"&&P.callee===x;case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return!0;case"MemberExpression":return this.name==="object"&&P.object===x;case"BinaryExpression":case"LogicalExpression":{let C=x,b=P.operator,S=p[b],w=C.operator,$=p[w];if(S>$)return!0;if(S===$&&this.name==="right"){if(P.right!==C)throw new Error("Nodes must be equal");return!0}}default:return!1}case"SequenceExpression":switch(P.type){case"ForStatement":return!1;case"ExpressionStatement":return this.name!=="expression";default:return!0}case"YieldExpression":switch(P.type){case"BinaryExpression":case"LogicalExpression":case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"CallExpression":case"MemberExpression":case"NewExpression":case"ConditionalExpression":case"YieldExpression":return!0;default:return!1}case"Literal":return P.type==="MemberExpression"&&n.check(x.value)&&this.name==="object"&&P.object===x;case"AssignmentExpression":case"ConditionalExpression":switch(P.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"BinaryExpression":case"LogicalExpression":return!0;case"CallExpression":return this.name==="callee"&&P.callee===x;case"ConditionalExpression":return this.name==="test"&&P.test===x;case"MemberExpression":return this.name==="object"&&P.object===x;default:return!1}default:if(P.type==="NewExpression"&&this.name==="callee"&&P.callee===x)return f(x)}return!!(g!==!0&&!this.canBeFirstInStatement()&&this.firstInStatement())};function c(g){return e.BinaryExpression.check(g)||e.LogicalExpression.check(g)}var p={};[["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]].forEach(function(g,D){g.forEach(function(x){p[x]=D})});function f(g){return e.CallExpression.check(g)?!0:s.check(g)?g.some(f):e.Node.check(g)?i.someField(g,function(D,x){return f(x)}):!1}l.canBeFirstInStatement=function(){var g=this.node;return!e.FunctionExpression.check(g)&&!e.ObjectExpression.check(g)},l.firstInStatement=function(){return h(this)};function h(g){for(var D,x;g.parent;g=g.parent){if(D=g.node,x=g.parent.node,e.BlockStatement.check(x)&&g.parent.name==="body"&&g.name===0){if(x.body[0]!==D)throw new Error("Nodes must be equal");return!0}if(e.ExpressionStatement.check(x)&&g.name==="expression"){if(x.expression!==D)throw new Error("Nodes must be equal");return!0}if(e.SequenceExpression.check(x)&&g.parent.name==="expressions"&&g.name===0){if(x.expressions[0]!==D)throw new Error("Nodes must be equal");continue}if(e.CallExpression.check(x)&&g.name==="callee"){if(x.callee!==D)throw new Error("Nodes must be equal");continue}if(e.MemberExpression.check(x)&&g.name==="object"){if(x.object!==D)throw new Error("Nodes must be equal");continue}if(e.ConditionalExpression.check(x)&&g.name==="test"){if(x.test!==D)throw new Error("Nodes must be equal");continue}if(c(x)&&g.name==="left"){if(x.left!==D)throw new Error("Nodes must be equal");continue}if(e.UnaryExpression.check(x)&&!x.prefix&&g.name==="argument"){if(x.argument!==D)throw new Error("Nodes must be equal");continue}return!1}return!0}function d(g){if(e.VariableDeclaration.check(g.node)){var D=g.get("declarations").value;if(!D||D.length===0)return g.prune()}else if(e.ExpressionStatement.check(g.node)){if(!g.get("expression").value)return g.prune()}else e.IfStatement.check(g.node)&&m(g);return g}function m(g){var D=g.get("test").value,x=g.get("alternate").value,P=g.get("consequent").value;if(!P&&!x){var C=r.expressionStatement(D);g.replace(C)}else if(!P&&x){var b=r.unaryExpression("!",D,!0);e.UnaryExpression.check(D)&&D.operator==="!"&&(b=D.argument),g.get("test").replace(b),g.get("consequent").replace(x),g.get("alternate").replace()}}return u}pe(()=>module);var ls=Object.prototype.hasOwnProperty;function Kx(t){var i=t.use(Te),e=t.use(sf),r=i.builtInTypes.array,n=i.builtInTypes.object,s=i.builtInTypes.function,a;let o=function d(){if(!(this instanceof d))throw new Error("PathVisitor constructor cannot be invoked without 'new'");this._reusableContextStack=[],this._methodNameTable=u(this),this._shouldVisitComments=ls.call(this._methodNameTable,"Block")||ls.call(this._methodNameTable,"Line"),this.Context=f(this),this._visiting=!1,this._changeReported=!1};function u(d){var m=Object.create(null);for(var g in d)/^visit[A-Z]/.test(g)&&(m[g.slice(5)]=!0);for(var D=i.computeSupertypeLookupTable(m),x=Object.create(null),P=Object.keys(D),C=P.length,b=0;b<C;++b){var S=P[b];g="visit"+D[S],s.check(d[g])&&(x[S]=g)}return x}o.fromMethodsObject=function(m){if(m instanceof o)return m;if(!n.check(m))return new o;let g=function x(){if(!(this instanceof x))throw new Error("Visitor constructor cannot be invoked without 'new'");o.call(this)};var D=g.prototype=Object.create(c);return D.constructor=g,l(D,m),l(g,o),s.assert(g.fromMethodsObject),s.assert(g.visit),new g};function l(d,m){for(var g in m)ls.call(m,g)&&(d[g]=m[g]);return d}o.visit=function(m,g){return o.fromMethodsObject(g).visit(m)};var c=o.prototype;c.visit=function(){if(this._visiting)throw new Error("Recursively calling visitor.visit(path) resets visitor state. Try this.visit(path) or this.traverse(path) instead.");this._visiting=!0,this._changeReported=!1,this._abortRequested=!1;for(var d=arguments.length,m=new Array(d),g=0;g<d;++g)m[g]=arguments[g];m[0]instanceof e||(m[0]=new e({root:m[0]}).get("root")),this.reset.apply(this,m);var D;try{var x=this.visitWithoutReset(m[0]);D=!0}finally{if(this._visiting=!1,!D&&this._abortRequested)return m[0].value}return x},c.AbortRequest=function(){},c.abort=function(){var d=this;d._abortRequested=!0;var m=new d.AbortRequest;throw m.cancel=function(){d._abortRequested=!1},m},c.reset=function(d){},c.visitWithoutReset=function(d){if(this instanceof this.Context)return this.visitor.visitWithoutReset(d);if(!(d instanceof e))throw new Error("");var m=d.value,g=m&&typeof m=="object"&&typeof m.type=="string"&&this._methodNameTable[m.type];if(g){var D=this.acquireContext(d);try{return D.invokeVisitorMethod(g)}finally{this.releaseContext(D)}}else return p(d,this)};function p(d,m){if(!(d instanceof e))throw new Error("");if(!(m instanceof o))throw new Error("");var g=d.value;if(r.check(g))d.each(m.visitWithoutReset,m);else if(n.check(g)){var D=i.getFieldNames(g);m._shouldVisitComments&&g.comments&&D.indexOf("comments")<0&&D.push("comments");for(var x=D.length,P=[],C=0;C<x;++C){var b=D[C];ls.call(g,b)||(g[b]=i.getFieldValue(g,b)),P.push(d.get(b))}for(var C=0;C<x;++C)m.visitWithoutReset(P[C])}return d.value}c.acquireContext=function(d){return this._reusableContextStack.length===0?new this.Context(d):this._reusableContextStack.pop().reset(d)},c.releaseContext=function(d){if(!(d instanceof this.Context))throw new Error("");this._reusableContextStack.push(d),d.currentPath=null},c.reportChanged=function(){this._changeReported=!0},c.wasChangeReported=function(){return this._changeReported};function f(d){function m(D){if(!(this instanceof m))throw new Error("");if(!(this instanceof o))throw new Error("");if(!(D instanceof e))throw new Error("");Object.defineProperty(this,"visitor",{value:d,writable:!1,enumerable:!0,configurable:!1}),this.currentPath=D,this.needToCallTraverse=!0,Object.seal(this)}if(!(d instanceof o))throw new Error("");var g=m.prototype=Object.create(d);return g.constructor=m,l(g,h),m}var h=Object.create(null);return h.reset=function(m){if(!(this instanceof this.Context))throw new Error("");if(!(m instanceof e))throw new Error("");return this.currentPath=m,this.needToCallTraverse=!0,this},h.invokeVisitorMethod=function(m){if(!(this instanceof this.Context))throw new Error("");if(!(this.currentPath instanceof e))throw new Error("");var g=this.visitor[m].call(this,this.currentPath);if(g===!1?this.needToCallTraverse=!1:g!==a&&(this.currentPath=this.currentPath.replace(g)[0],this.needToCallTraverse&&this.traverse(this.currentPath)),this.needToCallTraverse!==!1)throw new Error("Must either call this.traverse or return false in "+m);var D=this.currentPath;return D&&D.value},h.traverse=function(m,g){if(!(this instanceof this.Context))throw new Error("");if(!(m instanceof e))throw new Error("");if(!(this.currentPath instanceof e))throw new Error("");return this.needToCallTraverse=!1,p(m,o.fromMethodsObject(g||this.visitor))},h.visit=function(m,g){if(!(this instanceof this.Context))throw new Error("");if(!(m instanceof e))throw new Error("");if(!(this.currentPath instanceof e))throw new Error("");return this.needToCallTraverse=!1,o.fromMethodsObject(g||this.visitor).visitWithoutReset(m)},h.reportChanged=function(){this.visitor.reportChanged()},h.abort=function(){this.needToCallTraverse=!1,this.visitor.abort()},o}pe(()=>module);function zx(t){var i=t.use(Te),e=i.getFieldNames,r=i.getFieldValue,n=i.builtInTypes.array,s=i.builtInTypes.object,a=i.builtInTypes.Date,o=i.builtInTypes.RegExp,u=Object.prototype.hasOwnProperty;function l(d,m,g){return n.check(g)?g.length=0:g=null,p(d,m,g)}l.assert=function(d,m){var g=[];if(!l(d,m,g))if(g.length===0){if(d!==m)throw new Error("Nodes must be equal")}else throw new Error("Nodes differ in the following path: "+g.map(c).join(""))};function c(d){return/[_$a-z][_$a-z0-9]*/i.test(d)?"."+d:"["+JSON.stringify(d)+"]"}function p(d,m,g){return d===m?!0:n.check(d)?f(d,m,g):s.check(d)?h(d,m,g):a.check(d)?a.check(m)&&+d==+m:o.check(d)?o.check(m)&&d.source===m.source&&d.global===m.global&&d.multiline===m.multiline&&d.ignoreCase===m.ignoreCase:d==m}function f(d,m,g){n.assert(d);var D=d.length;if(!n.check(m)||m.length!==D)return g&&g.push("length"),!1;for(var x=0;x<D;++x){if(g&&g.push(x),x in d!=x in m||!p(d[x],m[x],g))return!1;if(g){var P=g.pop();if(P!==x)throw new Error(""+P)}}return!0}function h(d,m,g){if(s.assert(d),!s.check(m))return!1;if(d.type!==m.type)return g&&g.push("type"),!1;var D=e(d),x=D.length,P=e(m),C=P.length;if(x===C){for(var b=0;b<x;++b){var S=D[b],w=r(d,S),$=r(m,S);if(g&&g.push(S),!p(w,$,g))return!1;if(g){var z=g.pop();if(z!==S)throw new Error(""+z)}}return!0}if(!g)return!1;var k=Object.create(null);for(b=0;b<x;++b)k[D[b]]=!0;for(b=0;b<C;++b){if(S=P[b],!u.call(k,S))return g.push(S),!1;delete k[S]}for(S in k){g.push(S);break}return!1}return l}pe(()=>module);function qx(t){let i=Wx(),e=i.use(Te);t.forEach(i.use),e.finalize();let r=i.use(Kx);return{Type:e.Type,builtInTypes:e.builtInTypes,namedTypes:e.namedTypes,khulnasofts:e.khulnasofts,defineMethod:e.defineMethod,getFieldNames:e.getFieldNames,getFieldValue:e.getFieldValue,eachField:e.eachField,someField:e.someField,getSupertypeNames:e.getSupertypeNames,getKhulnasoftName:e.getKhulnasoftName,astNodesAreEquivalent:i.use(zx),finalize:e.finalize,Path:i.use(nf),NodePath:i.use(sf),PathVisitor:r,use:i.use,visit:r.visit}}function Wx(){let t=[],i=[];function e(n){var s=t.indexOf(n);return s===-1&&(s=t.length,t.push(n),i[s]=n(r)),i[s]}var r={use:e};return r}pe(()=>module);function af(){return{BinaryOperators:["==","!=","===","!==","<","<=",">",">=","<<",">>",">>>","+","-","*","/","%","&","|","^","in","instanceof"],AssignmentOperators:["=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","|=","^=","&="],LogicalOperators:["||","&&"]}}pe(()=>module);function of(t){let i=t.use(af);return i.BinaryOperators.indexOf("**")<0&&i.BinaryOperators.push("**"),i.AssignmentOperators.indexOf("**=")<0&&i.AssignmentOperators.push("**="),i}pe(()=>module);function uf(t){let i=t.use(of);return i.LogicalOperators.indexOf("??")<0&&i.LogicalOperators.push("??"),i}pe(()=>module);function Jx(t){let i=t.use(uf);return i.LogicalOperators.forEach(e=>{let r=e+"=";i.AssignmentOperators.indexOf(r)<0&&i.AssignmentOperators.push(r)}),i}pe(()=>module);function Hx(t){var i=t.use(Te),e=i.Type,r=e.def,n=e.or,s=t.use(ct),a=s.defaults,o=s.geq;let{BinaryOperators:u,AssignmentOperators:l,LogicalOperators:c}=t.use(af);r("Printable").field("loc",n(r("SourceLocation"),null),a.null,!0),r("Node").bases("Printable").field("type",String).field("comments",n([r("Comment")],null),a.null,!0),r("SourceLocation").field("start",r("Position")).field("end",r("Position")).field("source",n(String,null),a.null),r("Position").field("line",o(1)).field("column",o(0)),r("File").bases("Node").build("program","name").field("program",r("Program")).field("name",n(String,null),a.null),r("Program").bases("Node").build("body").field("body",[r("Statement")]),r("Function").bases("Node").field("id",n(r("Identifier"),null),a.null).field("params",[r("Pattern")]).field("body",r("BlockStatement")).field("generator",Boolean,a.false).field("async",Boolean,a.false),r("Statement").bases("Node"),r("EmptyStatement").bases("Statement").build(),r("BlockStatement").bases("Statement").build("body").field("body",[r("Statement")]),r("ExpressionStatement").bases("Statement").build("expression").field("expression",r("Expression")),r("IfStatement").bases("Statement").build("test","consequent","alternate").field("test",r("Expression")).field("consequent",r("Statement")).field("alternate",n(r("Statement"),null),a.null),r("LabeledStatement").bases("Statement").build("label","body").field("label",r("Identifier")).field("body",r("Statement")),r("BreakStatement").bases("Statement").build("label").field("label",n(r("Identifier"),null),a.null),r("ContinueStatement").bases("Statement").build("label").field("label",n(r("Identifier"),null),a.null),r("WithStatement").bases("Statement").build("object","body").field("object",r("Expression")).field("body",r("Statement")),r("SwitchStatement").bases("Statement").build("discriminant","cases","lexical").field("discriminant",r("Expression")).field("cases",[r("SwitchCase")]).field("lexical",Boolean,a.false),r("ReturnStatement").bases("Statement").build("argument").field("argument",n(r("Expression"),null)),r("ThrowStatement").bases("Statement").build("argument").field("argument",r("Expression")),r("TryStatement").bases("Statement").build("block","handler","finalizer").field("block",r("BlockStatement")).field("handler",n(r("CatchClause"),null),function(){return this.handlers&&this.handlers[0]||null}).field("handlers",[r("CatchClause")],function(){return this.handler?[this.handler]:[]},!0).field("guardedHandlers",[r("CatchClause")],a.emptyArray).field("finalizer",n(r("BlockStatement"),null),a.null),r("CatchClause").bases("Node").build("param","guard","body").field("param",r("Pattern")).field("guard",n(r("Expression"),null),a.null).field("body",r("BlockStatement")),r("WhileStatement").bases("Statement").build("test","body").field("test",r("Expression")).field("body",r("Statement")),r("DoWhileStatement").bases("Statement").build("body","test").field("body",r("Statement")).field("test",r("Expression")),r("ForStatement").bases("Statement").build("init","test","update","body").field("init",n(r("VariableDeclaration"),r("Expression"),null)).field("test",n(r("Expression"),null)).field("update",n(r("Expression"),null)).field("body",r("Statement")),r("ForInStatement").bases("Statement").build("left","right","body").field("left",n(r("VariableDeclaration"),r("Expression"))).field("right",r("Expression")).field("body",r("Statement")),r("DebuggerStatement").bases("Statement").build(),r("Declaration").bases("Statement"),r("FunctionDeclaration").bases("Function","Declaration").build("id","params","body").field("id",r("Identifier")),r("FunctionExpression").bases("Function","Expression").build("id","params","body"),r("VariableDeclaration").bases("Declaration").build("kind","declarations").field("kind",n("var","let","const")).field("declarations",[r("VariableDeclarator")]),r("VariableDeclarator").bases("Node").build("id","init").field("id",r("Pattern")).field("init",n(r("Expression"),null),a.null),r("Expression").bases("Node"),r("ThisExpression").bases("Expression").build(),r("ArrayExpression").bases("Expression").build("elements").field("elements",[n(r("Expression"),null)]),r("ObjectExpression").bases("Expression").build("properties").field("properties",[r("Property")]),r("Property").bases("Node").build("kind","key","value").field("kind",n("init","get","set")).field("key",n(r("Literal"),r("Identifier"))).field("value",r("Expression")),r("SequenceExpression").bases("Expression").build("expressions").field("expressions",[r("Expression")]);var p=n("-","+","!","~","typeof","void","delete");r("UnaryExpression").bases("Expression").build("operator","argument","prefix").field("operator",p).field("argument",r("Expression")).field("prefix",Boolean,a.true);let f=n(...u);r("BinaryExpression").bases("Expression").build("operator","left","right").field("operator",f).field("left",r("Expression")).field("right",r("Expression"));let h=n(...l);r("AssignmentExpression").bases("Expression").build("operator","left","right").field("operator",h).field("left",n(r("Pattern"),r("MemberExpression"))).field("right",r("Expression"));var d=n("++","--");r("UpdateExpression").bases("Expression").build("operator","argument","prefix").field("operator",d).field("argument",r("Expression")).field("prefix",Boolean);var m=n(...c);r("LogicalExpression").bases("Expression").build("operator","left","right").field("operator",m).field("left",r("Expression")).field("right",r("Expression")),r("ConditionalExpression").bases("Expression").build("test","consequent","alternate").field("test",r("Expression")).field("consequent",r("Expression")).field("alternate",r("Expression")),r("NewExpression").bases("Expression").build("callee","arguments").field("callee",r("Expression")).field("arguments",[r("Expression")]),r("CallExpression").bases("Expression").build("callee","arguments").field("callee",r("Expression")).field("arguments",[r("Expression")]),r("MemberExpression").bases("Expression").build("object","property","computed").field("object",r("Expression")).field("property",n(r("Identifier"),r("Expression"))).field("computed",Boolean,function(){var g=this.property.type;return g==="Literal"||g==="MemberExpression"||g==="BinaryExpression"}),r("Pattern").bases("Node"),r("SwitchCase").bases("Node").build("test","consequent").field("test",n(r("Expression"),null)).field("consequent",[r("Statement")]),r("Identifier").bases("Expression","Pattern").build("name").field("name",String).field("optional",Boolean,a.false),r("Literal").bases("Expression").build("value").field("value",n(String,Boolean,null,Number,RegExp,BigInt)),r("Comment").bases("Printable").field("value",String).field("leading",Boolean,a.true).field("trailing",Boolean,a.false)}pe(()=>module);function Gx(t){t.use(Hx);let i=t.use(Te),e=i.Type.def,r=i.Type.or,n=t.use(ct).defaults;e("Function").field("generator",Boolean,n.false).field("expression",Boolean,n.false).field("defaults",[r(e("Expression"),null)],n.emptyArray).field("rest",r(e("Identifier"),null),n.null),e("RestElement").bases("Pattern").build("argument").field("argument",e("Pattern")).field("typeAnnotation",r(e("TypeAnnotation"),e("TSTypeAnnotation"),null),n.null),e("SpreadElementPattern").bases("Pattern").build("argument").field("argument",e("Pattern")),e("FunctionDeclaration").build("id","params","body","generator","expression").field("id",r(e("Identifier"),null)),e("FunctionExpression").build("id","params","body","generator","expression"),e("ArrowFunctionExpression").bases("Function","Expression").build("params","body","expression").field("id",null,n.null).field("body",r(e("BlockStatement"),e("Expression"))).field("generator",!1,n.false),e("ForOfStatement").bases("Statement").build("left","right","body").field("left",r(e("VariableDeclaration"),e("Pattern"))).field("right",e("Expression")).field("body",e("Statement")),e("YieldExpression").bases("Expression").build("argument","delegate").field("argument",r(e("Expression"),null)).field("delegate",Boolean,n.false),e("GeneratorExpression").bases("Expression").build("body","blocks","filter").field("body",e("Expression")).field("blocks",[e("ComprehensionBlock")]).field("filter",r(e("Expression"),null)),e("ComprehensionExpression").bases("Expression").build("body","blocks","filter").field("body",e("Expression")).field("blocks",[e("ComprehensionBlock")]).field("filter",r(e("Expression"),null)),e("ComprehensionBlock").bases("Node").build("left","right","each").field("left",e("Pattern")).field("right",e("Expression")).field("each",Boolean),e("Property").field("key",r(e("Literal"),e("Identifier"),e("Expression"))).field("value",r(e("Expression"),e("Pattern"))).field("method",Boolean,n.false).field("shorthand",Boolean,n.false).field("computed",Boolean,n.false),e("ObjectProperty").field("shorthand",Boolean,n.false),e("PropertyPattern").bases("Pattern").build("key","pattern").field("key",r(e("Literal"),e("Identifier"),e("Expression"))).field("pattern",e("Pattern")).field("computed",Boolean,n.false),e("ObjectPattern").bases("Pattern").build("properties").field("properties",[r(e("PropertyPattern"),e("Property"))]),e("ArrayPattern").bases("Pattern").build("elements").field("elements",[r(e("Pattern"),null)]),e("SpreadElement").bases("Node").build("argument").field("argument",e("Expression")),e("ArrayExpression").field("elements",[r(e("Expression"),e("SpreadElement"),e("RestElement"),null)]),e("NewExpression").field("arguments",[r(e("Expression"),e("SpreadElement"))]),e("CallExpression").field("arguments",[r(e("Expression"),e("SpreadElement"))]),e("AssignmentPattern").bases("Pattern").build("left","right").field("left",e("Pattern")).field("right",e("Expression")),e("MethodDefinition").bases("Declaration").build("kind","key","value","static").field("kind",r("constructor","method","get","set")).field("key",e("Expression")).field("value",e("Function")).field("computed",Boolean,n.false).field("static",Boolean,n.false);let s=r(e("MethodDefinition"),e("VariableDeclarator"),e("ClassPropertyDefinition"),e("ClassProperty"),e("StaticBlock"));e("ClassProperty").bases("Declaration").build("key").field("key",r(e("Literal"),e("Identifier"),e("Expression"))).field("computed",Boolean,n.false),e("ClassPropertyDefinition").bases("Declaration").build("definition").field("definition",s),e("ClassBody").bases("Declaration").build("body").field("body",[s]),e("ClassDeclaration").bases("Declaration").build("id","body","superClass").field("id",r(e("Identifier"),null)).field("body",e("ClassBody")).field("superClass",r(e("Expression"),null),n.null),e("ClassExpression").bases("Expression").build("id","body","superClass").field("id",r(e("Identifier"),null),n.null).field("body",e("ClassBody")).field("superClass",r(e("Expression"),null),n.null),e("Super").bases("Expression").build(),e("Specifier").bases("Node"),e("ModuleSpecifier").bases("Specifier").field("local",r(e("Identifier"),null),n.null).field("id",r(e("Identifier"),null),n.null).field("name",r(e("Identifier"),null),n.null),e("ImportSpecifier").bases("ModuleSpecifier").build("imported","local").field("imported",e("Identifier")),e("ImportDefaultSpecifier").bases("ModuleSpecifier").build("local"),e("ImportNamespaceSpecifier").bases("ModuleSpecifier").build("local"),e("ImportDeclaration").bases("Declaration").build("specifiers","source","importKind").field("specifiers",[r(e("ImportSpecifier"),e("ImportNamespaceSpecifier"),e("ImportDefaultSpecifier"))],n.emptyArray).field("source",e("Literal")).field("importKind",r("value","type"),function(){return"value"}),e("ExportNamedDeclaration").bases("Declaration").build("declaration","specifiers","source").field("declaration",r(e("Declaration"),null)).field("specifiers",[e("ExportSpecifier")],n.emptyArray).field("source",r(e("Literal"),null),n.null),e("ExportSpecifier").bases("ModuleSpecifier").build("local","exported").field("exported",e("Identifier")),e("ExportDefaultDeclaration").bases("Declaration").build("declaration").field("declaration",r(e("Declaration"),e("Expression"))),e("ExportAllDeclaration").bases("Declaration").build("source").field("source",e("Literal")),e("TaggedTemplateExpression").bases("Expression").build("tag","quasi").field("tag",e("Expression")).field("quasi",e("TemplateLiteral")),e("TemplateLiteral").bases("Expression").build("quasis","expressions").field("quasis",[e("TemplateElement")]).field("expressions",[e("Expression")]),e("TemplateElement").bases("Node").build("value","tail").field("value",{cooked:String,raw:String}).field("tail",Boolean),e("MetaProperty").bases("Expression").build("meta","property").field("meta",e("Identifier")).field("property",e("Identifier"))}pe(()=>module);function Xx(t){t.use(of),t.use(Gx)}pe(()=>module);function Qx(t){t.use(Xx);let e=t.use(Te).Type.def,r=t.use(ct).defaults;e("Function").field("async",Boolean,r.false),e("AwaitExpression").bases("Expression").build("argument").field("argument",e("Expression"))}pe(()=>module);function Yx(t){t.use(Qx);let i=t.use(Te),e=i.Type.def,r=i.Type.or,n=t.use(ct).defaults;e("ForOfStatement").field("await",Boolean,n.false),e("SpreadProperty").bases("Node").build("argument").field("argument",e("Expression")),e("ObjectExpression").field("properties",[r(e("Property"),e("SpreadProperty"),e("SpreadElement"))]),e("TemplateElement").field("value",{cooked:r(String,null),raw:String}),e("SpreadPropertyPattern").bases("Pattern").build("argument").field("argument",e("Pattern")),e("ObjectPattern").field("properties",[r(e("PropertyPattern"),e("Property"),e("RestElement"),e("SpreadPropertyPattern"))])}pe(()=>module);function Zx(t){t.use(Yx);let i=t.use(Te),e=i.Type.def,r=i.Type.or,n=t.use(ct).defaults;e("CatchClause").field("param",r(e("Pattern"),null),n.null)}pe(()=>module);function e0(t){t.use(uf),t.use(Zx);let i=t.use(Te),e=i.Type.def,r=i.Type.or,s=t.use(ct).defaults;e("ImportExpression").bases("Expression").build("source").field("source",e("Expression")),e("ExportAllDeclaration").bases("Declaration").build("source","exported").field("source",e("Literal")).field("exported",r(e("Identifier"),null,void 0),s.null),e("ChainElement").bases("Node").field("optional",Boolean,s.false),e("CallExpression").bases("Expression","ChainElement"),e("MemberExpression").bases("Expression","ChainElement"),e("ChainExpression").bases("Expression").build("expression").field("expression",e("ChainElement")),e("OptionalCallExpression").bases("CallExpression").build("callee","arguments","optional").field("optional",Boolean,s.true),e("OptionalMemberExpression").bases("MemberExpression").build("object","property","computed","optional").field("optional",Boolean,s.true)}pe(()=>module);function t0(t){t.use(Jx),t.use(e0)}pe(()=>module);function r0(t){t.use(t0);let e=t.use(Te).Type.def;e("StaticBlock").bases("Declaration").build("body").field("body",[e("Statement")])}pe(()=>module);function Sn(t){t.use(r0);let i=t.use(Te),e=i.Type,r=i.Type.def,n=e.or,a=t.use(ct).defaults;r("AwaitExpression").build("argument","all").field("argument",n(r("Expression"),null)).field("all",Boolean,a.false),r("Decorator").bases("Node").build("expression").field("expression",r("Expression")),r("Property").field("decorators",n([r("Decorator")],null),a.null),r("MethodDefinition").field("decorators",n([r("Decorator")],null),a.null),r("PrivateName").bases("Expression","Pattern").build("id").field("id",r("Identifier")),r("ClassPrivateProperty").bases("ClassProperty").build("key","value").field("key",r("PrivateName")).field("value",n(r("Expression"),null),a.null),r("ImportAttribute").bases("Node").build("key","value").field("key",n(r("Identifier"),r("Literal"))).field("value",r("Expression")),["ImportDeclaration","ExportAllDeclaration","ExportNamedDeclaration"].forEach(o=>{r(o).field("assertions",[r("ImportAttribute")],a.emptyArray)}),r("RecordExpression").bases("Expression").build("properties").field("properties",[n(r("ObjectProperty"),r("ObjectMethod"),r("SpreadElement"))]),r("TupleExpression").bases("Expression").build("elements").field("elements",[n(r("Expression"),r("SpreadElement"),null)]),r("ModuleExpression").bases("Node").build("body").field("body",r("Program"))}pe(()=>module);function i0(t){t.use(Sn);let i=t.use(Te),e=i.Type.def,r=i.Type.or,n=t.use(ct).defaults;e("JSXAttribute").bases("Node").build("name","value").field("name",r(e("JSXIdentifier"),e("JSXNamespacedName"))).field("value",r(e("Literal"),e("JSXExpressionContainer"),e("JSXElement"),e("JSXFragment"),null),n.null),e("JSXIdentifier").bases("Identifier").build("name").field("name",String),e("JSXNamespacedName").bases("Node").build("namespace","name").field("namespace",e("JSXIdentifier")).field("name",e("JSXIdentifier")),e("JSXMemberExpression").bases("MemberExpression").build("object","property").field("object",r(e("JSXIdentifier"),e("JSXMemberExpression"))).field("property",e("JSXIdentifier")).field("computed",Boolean,n.false);let s=r(e("JSXIdentifier"),e("JSXNamespacedName"),e("JSXMemberExpression"));e("JSXSpreadAttribute").bases("Node").build("argument").field("argument",e("Expression"));let a=[r(e("JSXAttribute"),e("JSXSpreadAttribute"))];e("JSXExpressionContainer").bases("Expression").build("expression").field("expression",r(e("Expression"),e("JSXEmptyExpression")));let o=[r(e("JSXText"),e("JSXExpressionContainer"),e("JSXSpreadChild"),e("JSXElement"),e("JSXFragment"),e("Literal"))];e("JSXElement").bases("Expression").build("openingElement","closingElement","children").field("openingElement",e("JSXOpeningElement")).field("closingElement",r(e("JSXClosingElement"),null),n.null).field("children",o,n.emptyArray).field("name",s,function(){return this.openingElement.name},!0).field("selfClosing",Boolean,function(){return this.openingElement.selfClosing},!0).field("attributes",a,function(){return this.openingElement.attributes},!0),e("JSXOpeningElement").bases("Node").build("name","attributes","selfClosing").field("name",s).field("attributes",a,n.emptyArray).field("selfClosing",Boolean,n.false),e("JSXClosingElement").bases("Node").build("name").field("name",s),e("JSXFragment").bases("Expression").build("openingFragment","closingFragment","children").field("openingFragment",e("JSXOpeningFragment")).field("closingFragment",e("JSXClosingFragment")).field("children",o,n.emptyArray),e("JSXOpeningFragment").bases("Node").build(),e("JSXClosingFragment").bases("Node").build(),e("JSXText").bases("Literal").build("value","raw").field("value",String).field("raw",String,function(){return this.value}),e("JSXEmptyExpression").bases("Node").build(),e("JSXSpreadChild").bases("Node").build("expression").field("expression",e("Expression"))}pe(()=>module);function lf(t){var i=t.use(Te),e=i.Type.def,r=i.Type.or,n=t.use(ct).defaults,s=r(e("TypeAnnotation"),e("TSTypeAnnotation"),null),a=r(e("TypeParameterDeclaration"),e("TSTypeParameterDeclaration"),null);e("Identifier").field("typeAnnotation",s,n.null),e("ObjectPattern").field("typeAnnotation",s,n.null),e("Function").field("returnType",s,n.null).field("typeParameters",a,n.null),e("ClassProperty").build("key","value","typeAnnotation","static").field("value",r(e("Expression"),null)).field("static",Boolean,n.false).field("typeAnnotation",s,n.null),["ClassDeclaration","ClassExpression"].forEach(o=>{e(o).field("typeParameters",a,n.null).field("superTypeParameters",r(e("TypeParameterInstantiation"),e("TSTypeParameterInstantiation"),null),n.null).field("implements",r([e("ClassImplements")],[e("TSExpressionWithTypeArguments")]),n.emptyArray)})}pe(()=>module);function cf(t){t.use(Sn),t.use(lf);let i=t.use(Te),e=i.Type.def,r=i.Type.or,n=t.use(ct).defaults;e("Flow").bases("Node"),e("FlowType").bases("Flow"),e("AnyTypeAnnotation").bases("FlowType").build(),e("EmptyTypeAnnotation").bases("FlowType").build(),e("MixedTypeAnnotation").bases("FlowType").build(),e("VoidTypeAnnotation").bases("FlowType").build(),e("SymbolTypeAnnotation").bases("FlowType").build(),e("NumberTypeAnnotation").bases("FlowType").build(),e("BigIntTypeAnnotation").bases("FlowType").build(),e("NumberLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",Number).field("raw",String),e("NumericLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",Number).field("raw",String),e("BigIntLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",null).field("raw",String),e("StringTypeAnnotation").bases("FlowType").build(),e("StringLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",String).field("raw",String),e("BooleanTypeAnnotation").bases("FlowType").build(),e("BooleanLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",Boolean).field("raw",String),e("TypeAnnotation").bases("Node").build("typeAnnotation").field("typeAnnotation",e("FlowType")),e("NullableTypeAnnotation").bases("FlowType").build("typeAnnotation").field("typeAnnotation",e("FlowType")),e("NullLiteralTypeAnnotation").bases("FlowType").build(),e("NullTypeAnnotation").bases("FlowType").build(),e("ThisTypeAnnotation").bases("FlowType").build(),e("ExistsTypeAnnotation").bases("FlowType").build(),e("ExistentialTypeParam").bases("FlowType").build(),e("FunctionTypeAnnotation").bases("FlowType").build("params","returnType","rest","typeParameters").field("params",[e("FunctionTypeParam")]).field("returnType",e("FlowType")).field("rest",r(e("FunctionTypeParam"),null)).field("typeParameters",r(e("TypeParameterDeclaration"),null)),e("FunctionTypeParam").bases("Node").build("name","typeAnnotation","optional").field("name",r(e("Identifier"),null)).field("typeAnnotation",e("FlowType")).field("optional",Boolean),e("ArrayTypeAnnotation").bases("FlowType").build("elementType").field("elementType",e("FlowType")),e("ObjectTypeAnnotation").bases("FlowType").build("properties","indexers","callProperties").field("properties",[r(e("ObjectTypeProperty"),e("ObjectTypeSpreadProperty"))]).field("indexers",[e("ObjectTypeIndexer")],n.emptyArray).field("callProperties",[e("ObjectTypeCallProperty")],n.emptyArray).field("inexact",r(Boolean,void 0),n.undefined).field("exact",Boolean,n.false).field("internalSlots",[e("ObjectTypeInternalSlot")],n.emptyArray),e("Variance").bases("Node").build("kind").field("kind",r("plus","minus"));let s=r(e("Variance"),"plus","minus",null);e("ObjectTypeProperty").bases("Node").build("key","value","optional").field("key",r(e("Literal"),e("Identifier"))).field("value",e("FlowType")).field("optional",Boolean).field("variance",s,n.null),e("ObjectTypeIndexer").bases("Node").build("id","key","value").field("id",e("Identifier")).field("key",e("FlowType")).field("value",e("FlowType")).field("variance",s,n.null).field("static",Boolean,n.false),e("ObjectTypeCallProperty").bases("Node").build("value").field("value",e("FunctionTypeAnnotation")).field("static",Boolean,n.false),e("QualifiedTypeIdentifier").bases("Node").build("qualification","id").field("qualification",r(e("Identifier"),e("QualifiedTypeIdentifier"))).field("id",e("Identifier")),e("GenericTypeAnnotation").bases("FlowType").build("id","typeParameters").field("id",r(e("Identifier"),e("QualifiedTypeIdentifier"))).field("typeParameters",r(e("TypeParameterInstantiation"),null)),e("MemberTypeAnnotation").bases("FlowType").build("object","property").field("object",e("Identifier")).field("property",r(e("MemberTypeAnnotation"),e("GenericTypeAnnotation"))),e("IndexedAccessType").bases("FlowType").build("objectType","indexType").field("objectType",e("FlowType")).field("indexType",e("FlowType")),e("OptionalIndexedAccessType").bases("FlowType").build("objectType","indexType","optional").field("objectType",e("FlowType")).field("indexType",e("FlowType")).field("optional",Boolean),e("UnionTypeAnnotation").bases("FlowType").build("types").field("types",[e("FlowType")]),e("IntersectionTypeAnnotation").bases("FlowType").build("types").field("types",[e("FlowType")]),e("TypeofTypeAnnotation").bases("FlowType").build("argument").field("argument",e("FlowType")),e("ObjectTypeSpreadProperty").bases("Node").build("argument").field("argument",e("FlowType")),e("ObjectTypeInternalSlot").bases("Node").build("id","value","optional","static","method").field("id",e("Identifier")).field("value",e("FlowType")).field("optional",Boolean).field("static",Boolean).field("method",Boolean),e("TypeParameterDeclaration").bases("Node").build("params").field("params",[e("TypeParameter")]),e("TypeParameterInstantiation").bases("Node").build("params").field("params",[e("FlowType")]),e("TypeParameter").bases("FlowType").build("name","variance","bound","default").field("name",String).field("variance",s,n.null).field("bound",r(e("TypeAnnotation"),null),n.null).field("default",r(e("FlowType"),null),n.null),e("ClassProperty").field("variance",s,n.null),e("ClassImplements").bases("Node").build("id").field("id",e("Identifier")).field("superClass",r(e("Expression"),null),n.null).field("typeParameters",r(e("TypeParameterInstantiation"),null),n.null),e("InterfaceTypeAnnotation").bases("FlowType").build("body","extends").field("body",e("ObjectTypeAnnotation")).field("extends",r([e("InterfaceExtends")],null),n.null),e("InterfaceDeclaration").bases("Declaration").build("id","body","extends").field("id",e("Identifier")).field("typeParameters",r(e("TypeParameterDeclaration"),null),n.null).field("body",e("ObjectTypeAnnotation")).field("extends",[e("InterfaceExtends")]),e("DeclareInterface").bases("InterfaceDeclaration").build("id","body","extends"),e("InterfaceExtends").bases("Node").build("id").field("id",e("Identifier")).field("typeParameters",r(e("TypeParameterInstantiation"),null),n.null),e("TypeAlias").bases("Declaration").build("id","typeParameters","right").field("id",e("Identifier")).field("typeParameters",r(e("TypeParameterDeclaration"),null)).field("right",e("FlowType")),e("DeclareTypeAlias").bases("TypeAlias").build("id","typeParameters","right"),e("OpaqueType").bases("Declaration").build("id","typeParameters","impltype","supertype").field("id",e("Identifier")).field("typeParameters",r(e("TypeParameterDeclaration"),null)).field("impltype",e("FlowType")).field("supertype",r(e("FlowType"),null)),e("DeclareOpaqueType").bases("OpaqueType").build("id","typeParameters","supertype").field("impltype",r(e("FlowType"),null)),e("TypeCastExpression").bases("Expression").build("expression","typeAnnotation").field("expression",e("Expression")).field("typeAnnotation",e("TypeAnnotation")),e("TupleTypeAnnotation").bases("FlowType").build("types").field("types",[e("FlowType")]),e("DeclareVariable").bases("Statement").build("id").field("id",e("Identifier")),e("DeclareFunction").bases("Statement").build("id").field("id",e("Identifier")).field("predicate",r(e("FlowPredicate"),null),n.null),e("DeclareClass").bases("InterfaceDeclaration").build("id"),e("DeclareModule").bases("Statement").build("id","body").field("id",r(e("Identifier"),e("Literal"))).field("body",e("BlockStatement")),e("DeclareModuleExports").bases("Statement").build("typeAnnotation").field("typeAnnotation",e("TypeAnnotation")),e("DeclareExportDeclaration").bases("Declaration").build("default","declaration","specifiers","source").field("default",Boolean).field("declaration",r(e("DeclareVariable"),e("DeclareFunction"),e("DeclareClass"),e("FlowType"),e("TypeAlias"),e("DeclareOpaqueType"),e("InterfaceDeclaration"),null)).field("specifiers",[r(e("ExportSpecifier"),e("ExportBatchSpecifier"))],n.emptyArray).field("source",r(e("Literal"),null),n.null),e("DeclareExportAllDeclaration").bases("Declaration").build("source").field("source",r(e("Literal"),null),n.null),e("ImportDeclaration").field("importKind",r("value","type","typeof"),()=>"value"),e("FlowPredicate").bases("Flow"),e("InferredPredicate").bases("FlowPredicate").build(),e("DeclaredPredicate").bases("FlowPredicate").build("value").field("value",e("Expression")),e("Function").field("predicate",r(e("FlowPredicate"),null),n.null),e("CallExpression").field("typeArguments",r(null,e("TypeParameterInstantiation")),n.null),e("NewExpression").field("typeArguments",r(null,e("TypeParameterInstantiation")),n.null),e("EnumDeclaration").bases("Declaration").build("id","body").field("id",e("Identifier")).field("body",r(e("EnumBooleanBody"),e("EnumNumberBody"),e("EnumStringBody"),e("EnumSymbolBody"))),e("EnumBooleanBody").build("members","explicitType").field("members",[e("EnumBooleanMember")]).field("explicitType",Boolean),e("EnumNumberBody").build("members","explicitType").field("members",[e("EnumNumberMember")]).field("explicitType",Boolean),e("EnumStringBody").build("members","explicitType").field("members",r([e("EnumStringMember")],[e("EnumDefaultedMember")])).field("explicitType",Boolean),e("EnumSymbolBody").build("members").field("members",[e("EnumDefaultedMember")]),e("EnumBooleanMember").build("id","init").field("id",e("Identifier")).field("init",r(e("Literal"),Boolean)),e("EnumNumberMember").build("id","init").field("id",e("Identifier")).field("init",e("Literal")),e("EnumStringMember").build("id","init").field("id",e("Identifier")).field("init",e("Literal")),e("EnumDefaultedMember").build("id").field("id",e("Identifier"))}pe(()=>module);function n0(t){t.use(Sn);var i=t.use(Te),e=t.use(ct).defaults,r=i.Type.def,n=i.Type.or;r("VariableDeclaration").field("declarations",[n(r("VariableDeclarator"),r("Identifier"))]),r("Property").field("value",n(r("Expression"),r("Pattern"))),r("ArrayPattern").field("elements",[n(r("Pattern"),r("SpreadElement"),null)]),r("ObjectPattern").field("properties",[n(r("Property"),r("PropertyPattern"),r("SpreadPropertyPattern"),r("SpreadProperty"))]),r("ExportSpecifier").bases("ModuleSpecifier").build("id","name"),r("ExportBatchSpecifier").bases("Specifier").build(),r("ExportDeclaration").bases("Declaration").build("default","declaration","specifiers","source").field("default",Boolean).field("declaration",n(r("Declaration"),r("Expression"),null)).field("specifiers",[n(r("ExportSpecifier"),r("ExportBatchSpecifier"))],e.emptyArray).field("source",n(r("Literal"),null),e.null),r("Block").bases("Comment").build("value","leading","trailing"),r("Line").bases("Comment").build("value","leading","trailing")}pe(()=>module);function pf(t){t.use(Sn);let i=t.use(Te),e=t.use(ct).defaults,r=i.Type.def,n=i.Type.or,{undefined:s}=i.builtInTypes;r("Noop").bases("Statement").build(),r("DoExpression").bases("Expression").build("body").field("body",[r("Statement")]),r("BindExpression").bases("Expression").build("object","callee").field("object",n(r("Expression"),null)).field("callee",r("Expression")),r("ParenthesizedExpression").bases("Expression").build("expression").field("expression",r("Expression")),r("ExportNamespaceSpecifier").bases("Specifier").build("exported").field("exported",r("Identifier")),r("ExportDefaultSpecifier").bases("Specifier").build("exported").field("exported",r("Identifier")),r("CommentBlock").bases("Comment").build("value","leading","trailing"),r("CommentLine").bases("Comment").build("value","leading","trailing"),r("Directive").bases("Node").build("value").field("value",r("DirectiveLiteral")),r("DirectiveLiteral").bases("Node","Expression").build("value").field("value",String,e["use strict"]),r("InterpreterDirective").bases("Node").build("value").field("value",String),r("BlockStatement").bases("Statement").build("body").field("body",[r("Statement")]).field("directives",[r("Directive")],e.emptyArray),r("Program").bases("Node").build("body").field("body",[r("Statement")]).field("directives",[r("Directive")],e.emptyArray).field("interpreter",n(r("InterpreterDirective"),null),e.null);function a(c=String,p){return["extra",{rawValue:c,raw:String},function(){let h=i.getFieldValue(this,"value");return{rawValue:h,raw:p?p(h):String(h)}}]}r("StringLiteral").bases("Literal").build("value").field("value",String).field(...a(String,c=>JSON.stringify(c))),r("NumericLiteral").bases("Literal").build("value").field("value",Number).field("raw",n(String,null),e.null).field(...a(Number)),r("BigIntLiteral").bases("Literal").build("value").field("value",n(String,Number)).field(...a(String,c=>c+"n")),r("DecimalLiteral").bases("Literal").build("value").field("value",String).field(...a(String,c=>c+"m")),r("NullLiteral").bases("Literal").build().field("value",null,e.null),r("BooleanLiteral").bases("Literal").build("value").field("value",Boolean),r("RegExpLiteral").bases("Literal").build("pattern","flags").field("pattern",String).field("flags",String).field("value",RegExp,function(){return new RegExp(this.pattern,this.flags)}).field(...a(n(RegExp,s),c=>`/${c.pattern}/${c.flags||""}`)).field("regex",{pattern:String,flags:String},function(){return{pattern:this.pattern,flags:this.flags}});var o=n(r("Property"),r("ObjectMethod"),r("ObjectProperty"),r("SpreadProperty"),r("SpreadElement"));r("ObjectExpression").bases("Expression").build("properties").field("properties",[o]),r("ObjectMethod").bases("Node","Function").build("kind","key","params","body","computed").field("kind",n("method","get","set")).field("key",n(r("Literal"),r("Identifier"),r("Expression"))).field("params",[r("Pattern")]).field("body",r("BlockStatement")).field("computed",Boolean,e.false).field("generator",Boolean,e.false).field("async",Boolean,e.false).field("accessibility",n(r("Literal"),null),e.null).field("decorators",n([r("Decorator")],null),e.null),r("ObjectProperty").bases("Node").build("key","value").field("key",n(r("Literal"),r("Identifier"),r("Expression"))).field("value",n(r("Expression"),r("Pattern"))).field("accessibility",n(r("Literal"),null),e.null).field("computed",Boolean,e.false);var u=n(r("MethodDefinition"),r("VariableDeclarator"),r("ClassPropertyDefinition"),r("ClassProperty"),r("ClassPrivateProperty"),r("ClassMethod"),r("ClassPrivateMethod"),r("ClassAccessorProperty"),r("StaticBlock"));r("ClassBody").bases("Declaration").build("body").field("body",[u]),r("ClassMethod").bases("Declaration","Function").build("kind","key","params","body","computed","static").field("key",n(r("Literal"),r("Identifier"),r("Expression"))),r("ClassPrivateMethod").bases("Declaration","Function").build("key","params","body","kind","computed","static").field("key",r("PrivateName")),r("ClassAccessorProperty").bases("Declaration").build("key","value","decorators","computed","static").field("key",n(r("Literal"),r("Identifier"),r("PrivateName"),r("Expression"))).field("value",n(r("Expression"),null),e.null),["ClassMethod","ClassPrivateMethod"].forEach(c=>{r(c).field("kind",n("get","set","method","constructor"),()=>"method").field("body",r("BlockStatement")).field("access",n("public","private","protected",null),e.null)}),["ClassMethod","ClassPrivateMethod","ClassAccessorProperty"].forEach(c=>{r(c).field("computed",Boolean,e.false).field("static",Boolean,e.false).field("abstract",Boolean,e.false).field("accessibility",n("public","private","protected",null),e.null).field("decorators",n([r("Decorator")],null),e.null).field("definite",Boolean,e.false).field("optional",Boolean,e.false).field("override",Boolean,e.false).field("readonly",Boolean,e.false)});var l=n(r("Property"),r("PropertyPattern"),r("SpreadPropertyPattern"),r("SpreadProperty"),r("ObjectProperty"),r("RestProperty"),r("RestElement"));r("ObjectPattern").bases("Pattern").build("properties").field("properties",[l]).field("decorators",n([r("Decorator")],null),e.null),r("SpreadProperty").bases("Node").build("argument").field("argument",r("Expression")),r("RestProperty").bases("Node").build("argument").field("argument",r("Expression")),r("ForAwaitStatement").bases("Statement").build("left","right","body").field("left",n(r("VariableDeclaration"),r("Expression"))).field("right",r("Expression")).field("body",r("Statement")),r("Import").bases("Expression").build()}pe(()=>module);function s0(t){let e=t.use(Te).Type.def;t.use(pf),t.use(cf),e("V8IntrinsicIdentifier").bases("Expression").build("name").field("name",String),e("TopicReference").bases("Expression").build()}pe(()=>module);function a0(t){t.use(pf),t.use(lf);var i=t.use(Te),e=i.namedTypes,r=i.Type.def,n=i.Type.or,s=t.use(ct).defaults,a=i.Type.from(function(c,p){return!!(e.StringLiteral&&e.StringLiteral.check(c,p)||e.Literal&&e.Literal.check(c,p)&&typeof c.value=="string")},"StringLiteral");r("TSType").bases("Node");var o=n(r("Identifier"),r("TSQualifiedName"));r("TSTypeReference").bases("TSType","TSHasOptionalTypeParameterInstantiation").build("typeName","typeParameters").field("typeName",o),r("TSHasOptionalTypeParameterInstantiation").field("typeParameters",n(r("TSTypeParameterInstantiation"),null),s.null),r("TSHasOptionalTypeParameters").field("typeParameters",n(r("TSTypeParameterDeclaration"),null,void 0),s.null),r("TSHasOptionalTypeAnnotation").field("typeAnnotation",n(r("TSTypeAnnotation"),null),s.null),r("TSQualifiedName").bases("Node").build("left","right").field("left",o).field("right",o),r("TSAsExpression").bases("Expression","Pattern").build("expression","typeAnnotation").field("expression",r("Expression")).field("typeAnnotation",r("TSType")).field("extra",n({parenthesized:Boolean},null),s.null),r("TSTypeCastExpression").bases("Expression").build("expression","typeAnnotation").field("expression",r("Expression")).field("typeAnnotation",r("TSType")),r("TSSatisfiesExpression").bases("Expression","Pattern").build("expression","typeAnnotation").field("expression",r("Expression")).field("typeAnnotation",r("TSType")),r("TSNonNullExpression").bases("Expression","Pattern").build("expression").field("expression",r("Expression")),["TSAnyKeyword","TSBigIntKeyword","TSBooleanKeyword","TSNeverKeyword","TSNullKeyword","TSNumberKeyword","TSObjectKeyword","TSStringKeyword","TSSymbolKeyword","TSUndefinedKeyword","TSUnknownKeyword","TSVoidKeyword","TSIntrinsicKeyword","TSThisType"].forEach(c=>{r(c).bases("TSType").build()}),r("TSArrayType").bases("TSType").build("elementType").field("elementType",r("TSType")),r("TSLiteralType").bases("TSType").build("literal").field("literal",n(r("NumericLiteral"),r("StringLiteral"),r("BooleanLiteral"),r("TemplateLiteral"),r("UnaryExpression"),r("BigIntLiteral"))),r("TemplateLiteral").field("expressions",n([r("Expression")],[r("TSType")])),["TSUnionType","TSIntersectionType"].forEach(c=>{r(c).bases("TSType").build("types").field("types",[r("TSType")])}),r("TSConditionalType").bases("TSType").build("checkType","extendsType","trueType","falseType").field("checkType",r("TSType")).field("extendsType",r("TSType")).field("trueType",r("TSType")).field("falseType",r("TSType")),r("TSInferType").bases("TSType").build("typeParameter").field("typeParameter",r("TSTypeParameter")),r("TSParenthesizedType").bases("TSType").build("typeAnnotation").field("typeAnnotation",r("TSType"));var u=[n(r("Identifier"),r("RestElement"),r("ArrayPattern"),r("ObjectPattern"))];["TSFunctionType","TSConstructorType"].forEach(c=>{r(c).bases("TSType","TSHasOptionalTypeParameters","TSHasOptionalTypeAnnotation").build("parameters").field("parameters",u)}),r("TSDeclareFunction").bases("Declaration","TSHasOptionalTypeParameters").build("id","params","returnType").field("declare",Boolean,s.false).field("async",Boolean,s.false).field("generator",Boolean,s.false).field("id",n(r("Identifier"),null),s.null).field("params",[r("Pattern")]).field("returnType",n(r("TSTypeAnnotation"),r("Noop"),null),s.null),r("TSDeclareMethod").bases("Declaration","TSHasOptionalTypeParameters").build("key","params","returnType").field("async",Boolean,s.false).field("generator",Boolean,s.false).field("params",[r("Pattern")]).field("abstract",Boolean,s.false).field("accessibility",n("public","private","protected",void 0),s.undefined).field("static",Boolean,s.false).field("computed",Boolean,s.false).field("optional",Boolean,s.false).field("key",n(r("Identifier"),r("StringLiteral"),r("NumericLiteral"),r("Expression"))).field("kind",n("get","set","method","constructor"),function(){return"method"}).field("access",n("public","private","protected",void 0),s.undefined).field("decorators",n([r("Decorator")],null),s.null).field("returnType",n(r("TSTypeAnnotation"),r("Noop"),null),s.null),r("TSMappedType").bases("TSType").build("typeParameter","typeAnnotation").field("readonly",n(Boolean,"+","-"),s.false).field("typeParameter",r("TSTypeParameter")).field("optional",n(Boolean,"+","-"),s.false).field("typeAnnotation",n(r("TSType"),null),s.null),r("TSTupleType").bases("TSType").build("elementTypes").field("elementTypes",[n(r("TSType"),r("TSNamedTupleMember"))]),r("TSNamedTupleMember").bases("TSType").build("label","elementType","optional").field("label",r("Identifier")).field("optional",Boolean,s.false).field("elementType",r("TSType")),r("TSRestType").bases("TSType").build("typeAnnotation").field("typeAnnotation",r("TSType")),r("TSOptionalType").bases("TSType").build("typeAnnotation").field("typeAnnotation",r("TSType")),r("TSIndexedAccessType").bases("TSType").build("objectType","indexType").field("objectType",r("TSType")).field("indexType",r("TSType")),r("TSTypeOperator").bases("TSType").build("operator").field("operator",String).field("typeAnnotation",r("TSType")),r("TSTypeAnnotation").bases("Node").build("typeAnnotation").field("typeAnnotation",n(r("TSType"),r("TSTypeAnnotation"))),r("TSIndexSignature").bases("Declaration","TSHasOptionalTypeAnnotation").build("parameters","typeAnnotation").field("parameters",[r("Identifier")]).field("readonly",Boolean,s.false),r("TSPropertySignature").bases("Declaration","TSHasOptionalTypeAnnotation").build("key","typeAnnotation","optional").field("key",r("Expression")).field("computed",Boolean,s.false).field("readonly",Boolean,s.false).field("optional",Boolean,s.false).field("initializer",n(r("Expression"),null),s.null),r("TSMethodSignature").bases("Declaration","TSHasOptionalTypeParameters","TSHasOptionalTypeAnnotation").build("key","parameters","typeAnnotation").field("key",r("Expression")).field("computed",Boolean,s.false).field("optional",Boolean,s.false).field("parameters",u),r("TSTypePredicate").bases("TSTypeAnnotation","TSType").build("parameterName","typeAnnotation","asserts").field("parameterName",n(r("Identifier"),r("TSThisType"))).field("typeAnnotation",n(r("TSTypeAnnotation"),null),s.null).field("asserts",Boolean,s.false),["TSCallSignatureDeclaration","TSConstructSignatureDeclaration"].forEach(c=>{r(c).bases("Declaration","TSHasOptionalTypeParameters","TSHasOptionalTypeAnnotation").build("parameters","typeAnnotation").field("parameters",u)}),r("TSEnumMember").bases("Node").build("id","initializer").field("id",n(r("Identifier"),a)).field("initializer",n(r("Expression"),null),s.null),r("TSTypeQuery").bases("TSType").build("exprName").field("exprName",n(o,r("TSImportType")));var l=n(r("TSCallSignatureDeclaration"),r("TSConstructSignatureDeclaration"),r("TSIndexSignature"),r("TSMethodSignature"),r("TSPropertySignature"));r("TSTypeLiteral").bases("TSType").build("members").field("members",[l]),r("TSTypeParameter").bases("Identifier").build("name","constraint","default").field("name",n(r("Identifier"),String)).field("constraint",n(r("TSType"),void 0),s.undefined).field("default",n(r("TSType"),void 0),s.undefined),r("TSTypeAssertion").bases("Expression","Pattern").build("typeAnnotation","expression").field("typeAnnotation",r("TSType")).field("expression",r("Expression")).field("extra",n({parenthesized:Boolean},null),s.null),r("TSTypeParameterDeclaration").bases("Declaration").build("params").field("params",[r("TSTypeParameter")]),r("TSInstantiationExpression").bases("Expression","TSHasOptionalTypeParameterInstantiation").build("expression","typeParameters").field("expression",r("Expression")),r("TSTypeParameterInstantiation").bases("Node").build("params").field("params",[r("TSType")]),r("TSEnumDeclaration").bases("Declaration").build("id","members").field("id",r("Identifier")).field("const",Boolean,s.false).field("declare",Boolean,s.false).field("members",[r("TSEnumMember")]).field("initializer",n(r("Expression"),null),s.null),r("TSTypeAliasDeclaration").bases("Declaration","TSHasOptionalTypeParameters").build("id","typeAnnotation").field("id",r("Identifier")).field("declare",Boolean,s.false).field("typeAnnotation",r("TSType")),r("TSModuleBlock").bases("Node").build("body").field("body",[r("Statement")]),r("TSModuleDeclaration").bases("Declaration").build("id","body").field("id",n(a,o)).field("declare",Boolean,s.false).field("global",Boolean,s.false).field("body",n(r("TSModuleBlock"),r("TSModuleDeclaration"),null),s.null),r("TSImportType").bases("TSType","TSHasOptionalTypeParameterInstantiation").build("argument","qualifier","typeParameters").field("argument",a).field("qualifier",n(o,void 0),s.undefined),r("TSImportEqualsDeclaration").bases("Declaration").build("id","moduleReference").field("id",r("Identifier")).field("isExport",Boolean,s.false).field("moduleReference",n(o,r("TSExternalModuleReference"))),r("TSExternalModuleReference").bases("Declaration").build("expression").field("expression",a),r("TSExportAssignment").bases("Statement").build("expression").field("expression",r("Expression")),r("TSNamespaceExportDeclaration").bases("Declaration").build("id").field("id",r("Identifier")),r("TSInterfaceBody").bases("Node").build("body").field("body",[l]),r("TSExpressionWithTypeArguments").bases("TSType","TSHasOptionalTypeParameterInstantiation").build("expression","typeParameters").field("expression",o),r("TSInterfaceDeclaration").bases("Declaration","TSHasOptionalTypeParameters").build("id","body").field("id",o).field("declare",Boolean,s.false).field("extends",n([r("TSExpressionWithTypeArguments")],null),s.null).field("body",r("TSInterfaceBody")),r("TSParameterProperty").bases("Pattern").build("parameter").field("accessibility",n("public","private","protected",void 0),s.undefined).field("readonly",Boolean,s.false).field("parameter",n(r("Identifier"),r("AssignmentPattern"))),r("ClassProperty").field("access",n("public","private","protected",void 0),s.undefined),r("ClassAccessorProperty").bases("Declaration","TSHasOptionalTypeAnnotation"),r("ClassBody").field("body",[n(r("MethodDefinition"),r("VariableDeclarator"),r("ClassPropertyDefinition"),r("ClassProperty"),r("ClassPrivateProperty"),r("ClassAccessorProperty"),r("ClassMethod"),r("ClassPrivateMethod"),r("StaticBlock"),r("TSDeclareMethod"),l)])}pe(()=>module);var Ft;Ft||(Ft={});var{astNodesAreEquivalent:cw,khulnasofts:Pi,builtInTypes:It,defineMethod:pw,eachField:fw,finalize:dw,getKhulnasoftName:hw,getFieldNames:o0,getFieldValue:pr,getSupertypeNames:mw,namedTypes:u0,NodePath:l0,Path:gw,PathVisitor:Dw,someField:c0,Type:yw,use:xw,visit:Cw}=qx([Sn,i0,cf,n0,s0,a0]);Object.assign(Ft,u0);var cs=Ft,Vp=As.default.SourceMapConsumer,p0=As.default.SourceMapGenerator,ff=Object.prototype.hasOwnProperty;function f0(){return`
    `}function Up(t,i,e){return t&&ff.call(t,i)?t[i]:e}function d0(...t){let i={},e=t.length;for(let r=0;r<e;++r){let n=Object.keys(t[r]),s=n.length;for(let a=0;a<s;++a)i[n[a]]=!0}return i}function ae(t,i){return t.line-i.line||t.column-i.column}function Pr(t){return{line:t.line,column:t.column}}function h0(t,i){if(t){if(!i)return t}else return i||null;let e=new Vp(t),r=new Vp(i),n=new p0({file:i.file,sourceRoot:i.sourceRoot}),s={};return r.eachMapping(function(a){let o=e.originalPositionFor({line:a.originalLine,column:a.originalColumn}),u=o.source;if(u===null)return;n.addMapping({source:u,original:Pr(o),generated:{line:a.generatedLine,column:a.generatedColumn},name:a.name});let l=e.sourceContentFor(u);l&&!ff.call(s,u)&&(s[u]=l,n.setSourceContent(u,l))}),n.toJSON()}function df(t,i){if(!t.loc)return null;let e={start:t.loc.start,end:t.loc.end};function r(n){Lo(e,n.loc)}return t.declaration&&t.declaration.decorators&&Ts(t)&&t.declaration.decorators.forEach(r),ae(e.start,e.end)<0&&(e.start=Pr(e.start),i.skipSpaces(e.start,!1,!0),ae(e.start,e.end)<0&&(e.end=Pr(e.end),i.skipSpaces(e.end,!0,!0))),t.comments&&t.comments.forEach(r),e}function Lo(t,i){t&&i&&(ae(i.start,t.start)<0&&(t.start=i.start),ae(t.end,i.end)<0&&(t.end=i.end))}function zo(t,i){let e=t.loc;if(e&&(e.start.line<1&&(e.start.line=1),e.end.line<1&&(e.end.line=1)),t.type==="File"&&(e.start=i.firstPos(),e.end=i.lastPos()),m0(t,i),g0(t,i),e&&t.decorators)t.decorators.forEach(function(r){Lo(e,r.loc)});else if(t.declaration&&Ts(t)){t.declaration.loc=null;let r=t.declaration.decorators;r&&r.forEach(function(n){Lo(e,n.loc)})}else if(cs.MethodDefinition&&cs.MethodDefinition.check(t)||cs.Property.check(t)&&(t.method||t.shorthand))t.value.loc=null,cs.FunctionExpression.check(t.value)&&(t.value.id=null);else if(t.type==="ObjectTypeProperty"){let r=t.loc,n=r&&r.end;n&&(n=Pr(n),i.prevPos(n)&&i.charAt(n)===","&&(n=i.skipSpaces(n,!0,!0))&&(r.end=n))}}function m0(t,i){if(t.type!=="ForStatement")return;function e(r){let n=r&&r.loc,s=n&&n.start,a=n&&Pr(n.end);for(;s&&a&&ae(s,a)<0&&(i.prevPos(a),i.charAt(a)===";");)n.end.line=a.line,n.end.column=a.column}e(t.init),e(t.test),e(t.update)}function g0(t,i){if(t.type==="TemplateLiteral"&&t.quasis.length!==0){if(t.loc){let e=Pr(t.loc.start),r=t.quasis[0];ae(r.loc.start,e)<0&&(r.loc.start=e);let n=Pr(t.loc.end),s=t.quasis[t.quasis.length-1];ae(n,s.loc.end)<0&&(s.loc.end=n)}t.expressions.forEach(function(e,r){let n=i.skipSpaces(e.loc.start,!0,!1);if(i.prevPos(n)&&i.charAt(n)==="{"&&i.prevPos(n)&&i.charAt(n)==="$"){let a=t.quasis[r];ae(n,a.loc.end)<0&&(a.loc.end=n)}let s=i.skipSpaces(e.loc.end,!1,!1);if(i.charAt(s)==="}"){let a=t.quasis[r+1];ae(a.loc.start,s)<0&&(a.loc.start=s)}})}}function Ts(t){if(t)switch(t.type){case"ExportDeclaration":case"ExportDefaultDeclaration":case"ExportDefaultSpecifier":case"DeclareExportDeclaration":case"ExportNamedDeclaration":case"ExportAllDeclaration":return!0}return!1}function hf(t){let i=t.getParentNode();return t.getName()==="declaration"&&Ts(i)?i:null}function yn(t,i){let e=t.trailingComma;return typeof e=="object"?!!e[i]:!!e}var Oo={tabWidth:4,useTabs:!1,reuseWhitespace:!0,lineTerminator:f0(),wrapColumn:74,sourceFileName:null,sourceMapName:null,sourceRoot:null,inputSourceMap:null,range:!1,tolerant:!0,quote:null,trailingComma:!1,arrayBracketSpacing:!1,objectCurlySpacing:!0,arrowParensAlways:!1,flowObjectCommas:!0,tokens:!0},D0=Oo.hasOwnProperty;function ws(t){let i=t||Oo;function e(r){return D0.call(i,r)?i[r]:Oo[r]}return{tabWidth:+e("tabWidth"),useTabs:!!e("useTabs"),reuseWhitespace:!!e("reuseWhitespace"),lineTerminator:e("lineTerminator"),wrapColumn:Math.max(e("wrapColumn"),0),sourceFileName:e("sourceFileName"),sourceMapName:e("sourceMapName"),sourceRoot:e("sourceRoot"),inputSourceMap:e("inputSourceMap"),parser:e("esprima")||e("parser"),range:e("range"),tolerant:e("tolerant"),quote:e("quote"),trailingComma:e("trailingComma"),arrayBracketSpacing:e("arrayBracketSpacing"),objectCurlySpacing:e("objectCurlySpacing"),arrowParensAlways:e("arrowParensAlways"),flowObjectCommas:e("flowObjectCommas"),tokens:!!e("tokens")}}var Ro=class t{constructor(i,e,r=e){this.sourceLines=i,this.sourceLoc=e,this.targetLoc=r}slice(i,e,r=i.lastPos()){let n=this.sourceLines,s=this.sourceLoc,a=this.targetLoc;function o(u){let l=s[u],c=a[u],p=e;return u==="end"&&(p=r),y0(n,l,i,c,p)}if(ae(e,a.start)<=0)if(ae(a.end,r)<=0)a={start:Sr(a.start,e.line,e.column),end:Sr(a.end,e.line,e.column)};else{if(ae(r,a.start)<=0)return null;s={start:s.start,end:o("end")},a={start:Sr(a.start,e.line,e.column),end:Sr(r,e.line,e.column)}}else{if(ae(a.end,e)<=0)return null;ae(a.end,r)<=0?(s={start:o("start"),end:s.end},a={start:{line:1,column:0},end:Sr(a.end,e.line,e.column)}):(s={start:o("start"),end:o("end")},a={start:{line:1,column:0},end:Sr(r,e.line,e.column)})}return new t(this.sourceLines,s,a)}add(i,e){return new t(this.sourceLines,this.sourceLoc,{start:Kp(this.targetLoc.start,i,e),end:Kp(this.targetLoc.end,i,e)})}subtract(i,e){return new t(this.sourceLines,this.sourceLoc,{start:Sr(this.targetLoc.start,i,e),end:Sr(this.targetLoc.end,i,e)})}indent(i,e=!1,r=!1){if(i===0)return this;let n=this.targetLoc,s=n.start.line,a=n.end.line;if(e&&s===1&&a===1)return this;if(n={start:n.start,end:n.end},!e||s>1){let o=n.start.column+i;n.start={line:s,column:r?Math.max(0,o):o}}if(!e||a>1){let o=n.end.column+i;n.end={line:a,column:r?Math.max(0,o):o}}return new t(this.sourceLines,this.sourceLoc,n)}};function Kp(t,i,e){return{line:t.line+i-1,column:t.line===1?t.column+e:t.column}}function Sr(t,i,e){return{line:t.line-i+1,column:t.line===i?t.column-e:t.column}}function y0(t,i,e,r,n){let s=ae(r,n);if(s===0)return i;let a,o;if(s<0){a=t.skipSpaces(i)||t.lastPos(),o=e.skipSpaces(r)||e.lastPos();let u=n.line-o.line;for(a.line+=u,o.line+=u,u>0&&(a.column=0,o.column=0);ae(o,n)<0&&e.nextPos(o,!0););}else{a=t.skipSpaces(i,!0)||t.firstPos(),o=e.skipSpaces(r,!0)||e.firstPos();let u=n.line-o.line;for(a.line+=u,o.line+=u,u<0&&(a.column=t.getLineLength(a.line),o.column=e.getLineLength(o.line));ae(n,o)<0&&e.prevPos(o,!0););}return a}var x0=Object.defineProperty,C0=(t,i,e)=>i in t?x0(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,pn=(t,i,e)=>(C0(t,typeof i!="symbol"?i+"":i,e),e),Ei=class t{constructor(i,e=null){this.infos=i,pn(this,"length"),pn(this,"name"),pn(this,"mappings",[]),pn(this,"cachedSourceMap",null),pn(this,"cachedTabWidth"),this.length=i.length,this.name=e||null,this.name&&this.mappings.push(new Ro(this,{start:this.firstPos(),end:this.lastPos()}))}toString(i){return this.sliceString(this.firstPos(),this.lastPos(),i)}getSourceMap(i,e){if(!i)return null;let r=this;function n(o){return o=o||{},o.file=i,e&&(o.sourceRoot=e),o}if(r.cachedSourceMap)return n(r.cachedSourceMap.toJSON());let s=new As.default.SourceMapGenerator(n()),a={};return r.mappings.forEach(function(o){let u=o.sourceLines.skipSpaces(o.sourceLoc.start)||o.sourceLines.lastPos(),l=r.skipSpaces(o.targetLoc.start)||r.lastPos();for(;ae(u,o.sourceLoc.end)<0&&ae(l,o.targetLoc.end)<0;){o.sourceLines.charAt(u),r.charAt(l);let c=o.sourceLines.name;if(s.addMapping({source:c,original:{line:u.line,column:u.column},generated:{line:l.line,column:l.column}}),!Mo.call(a,c)){let p=o.sourceLines.toString();s.setSourceContent(c,p),a[c]=p}r.nextPos(l,!0),o.sourceLines.nextPos(u,!0)}}),r.cachedSourceMap=s,s.toJSON()}bootstrapCharAt(i){let e=i.line,r=i.column,n=this.toString().split(_o),s=n[e-1];return typeof s>"u"?"":r===s.length&&e<n.length?`
    `:r>=s.length?"":s.charAt(r)}charAt(i){let e=i.line,r=i.column,n=this,s=n.infos,a=s[e-1],o=r;if(typeof a>"u"||o<0)return"";let u=this.getIndentAt(e);return o<u?" ":(o+=a.sliceStart-u,o===a.sliceEnd&&e<this.length?`
    `:o>=a.sliceEnd?"":a.line.charAt(o))}stripMargin(i,e){if(i===0)return this;if(e&&this.length===1)return this;let r=new t(this.infos.map(function(n,s){return n.line&&(s>0||!e)&&(n={...n,indent:Math.max(0,n.indent-i)}),n}));if(this.mappings.length>0){let n=r.mappings;this.mappings.forEach(function(s){n.push(s.indent(i,e,!0))})}return r}indent(i){if(i===0)return this;let e=new t(this.infos.map(function(r){return r.line&&!r.locked&&(r={...r,indent:r.indent+i}),r}));if(this.mappings.length>0){let r=e.mappings;this.mappings.forEach(function(n){r.push(n.indent(i))})}return e}indentTail(i){if(i===0)return this;if(this.length<2)return this;let e=new t(this.infos.map(function(r,n){return n>0&&r.line&&!r.locked&&(r={...r,indent:r.indent+i}),r}));if(this.mappings.length>0){let r=e.mappings;this.mappings.forEach(function(n){r.push(n.indent(i,!0))})}return e}lockIndentTail(){return this.length<2?this:new t(this.infos.map((i,e)=>({...i,locked:e>0})))}getIndentAt(i){return Math.max(this.infos[i-1].indent,0)}guessTabWidth(){if(typeof this.cachedTabWidth=="number")return this.cachedTabWidth;let i=[],e=0;for(let s=1,a=this.length;s<=a;++s){let o=this.infos[s-1],u=o.line.slice(o.sliceStart,o.sliceEnd);if(yi(u))continue;let l=Math.abs(o.indent-e);i[l]=~~i[l]+1,e=o.indent}let r=-1,n=2;for(let s=1;s<i.length;s+=1)Mo.call(i,s)&&i[s]>r&&(r=i[s],n=s);return this.cachedTabWidth=n}startsWithComment(){if(this.infos.length===0)return!1;let i=this.infos[0],e=i.sliceStart,r=i.sliceEnd,n=i.line.slice(e,r).trim();return n.length===0||n.slice(0,2)==="//"||n.slice(0,2)==="/*"}isOnlyWhitespace(){return yi(this.toString())}isPrecededOnlyByWhitespace(i){let e=this.infos[i.line-1],r=Math.max(e.indent,0),n=i.column-r;if(n<=0)return!0;let s=e.sliceStart,a=Math.min(s+n,e.sliceEnd),o=e.line.slice(s,a);return yi(o)}getLineLength(i){let e=this.infos[i-1];return this.getIndentAt(i)+e.sliceEnd-e.sliceStart}nextPos(i,e=!1){let r=Math.max(i.line,0);return Math.max(i.column,0)<this.getLineLength(r)?(i.column+=1,e?!!this.skipSpaces(i,!1,!0):!0):r<this.length?(i.line+=1,i.column=0,e?!!this.skipSpaces(i,!1,!0):!0):!1}prevPos(i,e=!1){let r=i.line,n=i.column;if(n<1){if(r-=1,r<1)return!1;n=this.getLineLength(r)}else n=Math.min(n-1,this.getLineLength(r));return i.line=r,i.column=n,e?!!this.skipSpaces(i,!0,!0):!0}firstPos(){return{line:1,column:0}}lastPos(){return{line:this.length,column:this.getLineLength(this.length)}}skipSpaces(i,e=!1,r=!1){if(i?i=r?i:{line:i.line,column:i.column}:e?i=this.lastPos():i=this.firstPos(),e){for(;this.prevPos(i);)if(!yi(this.charAt(i))&&this.nextPos(i))return i;return null}else{for(;yi(this.charAt(i));)if(!this.nextPos(i))return null;return i}}trimLeft(){let i=this.skipSpaces(this.firstPos(),!1,!0);return i?this.slice(i):Vr}trimRight(){let i=this.skipSpaces(this.lastPos(),!0,!0);return i?this.slice(this.firstPos(),i):Vr}trim(){let i=this.skipSpaces(this.firstPos(),!1,!0);if(i===null)return Vr;let e=this.skipSpaces(this.lastPos(),!0,!0);return e===null?Vr:this.slice(i,e)}eachPos(i,e=this.firstPos(),r=!1){let n=this.firstPos();if(e&&(n.line=e.line,n.column=e.column),!(r&&!this.skipSpaces(n,!1,!0)))do i.call(this,n);while(this.nextPos(n,r))}bootstrapSlice(i,e){let r=this.toString().split(_o).slice(i.line-1,e.line);return r.length>0&&(r.push(r.pop().slice(0,e.column)),r[0]=r[0].slice(i.column)),A(r.join(`
    `))}slice(i,e){if(!e){if(!i)return this;e=this.lastPos()}if(!i)throw new Error("cannot slice with end but not start");let r=this.infos.slice(i.line-1,e.line);i.line===e.line?r[0]=xi(r[0],i.column,e.column):(r[0]=xi(r[0],i.column),r.push(xi(r.pop(),0,e.column)));let n=new t(r);if(this.mappings.length>0){let s=n.mappings;this.mappings.forEach(function(a){let o=a.slice(this,i,e);o&&s.push(o)},this)}return n}bootstrapSliceString(i,e,r){return this.slice(i,e).toString(r)}sliceString(i=this.firstPos(),e=this.lastPos(),r){let{tabWidth:n,useTabs:s,reuseWhitespace:a,lineTerminator:o}=ws(r),u=[];for(let l=i.line;l<=e.line;++l){let c=this.infos[l-1];l===i.line?l===e.line?c=xi(c,i.column,e.column):c=xi(c,i.column):l===e.line&&(c=xi(c,0,e.column));let p=Math.max(c.indent,0),f=c.line.slice(0,c.sliceStart);if(a&&yi(f)&&mf(f,n)===p){u.push(c.line.slice(0,c.sliceEnd));continue}let h=0,d=p;s&&(h=Math.floor(p/n),d-=h*n);let m="";h>0&&(m+=new Array(h+1).join("	")),d>0&&(m+=new Array(d+1).join(" ")),m+=c.line.slice(c.sliceStart,c.sliceEnd),u.push(m)}return u.join(o)}isEmpty(){return this.length<2&&this.getLineLength(1)<1}join(i){let e=this,r=[],n=[],s;function a(l){if(l!==null){if(s){let c=l.infos[0],p=new Array(c.indent+1).join(" "),f=r.length,h=Math.max(s.indent,0)+s.sliceEnd-s.sliceStart;s.line=s.line.slice(0,s.sliceEnd)+p+c.line.slice(c.sliceStart,c.sliceEnd),s.locked=s.locked||c.locked,s.sliceEnd=s.line.length,l.mappings.length>0&&l.mappings.forEach(function(d){n.push(d.add(f,h))})}else l.mappings.length>0&&n.push.apply(n,l.mappings);l.infos.forEach(function(c,p){(!s||p>0)&&(s={...c},r.push(s))})}}function o(l,c){c>0&&a(e),a(l)}if(i.map(function(l){let c=A(l);return c.isEmpty()?null:c}).forEach((l,c)=>{e.isEmpty()?a(l):o(l,c)}),r.length<1)return Vr;let u=new t(r);return u.mappings=n,u}concat(...i){let e=[this];return e.push.apply(e,i),Vr.join(e)}},ms={},Mo=ms.hasOwnProperty,b0=10;function mf(t,i){let e=0,r=t.length;for(let n=0;n<r;++n)switch(t.charCodeAt(n)){case 9:{let s=Math.ceil(e/i)*i;s===e?e+=i:e=s;break}case 11:case 12:case 13:case 65279:break;case 32:default:e+=1;break}return e}var E0=/^\s*/,_o=/\u000D\u000A|\u000D(?!\u000A)|\u000A|\u2028|\u2029/;function A(t,i){if(t instanceof Ei)return t;t+="";let e=i&&i.tabWidth,r=t.indexOf("	")<0,n=!i&&r&&t.length<=b0;if(n&&Mo.call(ms,t))return ms[t];let s=new Ei(t.split(_o).map(function(a){let o=E0.exec(a)[0];return{line:a,indent:mf(o,e),locked:!1,sliceStart:o.length,sliceEnd:a.length}}),ws(i).sourceFileName);return n&&(ms[t]=s),s}function yi(t){return!/\S/.test(t)}function xi(t,i,e){let r=t.sliceStart,n=t.sliceEnd,s=Math.max(t.indent,0),a=s+n-r;return typeof e>"u"&&(e=a),i=Math.max(i,0),e=Math.min(e,a),e=Math.max(e,i),e<s?(s=e,n=r):n-=a-e,a=e,a-=i,i<s?s-=i:(i-=s,s=0,r+=i),t.indent===s&&t.sliceStart===r&&t.sliceEnd===n?t:{line:t.line,indent:s,locked:!1,sliceStart:r,sliceEnd:n}}function E(t){return Vr.join(t)}var Vr=A(""),Si=Ft,gf=It.array,S0=It.object,zp=new WeakMap;function Df(t,i,e){if(!t)return e;if(zo(t,i),e){if(Si.Node.check(t)&&Si.SourceLocation.check(t.loc)){let n=e.length-1;for(;n>=0;--n){let s=e[n];if(s&&s.loc&&ae(s.loc.end,t.loc.start)<=0)break}return e.splice(n+1,0,t),e}}else{let n=zp.get(t);if(n)return n}let r;if(gf.check(t))r=Object.keys(t);else if(S0.check(t))r=o0(t);else return e;e||zp.set(t,e=[]);for(let n=0,s=r.length;n<s;++n)Df(t[r[n]],i,e);return e}function yf(t,i,e){let r=Df(t,e),n=0,s=r&&r.length,a,o;for(;typeof s=="number"&&n<s;){let u=n+s>>1,l=r[u];if(ae(l.loc.start,i.loc.start)<=0&&ae(i.loc.end,l.loc.end)<=0){yf(i.enclosingNode=l,i,e);return}if(ae(l.loc.end,i.loc.start)<=0){a=l,n=u+1;continue}if(ae(i.loc.end,l.loc.start)<=0){o=l,s=u;continue}throw new Error("Comment location overlaps with node location")}a&&(i.precedingNode=a),o&&(i.followingNode=o)}function P0(t,i,e){if(!gf.check(t))return;let r=[];t.forEach(function(n){n.loc.lines=e,yf(i,n,e);let s=n.precedingNode,a=n.enclosingNode,o=n.followingNode;if(s&&o){let u=r.length;u>0&&r[u-1].followingNode!==n.followingNode&&fn(r,e),r.push(n)}else if(s)fn(r,e),Cf(s,n);else if(o)fn(r,e),xf(o,n);else if(a)fn(r,e),A0(a,n);else throw new Error("AST contains no nodes at all?")}),fn(r,e),t.forEach(function(n){delete n.precedingNode,delete n.enclosingNode,delete n.followingNode})}function fn(t,i){let e=t.length;if(e===0)return;let r=t[0].precedingNode,n=t[0].followingNode,s=n.loc.start,a=e,o;for(;a>0;--a){o=t[a-1];let u=i.sliceString(o.loc.end,s);if(/\S/.test(u))break;s=o.loc.start}for(;a<=e&&(o=t[a])&&(o.type==="Line"||o.type==="CommentLine")&&o.loc.start.column>n.loc.start.column;)++a;if(a){let{enclosingNode:u}=t[a-1];u?.type==="CallExpression"&&--a}t.forEach(function(u,l){l<a?Cf(r,u):xf(n,u)}),t.length=0}function qo(t,i){(t.comments||(t.comments=[])).push(i)}function xf(t,i){i.leading=!0,i.trailing=!1,qo(t,i)}function A0(t,i){i.leading=!1,i.trailing=!1,qo(t,i)}function Cf(t,i){i.leading=!1,i.trailing=!0,qo(t,i)}function T0(t,i){let e=t.getValue();Si.Comment.assert(e);let r=e.loc,n=r&&r.lines,s=[i(t)];if(e.trailing)s.push(`
    `);else if(n instanceof Ei){let a=n.slice(r.end,n.skipSpaces(r.end)||n.lastPos());a.length===1?s.push(a):s.push(new Array(a.length).join(`
    `))}else s.push(`
    `);return E(s)}function w0(t,i){let e=t.getValue(t);Si.Comment.assert(e);let r=e.loc,n=r&&r.lines,s=[];if(n instanceof Ei){let a=n.skipSpaces(r.start,!0)||n.firstPos(),o=n.slice(a,r.start);o.length===1?s.push(o):s.push(new Array(o.length).join(`
    `))}return s.push(i(t)),E(s)}function qp(t,i){let e=t.getValue(),r=i(t),n=Si.Node.check(e)&&pr(e,"comments");if(!n||n.length===0)return r;let s=[],a=[r];return t.each(function(o){let u=o.getValue(),l=pr(u,"leading"),c=pr(u,"trailing");l||c&&!(Si.Statement.check(e)||u.type==="Block"||u.type==="CommentBlock")?s.push(T0(o,i)):c&&a.push(w0(o,i))},"comments"),s.push.apply(s,a),E(s)}var v0=Pi,F0=It.object,I0=It.array;function bf(t,i){i=ws(i);let e=A(t,i),r=e.toString({tabWidth:i.tabWidth,reuseWhitespace:!1,useTabs:!1}),n=[],s=i.parser.parse(r,{jsx:!0,loc:!0,locations:!0,range:i.range,comment:!0,onComment:n,tolerant:Up(i,"tolerant",!0),ecmaVersion:6,sourceType:Up(i,"sourceType","module")}),a=Array.isArray(s.tokens)?s.tokens:!1;delete s.tokens,a.forEach(function(c){typeof c.value!="string"&&(c.value=e.sliceString(c.loc.start,c.loc.end))}),Array.isArray(s.comments)&&(n=s.comments,delete s.comments),s.loc?zo(s,e):s.loc={start:e.firstPos(),end:e.lastPos()},s.loc.lines=e,s.loc.indent=0;let o,u;s.type==="Program"?(u=s,o=v0.file(s,i.sourceFileName||null),o.loc={start:e.firstPos(),end:e.lastPos(),lines:e,indent:0}):s.type==="File"&&(o=s,u=o.program),i.tokens&&(o.tokens=a);let l=df({type:u.type,loc:u.loc,body:[],comments:n},e);return u.loc.start=l.start,u.loc.end=l.end,P0(n,u.body.length?o.program:o,e),new Ef(e,a).copy(o)}var Ef=function(i,e){this.lines=i,this.tokens=e,this.startTokenIndex=0,this.endTokenIndex=e.length,this.indent=0,this.seen=new Map},Sf=Ef.prototype;Sf.copy=function(t){if(this.seen.has(t))return this.seen.get(t);if(I0.check(t)){let l=new Array(t.length);return this.seen.set(t,l),t.forEach(function(c,p){l[p]=this.copy(c)},this),l}if(!F0.check(t))return t;zo(t,this.lines);let i=Object.create(Object.getPrototypeOf(t),{original:{value:t,configurable:!1,enumerable:!1,writable:!0}});this.seen.set(t,i);let e=t.loc,r=this.indent,n=r,s=this.startTokenIndex,a=this.endTokenIndex;e&&((t.type==="Block"||t.type==="Line"||t.type==="CommentBlock"||t.type==="CommentLine"||this.lines.isPrecededOnlyByWhitespace(e.start))&&(n=this.indent=e.start.column),e.lines=this.lines,e.tokens=this.tokens,e.indent=n,this.findTokenRange(e));let o=Object.keys(t),u=o.length;for(let l=0;l<u;++l){let c=o[l];c==="loc"||c==="tokens"&&t.type==="File"?i[c]=t[c]:i[c]=this.copy(t[c])}return this.indent=r,this.startTokenIndex=s,this.endTokenIndex=a,i};Sf.findTokenRange=function(t){for(;this.startTokenIndex>0;){let i=t.tokens[this.startTokenIndex];if(ae(t.start,i.loc.start)<0)--this.startTokenIndex;else break}for(;this.endTokenIndex<t.tokens.length;){let i=t.tokens[this.endTokenIndex];if(ae(i.loc.end,t.end)<0)++this.endTokenIndex;else break}for(;this.startTokenIndex<this.endTokenIndex;){let i=t.tokens[this.startTokenIndex];if(ae(i.loc.start,t.start)<0)++this.startTokenIndex;else break}for(t.start.token=this.startTokenIndex;this.endTokenIndex>this.startTokenIndex;){let i=t.tokens[this.endTokenIndex-1];if(ae(t.end,i.loc.end)<0)--this.endTokenIndex;else break}t.end.token=this.endTokenIndex};var be=Ft,N0=It.array,k0=It.number,jo={};[["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]].forEach(function(t,i){t.forEach(function(e){jo[e]=i})});var vt=function(i){this.stack=[i]},Je=vt.prototype;vt.from=function(t){if(t instanceof vt)return t.copy();if(t instanceof l0){let i=Object.create(vt.prototype),e=[t.value];for(let r;r=t.parentPath;t=r)e.push(t.name,r.value);return i.stack=e.reverse(),i}return new vt(t)};Je.copy=function(){let i=Object.create(vt.prototype);return i.stack=this.stack.slice(0),i};Je.getName=function(){let i=this.stack,e=i.length;return e>1?i[e-2]:null};Je.getValue=function(){let i=this.stack;return i[i.length-1]};Je.valueIsDuplicate=function(){let t=this.stack,i=t.length-1;return t.lastIndexOf(t[i],i-1)>=0};function Pf(t,i){let e=t.stack;for(let r=e.length-1;r>=0;r-=2){let n=e[r];if(be.Node.check(n)&&--i<0)return n}return null}Je.getNode=function(i=0){return Pf(this,~~i)};Je.getParentNode=function(i=0){return Pf(this,~~i+1)};Je.getRootValue=function(){let i=this.stack;return i.length%2===0?i[1]:i[0]};Je.call=function(i){let e=this.stack,r=e.length,n=e[r-1],s=arguments.length;for(let o=1;o<s;++o){let u=arguments[o];n=n[u],e.push(u,n)}let a=i(this);return e.length=r,a};Je.each=function(i){let e=this.stack,r=e.length,n=e[r-1],s=arguments.length;for(let a=1;a<s;++a){let o=arguments[a];n=n[o],e.push(o,n)}for(let a=0;a<n.length;++a)a in n&&(e.push(a,n[a]),i(this),e.length-=2);e.length=r};Je.map=function(i){let e=this.stack,r=e.length,n=e[r-1],s=arguments.length;for(let o=1;o<s;++o){let u=arguments[o];n=n[u],e.push(u,n)}let a=new Array(n.length);for(let o=0;o<n.length;++o)o in n&&(e.push(o,n[o]),a[o]=i(this,o),e.length-=2);return e.length=r,a};Je.hasParens=function(){let t=this.getNode(),i=this.getPrevToken(t);if(!i)return!1;let e=this.getNextToken(t);return e?!!(i.value==="("&&(e.value===")"||!this.canBeFirstInStatement()&&this.firstInStatement()&&!this.needsParens(!0))):!1};Je.getPrevToken=function(t){t=t||this.getNode();let i=t&&t.loc,e=i&&i.tokens;if(e&&i.start.token>0){let r=e[i.start.token-1];if(r){let n=this.getRootValue().loc;if(ae(n.start,r.loc.start)<=0)return r}}return null};Je.getNextToken=function(t){t=t||this.getNode();let i=t&&t.loc,e=i&&i.tokens;if(e&&i.end.token<e.length){let r=e[i.end.token];if(r){let n=this.getRootValue().loc;if(ae(r.loc.end,n.end)<=0)return r}}return null};Je.needsParens=function(t){let i=this.getNode();if(i.type==="AssignmentExpression"&&i.left.type==="ObjectPattern")return!0;let e=this.getParentNode(),r=this.getName();if(this.getValue()!==i||be.Statement.check(i)||i.type==="Identifier"||e&&e.type==="ParenthesizedExpression")return!1;if(i.extra&&i.extra.parenthesized)return!0;if(!e)return!1;if(i.type==="UnaryExpression"&&e.type==="BinaryExpression"&&r==="left"&&e.left===i&&e.operator==="**")return!0;switch(i.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return e.type==="MemberExpression"&&r==="object"&&e.object===i;case"BinaryExpression":case"LogicalExpression":switch(e.type){case"CallExpression":return r==="callee"&&e.callee===i;case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return!0;case"MemberExpression":return r==="object"&&e.object===i;case"BinaryExpression":case"LogicalExpression":{let n=e.operator,s=jo[n],a=i.operator,o=jo[a];if(s>o||s===o&&r==="right")return!0;break}default:return!1}break;case"SequenceExpression":switch(e.type){case"ReturnStatement":return!1;case"ForStatement":return!1;case"ExpressionStatement":return r!=="expression";default:return!0}case"OptionalIndexedAccessType":return i.optional&&e.type==="IndexedAccessType";case"IntersectionTypeAnnotation":case"UnionTypeAnnotation":return e.type==="NullableTypeAnnotation";case"Literal":return e.type==="MemberExpression"&&k0.check(i.value)&&r==="object"&&e.object===i;case"NumericLiteral":return e.type==="MemberExpression"&&r==="object"&&e.object===i;case"YieldExpression":case"AwaitExpression":case"AssignmentExpression":case"ConditionalExpression":switch(e.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"BinaryExpression":case"LogicalExpression":return!0;case"CallExpression":case"NewExpression":return r==="callee"&&e.callee===i;case"ConditionalExpression":return r==="test"&&e.test===i;case"MemberExpression":return r==="object"&&e.object===i;default:return!1}case"ArrowFunctionExpression":return be.CallExpression.check(e)&&r==="callee"&&e.callee===i||be.MemberExpression.check(e)&&r==="object"&&e.object===i||be.TSAsExpression&&be.TSAsExpression.check(e)&&r==="expression"&&e.expression===i?!0:Af(e);case"ObjectExpression":if(e.type==="ArrowFunctionExpression"&&r==="body"&&e.body===i)return!0;break;case"TSAsExpression":if(e.type==="ArrowFunctionExpression"&&r==="body"&&e.body===i&&i.expression.type==="ObjectExpression")return!0;break;case"CallExpression":if(r==="declaration"&&be.ExportDefaultDeclaration.check(e)&&be.FunctionExpression.check(i.callee))return!0}return e.type==="NewExpression"&&r==="callee"&&e.callee===i?$o(i):!!(t!==!0&&!this.canBeFirstInStatement()&&this.firstInStatement())};function Af(t){return be.BinaryExpression.check(t)||be.LogicalExpression.check(t)}function $o(t){return be.CallExpression.check(t)?!0:N0.check(t)?t.some($o):be.Node.check(t)?c0(t,(i,e)=>$o(e)):!1}Je.canBeFirstInStatement=function(){let t=this.getNode();return!(be.FunctionExpression.check(t)||be.ObjectExpression.check(t)||be.ClassExpression.check(t))};Je.firstInStatement=function(){let t=this.stack,i,e,r,n;for(let s=t.length-1;s>=0;s-=2)if(be.Node.check(t[s])&&(r=i,n=e,i=t[s-1],e=t[s]),!(!e||!n)){if(be.BlockStatement.check(e)&&i==="body"&&r===0||be.ExpressionStatement.check(e)&&r==="expression"||be.AssignmentExpression.check(e)&&r==="left"||be.ArrowFunctionExpression.check(e)&&r==="body")return!0;if(!(be.SequenceExpression.check(e)&&t[s+1]==="expressions"&&r===0)&&!(be.CallExpression.check(e)&&r==="callee")&&!(be.MemberExpression.check(e)&&r==="object")&&!(be.ConditionalExpression.check(e)&&r==="test")&&!(Af(e)&&r==="left")&&!(be.UnaryExpression.check(e)&&!e.prefix&&r==="argument"))return!1}return!0};var Cn=Ft.Printable,Wp=Ft.Expression,B0=Ft.ReturnStatement,L0=Ft.SourceLocation,bn=It.object,Vo=It.array,O0=It.string,Ss=/[0-9a-z_$]/i,Tf=function(i){let e=this,r=[];e.replace=function(n,s){O0.check(s)&&(s=A(s)),r.push({lines:s,start:n.start,end:n.end})},e.get=function(n){n=n||{start:{line:1,column:0},end:{line:i.length,column:i.getLineLength(i.length)}};let s=n.start,a=[];function o(u,l){a.push(i.slice(u,l))}return r.sort((u,l)=>ae(u.start,l.start)).forEach(function(u){ae(s,u.start)>0||(o(s,u.start),a.push(u.lines),s=u.end)}),o(s,n.end),E(a)}},wf=Tf.prototype;wf.tryToReprintComments=function(t,i,e){let r=this;if(!t.comments&&!i.comments)return!0;let n=vt.from(t),s=vt.from(i);n.stack.push("comments",Jp(t)),s.stack.push("comments",Jp(i));let a=[],o=Ff(n,s,a);return o&&a.length>0&&a.forEach(function(u){let l=u.oldPath.getValue();r.replace(l.loc,e(u.newPath).indentTail(l.loc.indent))}),o};function Jp(t){let i=[];return t.comments&&t.comments.length>0&&t.comments.forEach(function(e){(e.leading||e.trailing)&&i.push(e)}),i}wf.deleteComments=function(t){if(!t.comments)return;let i=this;t.comments.forEach(function(e){e.leading?i.replace({start:e.loc.start,end:t.loc.lines.skipSpaces(e.loc.end,!1,!1)},""):e.trailing&&i.replace({start:t.loc.lines.skipSpaces(e.loc.start,!0,!1),end:e.loc.end},"")})};function R0(t){let i=t.getValue();if(!Cn.check(i))return;let e=i.original,r=e&&e.loc,n=r&&r.lines,s=[];if(!(!n||!j0(t,s)))return function(a){let o=new Tf(n);s.forEach(function(l){let c=l.newPath.getValue(),p=l.oldPath.getValue();L0.assert(p.loc,!0);let f=!o.tryToReprintComments(c,p,a);f&&o.deleteComments(p);let h=a(l.newPath,{includeComments:f,avoidRootParens:p.type===c.type&&l.oldPath.hasParens()}).indentTail(p.loc.indent),d=M0(n,p.loc,h),m=_0(n,p.loc,h);if(d||m){let g=[];d&&g.push(" "),g.push(h),m&&g.push(" "),h=E(g)}o.replace(p.loc,h)});let u=o.get(r).indentTail(-e.loc.indent);return t.needsParens()?E(["(",u,")"]):u}}function M0(t,i,e){let r=Pr(i.start),n=t.prevPos(r)&&t.charAt(r),s=e.charAt(e.firstPos());return n&&Ss.test(n)&&s&&Ss.test(s)}function _0(t,i,e){let r=t.charAt(i.end),n=e.lastPos(),s=e.prevPos(n)&&e.charAt(n);return s&&Ss.test(s)&&r&&Ss.test(r)}function j0(t,i){let e=t.getValue();Cn.assert(e);let r=e.original;if(Cn.assert(r),e.type!==r.type)return!1;let n=new vt(r),s=Uo(t,n,i);return s||(i.length=0),s}function vf(t,i,e){let r=t.getValue(),n=i.getValue();return r===n?!0:Vo.check(r)?Ff(t,i,e):bn.check(r)?$0(t,i,e):!1}function Ff(t,i,e){let r=t.getValue(),n=i.getValue();if(r===n||t.valueIsDuplicate()||i.valueIsDuplicate())return!0;Vo.assert(r);let s=r.length;if(!(Vo.check(n)&&n.length===s))return!1;for(let a=0;a<s;++a){t.stack.push(a,r[a]),i.stack.push(a,n[a]);let o=vf(t,i,e);if(t.stack.length-=2,i.stack.length-=2,!o)return!1}return!0}function $0(t,i,e){let r=t.getValue();if(bn.assert(r),r.original===null)return!1;let n=i.getValue();if(!bn.check(n))return!1;if(r===n||t.valueIsDuplicate()||i.valueIsDuplicate())return!0;if(Cn.check(r)){if(!Cn.check(n))return!1;let s=t.getParentNode(),a=i.getParentNode();if(a!==null&&a.type==="FunctionTypeAnnotation"&&s!==null&&s.type==="FunctionTypeAnnotation"){let o=a.params.length!==1||!!a.params[0].name,u=s.params.length!==1||!!s.params[0].name;if(!o&&u)return!1}if(r.type===n.type){let o=[];if(Uo(t,i,o))e.push.apply(e,o);else if(n.loc)e.push({oldPath:i.copy(),newPath:t.copy()});else return!1;return!0}return Wp.check(r)&&Wp.check(n)&&n.loc?(e.push({oldPath:i.copy(),newPath:t.copy()}),!0):!1}return Uo(t,i,e)}function Uo(t,i,e){let r=t.getValue(),n=i.getValue();if(bn.assert(r),bn.assert(n),r.original===null||t.needsParens()&&!i.hasParens())return!1;let s=d0(n,r);(n.type==="File"||r.type==="File")&&delete s.tokens,delete s.loc;let a=e.length;for(let o in s){if(o.charAt(0)==="_")continue;t.stack.push(o,pr(r,o)),i.stack.push(o,pr(n,o));let u=vf(t,i,e);if(t.stack.length-=2,i.stack.length-=2,!u)return!1}return!(B0.check(t.getNode())&&e.length>a)}var Ie=Ft,Wo=It.string,V0=It.object,Ps=function(i,e){Wo.assert(i),this.code=i,e&&(V0.assert(e),this.map=e)},U0=Ps.prototype,Hp=!1;U0.toString=function(){return Hp||(console.warn("Deprecation warning: recast.print now returns an object with a .code property. You appear to be treating the object as a string, which might still work but is strongly discouraged."),Hp=!0),this.code};var Gp=new Ps(""),K0=function(i){let e=i&&i.tabWidth;i=ws(i),i.sourceFileName=null;function r(s,a){return s=Object.assign({},s,a),o=>n(o,s)}function n(s,a){if(a=a||{},a.includeComments)return qp(s,r(a,{includeComments:!1}));let o=i.tabWidth;if(!e){let c=s.getNode().loc;c&&c.lines&&c.lines.guessTabWidth&&(i.tabWidth=c.lines.guessTabWidth())}let u=R0(s),l=u?u(n):Xp(s,i,a,r(a,{includeComments:!0,avoidRootParens:!1}));return i.tabWidth=o,l}this.print=function(s){if(!s)return Gp;let a=n(vt.from(s),{includeComments:!0,avoidRootParens:!1});return new Ps(a.toString(i),h0(i.inputSourceMap,a.getSourceMap(i.sourceMapName,i.sourceRoot)))},this.printGenerically=function(s){if(!s)return Gp;function a(c){return qp(c,p=>Xp(p,i,{includeComments:!0,avoidRootParens:!1},a))}let o=vt.from(s),u=i.reuseWhitespace;i.reuseWhitespace=!1;let l=new Ps(a(o).toString(i));return i.reuseWhitespace=u,l}};function Xp(t,i,e,r){let n=t.getValue(),s=[],a=z0(t,i,r);if(!n||a.isEmpty())return a;let o=!1,u=q0(t,r);return u.isEmpty()?e.avoidRootParens||(o=t.needsParens()):s.push(u),o&&s.unshift("("),s.push(a),o&&s.push(")"),E(s)}function z0(t,i,e){let r=t.getValue();if(!r)return A("");if(typeof r=="string")return A(r,i);Ie.Printable.assert(r);let n=[];switch(r.type){case"File":return t.call(e,"program");case"Program":return r.directives&&t.each(function(s){n.push(e(s),`;
    `)},"directives"),r.interpreter&&n.push(t.call(e,"interpreter")),n.push(t.call(s=>Ci(s,i,e),"body")),E(n);case"Noop":case"EmptyStatement":return A("");case"ExpressionStatement":return E([t.call(e,"expression"),";"]);case"ParenthesizedExpression":return E(["(",t.call(e,"expression"),")"]);case"BinaryExpression":case"LogicalExpression":case"AssignmentExpression":return A(" ").join([t.call(e,"left"),r.operator,t.call(e,"right")]);case"AssignmentPattern":return E([t.call(e,"left")," = ",t.call(e,"right")]);case"MemberExpression":case"OptionalMemberExpression":{n.push(t.call(e,"object"));let s=t.call(e,"property"),a=pr(r,"optional");return r.computed?n.push(a?"?.[":"[",s,"]"):n.push(a?"?.":".",s),E(n)}case"ChainExpression":return t.call(e,"expression");case"MetaProperty":return E([t.call(e,"meta"),".",t.call(e,"property")]);case"BindExpression":return r.object&&n.push(t.call(e,"object")),n.push("::",t.call(e,"callee")),E(n);case"Path":return A(".").join(r.body);case"Identifier":return E([A(r.name,i),r.optional?"?":"",t.call(e,"typeAnnotation")]);case"SpreadElement":case"SpreadElementPattern":case"RestProperty":case"SpreadProperty":case"SpreadPropertyPattern":case"ObjectTypeSpreadProperty":case"RestElement":return E(["...",t.call(e,"argument"),t.call(e,"typeAnnotation")]);case"FunctionDeclaration":case"FunctionExpression":case"TSDeclareFunction":return r.declare&&n.push("declare "),r.async&&n.push("async "),n.push("function"),r.generator&&n.push("*"),r.id?n.push(" ",t.call(e,"id"),t.call(e,"typeParameters")):r.typeParameters&&n.push(t.call(e,"typeParameters")),n.push("(",Gt(t,i,e),")",t.call(e,"returnType")),r.body&&n.push(" ",t.call(e,"body")),E(n);case"ArrowFunctionExpression":return r.async&&n.push("async "),r.typeParameters&&n.push(t.call(e,"typeParameters")),!i.arrowParensAlways&&r.params.length===1&&!r.rest&&r.params[0].type==="Identifier"&&!r.params[0].typeAnnotation&&!r.returnType?n.push(t.call(e,"params",0)):n.push("(",Gt(t,i,e),")",t.call(e,"returnType")),n.push(" => ",t.call(e,"body")),E(n);case"MethodDefinition":return No(t,i,e);case"YieldExpression":return n.push("yield"),r.delegate&&n.push("*"),r.argument&&n.push(" ",t.call(e,"argument")),E(n);case"AwaitExpression":return n.push("await"),r.all&&n.push("*"),r.argument&&n.push(" ",t.call(e,"argument")),E(n);case"ModuleExpression":return E([`module {
    `,t.call(e,"body").indent(i.tabWidth),`
    }`]);case"ModuleDeclaration":return n.push("module",t.call(e,"id")),r.source?n.push("from",t.call(e,"source")):n.push(t.call(e,"body")),A(" ").join(n);case"ImportSpecifier":return r.importKind&&r.importKind!=="value"&&n.push(r.importKind+" "),r.imported?(n.push(t.call(e,"imported")),r.local&&r.local.name!==r.imported.name&&n.push(" as ",t.call(e,"local"))):r.id&&(n.push(t.call(e,"id")),r.name&&n.push(" as ",t.call(e,"name"))),E(n);case"ExportSpecifier":return r.exportKind&&r.exportKind!=="value"&&n.push(r.exportKind+" "),r.local?(n.push(t.call(e,"local")),r.exported&&r.exported.name!==r.local.name&&n.push(" as ",t.call(e,"exported"))):r.id&&(n.push(t.call(e,"id")),r.name&&n.push(" as ",t.call(e,"name"))),E(n);case"ExportBatchSpecifier":return A("*");case"ImportNamespaceSpecifier":return n.push("* as "),r.local?n.push(t.call(e,"local")):r.id&&n.push(t.call(e,"id")),E(n);case"ImportDefaultSpecifier":return r.local?t.call(e,"local"):t.call(e,"id");case"TSExportAssignment":return E(["export = ",t.call(e,"expression")]);case"ExportDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":return Yp(t,i,e);case"ExportAllDeclaration":return n.push("export *"),r.exported&&n.push(" as ",t.call(e,"exported")),n.push(" from ",t.call(e,"source"),";"),E(n);case"TSNamespaceExportDeclaration":return n.push("export as namespace ",t.call(e,"id")),gs(E(n));case"ExportNamespaceSpecifier":return E(["* as ",t.call(e,"exported")]);case"ExportDefaultSpecifier":return t.call(e,"exported");case"Import":return A("import",i);case"ImportExpression":return E(["import(",t.call(e,"source"),")"]);case"ImportDeclaration":{if(n.push("import "),r.importKind&&r.importKind!=="value"&&n.push(r.importKind+" "),r.specifiers&&r.specifiers.length>0){let s=[],a=[];if(t.each(function(o){let u=o.getValue();u.type==="ImportSpecifier"?a.push(e(o)):(u.type==="ImportDefaultSpecifier"||u.type==="ImportNamespaceSpecifier")&&s.push(e(o))},"specifiers"),s.forEach((o,u)=>{u>0&&n.push(", "),n.push(o)}),a.length>0){let o=A(", ").join(a);o.getLineLength(1)>i.wrapColumn&&(o=E([A(`,
    `).join(a).indent(i.tabWidth),","])),s.length>0&&n.push(", "),o.length>1?n.push(`{
    `,o,`
    }`):i.objectCurlySpacing?n.push("{ ",o," }"):n.push("{",o,"}")}n.push(" from ")}return n.push(t.call(e,"source"),Nf(t,i,e),";"),E(n)}case"ImportAttribute":return E([t.call(e,"key"),": ",t.call(e,"value")]);case"StaticBlock":n.push("static ");case"BlockStatement":{let s=t.call(a=>Ci(a,i,e),"body");return s.isEmpty()&&(!r.directives||r.directives.length===0)?(n.push("{}"),E(n)):(n.push(`{
    `),r.directives&&t.each(function(a){n.push(gs(e(a).indent(i.tabWidth)),r.directives.length>1||!s.isEmpty()?`
    `:"")},"directives"),n.push(s.indent(i.tabWidth)),n.push(`
    }`),E(n))}case"ReturnStatement":{if(n.push("return"),r.argument){let s=t.call(e,"argument");s.startsWithComment()||s.length>1&&Ie.JSXElement&&Ie.JSXElement.check(r.argument)?n.push(` (
    `,s.indent(i.tabWidth),`
    )`):n.push(" ",s)}return n.push(";"),E(n)}case"CallExpression":case"OptionalCallExpression":return n.push(t.call(e,"callee")),r.typeParameters&&n.push(t.call(e,"typeParameters")),r.typeArguments&&n.push(t.call(e,"typeArguments")),pr(r,"optional")&&n.push("?."),n.push(Qp(t,i,e)),E(n);case"RecordExpression":n.push("#");case"ObjectExpression":case"ObjectPattern":case"ObjectTypeAnnotation":{let s=r.type==="ObjectTypeAnnotation",a=i.flowObjectCommas?",":s?";":",",o=[],u=!1;s&&(o.push("indexers","callProperties"),r.internalSlots!=null&&o.push("internalSlots")),o.push("properties");let l=0;o.forEach(function(m){l+=r[m].length});let c=s&&l===1||l===0,p=r.exact?"{|":"{",f=r.exact?"|}":"}";n.push(c?p:p+`
    `);let h=n.length-1,d=0;if(o.forEach(function(m){t.each(function(g){let D=e(g);c||(D=D.indent(i.tabWidth));let x=!s&&D.length>1;x&&u&&n.push(`
    `),n.push(D),d<l-1?(n.push(a+(x?`
    
    `:`
    `)),u=!x):(l!==1&&s||!c&&yn(i,"objects")&&g.getValue().type!=="RestElement")&&n.push(a),d++},m)}),r.inexact){let m=A("...",i);c?(l>0&&n.push(a," "),n.push(m)):n.push(`
    `,m.indent(i.tabWidth))}return n.push(c?f:`
    `+f),d!==0&&c&&i.objectCurlySpacing&&(n[h]=p+" ",n[n.length-1]=" "+f),r.typeAnnotation&&n.push(t.call(e,"typeAnnotation")),E(n)}case"PropertyPattern":return E([t.call(e,"key"),": ",t.call(e,"pattern")]);case"ObjectProperty":case"Property":{if(r.method||r.kind==="get"||r.kind==="set")return No(t,i,e);if(r.shorthand&&r.value.type==="AssignmentPattern")return t.call(e,"value");let s=t.call(e,"key");return r.computed?n.push("[",s,"]"):n.push(s),(!r.shorthand||r.key.name!==r.value.name)&&n.push(": ",t.call(e,"value")),E(n)}case"ClassMethod":case"ObjectMethod":case"ClassPrivateMethod":case"TSDeclareMethod":return No(t,i,e);case"PrivateName":return E(["#",t.call(e,"id")]);case"Decorator":return E(["@",t.call(e,"expression")]);case"TupleExpression":n.push("#");case"ArrayExpression":case"ArrayPattern":{let a=r.elements.length,o=t.map(e,"elements"),l=A(", ").join(o).getLineLength(1)<=i.wrapColumn;return l?i.arrayBracketSpacing?n.push("[ "):n.push("["):n.push(`[
    `),t.each(function(c){let p=c.getName();if(!c.getValue())n.push(",");else{let h=o[p];l?p>0&&n.push(" "):h=h.indent(i.tabWidth),n.push(h),(p<a-1||!l&&yn(i,"arrays"))&&n.push(","),l||n.push(`
    `)}},"elements"),l&&i.arrayBracketSpacing?n.push(" ]"):n.push("]"),r.typeAnnotation&&n.push(t.call(e,"typeAnnotation")),E(n)}case"SequenceExpression":return A(", ").join(t.map(e,"expressions"));case"ThisExpression":return A("this");case"Super":return A("super");case"NullLiteral":return A("null");case"RegExpLiteral":return A(bi(r)||`/${r.pattern}/${r.flags||""}`,i);case"BigIntLiteral":return A(bi(r)||r.value+"n",i);case"NumericLiteral":return A(bi(r)||r.value,i);case"DecimalLiteral":return A(bi(r)||r.value+"m",i);case"StringLiteral":return A(mn(r.value,i));case"BooleanLiteral":case"Literal":return A(bi(r)||(typeof r.value=="string"?mn(r.value,i):r.value),i);case"Directive":return t.call(e,"value");case"DirectiveLiteral":return A(bi(r)||mn(r.value,i),i);case"InterpreterDirective":return A(`#!${r.value}
    `,i);case"ModuleSpecifier":if(r.local)throw new Error("The ESTree ModuleSpecifier type should be abstract");return A(mn(r.value,i),i);case"UnaryExpression":return n.push(r.operator),/[a-z]$/.test(r.operator)&&n.push(" "),n.push(t.call(e,"argument")),E(n);case"UpdateExpression":return n.push(t.call(e,"argument"),r.operator),r.prefix&&n.reverse(),E(n);case"ConditionalExpression":return E([t.call(e,"test")," ? ",t.call(e,"consequent")," : ",t.call(e,"alternate")]);case"NewExpression":return n.push("new ",t.call(e,"callee")),r.typeParameters&&n.push(t.call(e,"typeParameters")),r.typeArguments&&n.push(t.call(e,"typeArguments")),r.arguments&&n.push(Qp(t,i,e)),E(n);case"VariableDeclaration":{r.declare&&n.push("declare "),n.push(r.kind," ");let s=0,a=t.map(function(u){let l=e(u);return s=Math.max(l.length,s),l},"declarations");s===1?n.push(A(", ").join(a)):a.length>1?n.push(A(`,
    `).join(a).indentTail(r.kind.length+1)):n.push(a[0]);let o=t.getParentNode();return!Ie.ForStatement.check(o)&&!Ie.ForInStatement.check(o)&&!(Ie.ForOfStatement&&Ie.ForOfStatement.check(o))&&!(Ie.ForAwaitStatement&&Ie.ForAwaitStatement.check(o))&&n.push(";"),E(n)}case"VariableDeclarator":return r.init?A(" = ").join([t.call(e,"id"),t.call(e,"init")]):t.call(e,"id");case"WithStatement":return E(["with (",t.call(e,"object"),") ",t.call(e,"body")]);case"IfStatement":{let s=$r(t.call(e,"consequent"),i);return n.push("if (",t.call(e,"test"),")",s),r.alternate&&n.push(Zp(s)?" else":`
    else`,$r(t.call(e,"alternate"),i)),E(n)}case"ForStatement":{let s=t.call(e,"init"),a=s.length>1?`;
    `:"; ",o="for (",u=A(a).join([s,t.call(e,"test"),t.call(e,"update")]).indentTail(o.length),l=E([o,u,")"]),c=$r(t.call(e,"body"),i);return n.push(l),l.length>1&&(n.push(`
    `),c=c.trimLeft()),n.push(c),E(n)}case"WhileStatement":return E(["while (",t.call(e,"test"),")",$r(t.call(e,"body"),i)]);case"ForInStatement":return E([r.each?"for each (":"for (",t.call(e,"left")," in ",t.call(e,"right"),")",$r(t.call(e,"body"),i)]);case"ForOfStatement":case"ForAwaitStatement":return n.push("for "),(r.await||r.type==="ForAwaitStatement")&&n.push("await "),n.push("(",t.call(e,"left")," of ",t.call(e,"right"),")",$r(t.call(e,"body"),i)),E(n);case"DoWhileStatement":{let s=E(["do",$r(t.call(e,"body"),i)]);return n.push(s),Zp(s)?n.push(" while"):n.push(`
    while`),n.push(" (",t.call(e,"test"),");"),E(n)}case"DoExpression":{let s=t.call(a=>Ci(a,i,e),"body");return E([`do {
    `,s.indent(i.tabWidth),`
    }`])}case"BreakStatement":return n.push("break"),r.label&&n.push(" ",t.call(e,"label")),n.push(";"),E(n);case"ContinueStatement":return n.push("continue"),r.label&&n.push(" ",t.call(e,"label")),n.push(";"),E(n);case"LabeledStatement":return E([t.call(e,"label"),`:
    `,t.call(e,"body")]);case"TryStatement":return n.push("try ",t.call(e,"block")),r.handler?n.push(" ",t.call(e,"handler")):r.handlers&&t.each(function(s){n.push(" ",e(s))},"handlers"),r.finalizer&&n.push(" finally ",t.call(e,"finalizer")),E(n);case"CatchClause":return n.push("catch "),r.param&&n.push("(",t.call(e,"param")),r.guard&&n.push(" if ",t.call(e,"guard")),r.param&&n.push(") "),n.push(t.call(e,"body")),E(n);case"ThrowStatement":return E(["throw ",t.call(e,"argument"),";"]);case"SwitchStatement":return E(["switch (",t.call(e,"discriminant"),`) {
    `,A(`
    `).join(t.map(e,"cases")),`
    }`]);case"SwitchCase":return r.test?n.push("case ",t.call(e,"test"),":"):n.push("default:"),r.consequent.length>0&&n.push(`
    `,t.call(s=>Ci(s,i,e),"consequent").indent(i.tabWidth)),E(n);case"DebuggerStatement":return A("debugger;");case"JSXAttribute":return n.push(t.call(e,"name")),r.value&&n.push("=",t.call(e,"value")),E(n);case"JSXIdentifier":return A(r.name,i);case"JSXNamespacedName":return A(":").join([t.call(e,"namespace"),t.call(e,"name")]);case"JSXMemberExpression":return A(".").join([t.call(e,"object"),t.call(e,"property")]);case"JSXSpreadAttribute":return E(["{...",t.call(e,"argument"),"}"]);case"JSXSpreadChild":return E(["{...",t.call(e,"expression"),"}"]);case"JSXExpressionContainer":return E(["{",t.call(e,"expression"),"}"]);case"JSXElement":case"JSXFragment":{let s="opening"+(r.type==="JSXElement"?"Element":"Fragment"),a="closing"+(r.type==="JSXElement"?"Element":"Fragment"),o=t.call(e,s);if(r[s].selfClosing)return o;let u=E(t.map(function(c){let p=c.getValue();if(Ie.Literal.check(p)&&typeof p.value=="string"){if(/\S/.test(p.value))return p.value.replace(/^\s+|\s+$/g,"");if(/\n/.test(p.value))return`
    `}return e(c)},"children")).indentTail(i.tabWidth),l=t.call(e,a);return E([o,u,l])}case"JSXOpeningElement":{n.push("<",t.call(e,"name"));let s=[];t.each(function(u){s.push(" ",e(u))},"attributes");let a=E(s);return(a.length>1||a.getLineLength(1)>i.wrapColumn)&&(s.forEach(function(u,l){u===" "&&(s[l]=`
    `)}),a=E(s).indentTail(i.tabWidth)),n.push(a,r.selfClosing?" />":">"),E(n)}case"JSXClosingElement":return E(["</",t.call(e,"name"),">"]);case"JSXOpeningFragment":return A("<>");case"JSXClosingFragment":return A("</>");case"JSXText":return A(r.value,i);case"JSXEmptyExpression":return A("");case"TypeAnnotatedIdentifier":return E([t.call(e,"annotation")," ",t.call(e,"identifier")]);case"ClassBody":return r.body.length===0?A("{}"):E([`{
    `,t.call(s=>Ci(s,i,e),"body").indent(i.tabWidth),`
    }`]);case"ClassPropertyDefinition":return n.push("static ",t.call(e,"definition")),Ie.MethodDefinition.check(r.definition)||n.push(";"),E(n);case"ClassProperty":{r.declare&&n.push("declare ");let s=r.accessibility||r.access;typeof s=="string"&&n.push(s," "),r.static&&n.push("static "),r.abstract&&n.push("abstract "),r.readonly&&n.push("readonly ");let a=t.call(e,"key");return r.computed&&(a=E(["[",a,"]"])),r.variance&&(a=E([hn(t,e),a])),n.push(a),r.optional&&n.push("?"),r.definite&&n.push("!"),r.typeAnnotation&&n.push(t.call(e,"typeAnnotation")),r.value&&n.push(" = ",t.call(e,"value")),n.push(";"),E(n)}case"ClassPrivateProperty":return r.static&&n.push("static "),n.push(t.call(e,"key")),r.typeAnnotation&&n.push(t.call(e,"typeAnnotation")),r.value&&n.push(" = ",t.call(e,"value")),n.push(";"),E(n);case"ClassAccessorProperty":return n.push(...If(r),"accessor "),r.computed?n.push("[",t.call(e,"key"),"]"):n.push(t.call(e,"key")),r.optional&&n.push("?"),r.definite&&n.push("!"),r.typeAnnotation&&n.push(t.call(e,"typeAnnotation")),r.value&&n.push(" = ",t.call(e,"value")),n.push(";"),E(n);case"ClassDeclaration":case"ClassExpression":case"DeclareClass":return r.declare&&n.push("declare "),r.abstract&&n.push("abstract "),n.push("class"),r.id&&n.push(" ",t.call(e,"id")),r.typeParameters&&n.push(t.call(e,"typeParameters")),r.superClass&&n.push(" extends ",t.call(e,"superClass"),t.call(e,"superTypeParameters")),r.extends&&r.extends.length>0&&n.push(" extends ",A(", ").join(t.map(e,"extends"))),r.implements&&r.implements.length>0&&n.push(" implements ",A(", ").join(t.map(e,"implements"))),n.push(" ",t.call(e,"body")),r.type==="DeclareClass"?dn(t,n):E(n);case"TemplateElement":return A(r.value.raw,i).lockIndentTail();case"TemplateLiteral":{let s=t.map(e,"expressions");return n.push("`"),t.each(function(a){let o=a.getName();n.push(e(a)),o<s.length&&n.push("${",s[o],"}")},"quasis"),n.push("`"),E(n).lockIndentTail()}case"TaggedTemplateExpression":return E([t.call(e,"tag"),t.call(e,"quasi")]);case"Node":case"Printable":case"SourceLocation":case"Position":case"Statement":case"Function":case"Pattern":case"Expression":case"Declaration":case"Specifier":case"NamedSpecifier":case"Comment":case"Flow":case"FlowType":case"FlowPredicate":case"MemberTypeAnnotation":case"Type":case"TSHasOptionalTypeParameterInstantiation":case"TSHasOptionalTypeParameters":case"TSHasOptionalTypeAnnotation":case"ChainElement":throw new Error("unprintable type: "+JSON.stringify(r.type));case"CommentBlock":case"Block":return E(["/*",A(r.value,i),"*/"]);case"CommentLine":case"Line":return E(["//",A(r.value,i)]);case"TypeAnnotation":return r.typeAnnotation?(r.typeAnnotation.type!=="FunctionTypeAnnotation"&&n.push(": "),n.push(t.call(e,"typeAnnotation")),E(n)):A("");case"ExistentialTypeParam":case"ExistsTypeAnnotation":return A("*",i);case"EmptyTypeAnnotation":return A("empty",i);case"AnyTypeAnnotation":return A("any",i);case"MixedTypeAnnotation":return A("mixed",i);case"ArrayTypeAnnotation":return E([t.call(e,"elementType"),"[]"]);case"TupleTypeAnnotation":{let s=t.map(e,"types"),o=A(", ").join(s).getLineLength(1)<=i.wrapColumn;return o?i.arrayBracketSpacing?n.push("[ "):n.push("["):n.push(`[
    `),t.each(function(u){let l=u.getName();if(!u.getValue())n.push(",");else{let p=s[l];o?l>0&&n.push(" "):p=p.indent(i.tabWidth),n.push(p),(l<r.types.length-1||!o&&yn(i,"arrays"))&&n.push(","),o||n.push(`
    `)}},"types"),o&&i.arrayBracketSpacing?n.push(" ]"):n.push("]"),E(n)}case"BooleanTypeAnnotation":return A("boolean",i);case"BooleanLiteralTypeAnnotation":return A(""+r.value,i);case"InterfaceTypeAnnotation":return n.push("interface"),r.extends&&r.extends.length>0&&n.push(" extends ",A(", ").join(t.map(e,"extends"))),n.push(" ",t.call(e,"body")),E(n);case"DeclareFunction":return dn(t,["function ",t.call(e,"id"),";"]);case"DeclareModule":return dn(t,["module ",t.call(e,"id")," ",t.call(e,"body")]);case"DeclareModuleExports":return dn(t,["module.exports",t.call(e,"typeAnnotation")]);case"DeclareVariable":return dn(t,["var ",t.call(e,"id"),";"]);case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":return E(["declare ",Yp(t,i,e)]);case"EnumDeclaration":return E(["enum ",t.call(e,"id"),t.call(e,"body")]);case"EnumBooleanBody":case"EnumNumberBody":case"EnumStringBody":case"EnumSymbolBody":return(r.type==="EnumSymbolBody"||r.explicitType)&&n.push(" of ",r.type.slice(4,-4).toLowerCase()),n.push(` {
    `,A(`
    `).join(t.map(e,"members")).indent(i.tabWidth),`
    }`),E(n);case"EnumDefaultedMember":return E([t.call(e,"id"),","]);case"EnumBooleanMember":case"EnumNumberMember":case"EnumStringMember":return E([t.call(e,"id")," = ",t.call(e,"init"),","]);case"InferredPredicate":return A("%checks",i);case"DeclaredPredicate":return E(["%checks(",t.call(e,"value"),")"]);case"FunctionTypeAnnotation":{let s=t.getParentNode(0),a=!(Ie.ObjectTypeCallProperty.check(s)||Ie.ObjectTypeInternalSlot.check(s)&&s.method||Ie.DeclareFunction.check(t.getParentNode(2)));a&&!Ie.FunctionTypeParam.check(s)&&!Ie.TypeAlias.check(s)&&n.push(": ");let u=!!r.typeParameters,l=u||r.params.length!==1||r.params[0].name;return n.push(u?t.call(e,"typeParameters"):"",l?"(":"",Gt(t,i,e),l?")":""),r.returnType&&n.push(a?" => ":": ",t.call(e,"returnType")),E(n)}case"FunctionTypeParam":{let s=t.call(e,"name");return n.push(s),r.optional&&n.push("?"),s.infos[0].line&&n.push(": "),n.push(t.call(e,"typeAnnotation")),E(n)}case"GenericTypeAnnotation":return E([t.call(e,"id"),t.call(e,"typeParameters")]);case"DeclareInterface":n.push("declare ");case"InterfaceDeclaration":case"TSInterfaceDeclaration":return r.declare&&n.push("declare "),n.push("interface ",t.call(e,"id"),t.call(e,"typeParameters")," "),r.extends&&r.extends.length>0&&n.push("extends ",A(", ").join(t.map(e,"extends"))," "),r.body&&n.push(t.call(e,"body")),E(n);case"ClassImplements":case"InterfaceExtends":return E([t.call(e,"id"),t.call(e,"typeParameters")]);case"IntersectionTypeAnnotation":return A(" & ").join(t.map(e,"types"));case"NullableTypeAnnotation":return E(["?",t.call(e,"typeAnnotation")]);case"NullLiteralTypeAnnotation":return A("null",i);case"ThisTypeAnnotation":return A("this",i);case"NumberTypeAnnotation":return A("number",i);case"ObjectTypeCallProperty":return t.call(e,"value");case"ObjectTypeIndexer":return r.static&&n.push("static "),n.push(hn(t,e),"["),r.id&&n.push(t.call(e,"id"),": "),n.push(t.call(e,"key"),"]: ",t.call(e,"value")),E(n);case"ObjectTypeProperty":return E([hn(t,e),t.call(e,"key"),r.optional?"?":"",": ",t.call(e,"value")]);case"ObjectTypeInternalSlot":return E([r.static?"static ":"","[[",t.call(e,"id"),"]]",r.optional?"?":"",r.value.type!=="FunctionTypeAnnotation"?": ":"",t.call(e,"value")]);case"QualifiedTypeIdentifier":return E([t.call(e,"qualification"),".",t.call(e,"id")]);case"StringLiteralTypeAnnotation":return A(mn(r.value,i),i);case"NumberLiteralTypeAnnotation":case"NumericLiteralTypeAnnotation":return A(JSON.stringify(r.value),i);case"BigIntLiteralTypeAnnotation":return A(r.raw,i);case"StringTypeAnnotation":return A("string",i);case"DeclareTypeAlias":n.push("declare ");case"TypeAlias":return E(["type ",t.call(e,"id"),t.call(e,"typeParameters")," = ",t.call(e,"right"),";"]);case"DeclareOpaqueType":n.push("declare ");case"OpaqueType":return n.push("opaque type ",t.call(e,"id"),t.call(e,"typeParameters")),r.supertype&&n.push(": ",t.call(e,"supertype")),r.impltype&&n.push(" = ",t.call(e,"impltype")),n.push(";"),E(n);case"TypeCastExpression":return E(["(",t.call(e,"expression"),t.call(e,"typeAnnotation"),")"]);case"TypeParameterDeclaration":case"TypeParameterInstantiation":return E(["<",A(", ").join(t.map(e,"params")),">"]);case"Variance":return r.kind==="plus"?A("+"):r.kind==="minus"?A("-"):A("");case"TypeParameter":return r.variance&&n.push(hn(t,e)),n.push(t.call(e,"name")),r.bound&&n.push(t.call(e,"bound")),r.default&&n.push("=",t.call(e,"default")),E(n);case"TypeofTypeAnnotation":return E([A("typeof ",i),t.call(e,"argument")]);case"IndexedAccessType":case"OptionalIndexedAccessType":return E([t.call(e,"objectType"),r.optional?"?.":"","[",t.call(e,"indexType"),"]"]);case"UnionTypeAnnotation":return A(" | ").join(t.map(e,"types"));case"VoidTypeAnnotation":return A("void",i);case"NullTypeAnnotation":return A("null",i);case"SymbolTypeAnnotation":return A("symbol",i);case"BigIntTypeAnnotation":return A("bigint",i);case"TSType":throw new Error("unprintable type: "+JSON.stringify(r.type));case"TSNumberKeyword":return A("number",i);case"TSBigIntKeyword":return A("bigint",i);case"TSObjectKeyword":return A("object",i);case"TSBooleanKeyword":return A("boolean",i);case"TSStringKeyword":return A("string",i);case"TSSymbolKeyword":return A("symbol",i);case"TSAnyKeyword":return A("any",i);case"TSVoidKeyword":return A("void",i);case"TSIntrinsicKeyword":return A("intrinsic",i);case"TSThisType":return A("this",i);case"TSNullKeyword":return A("null",i);case"TSUndefinedKeyword":return A("undefined",i);case"TSUnknownKeyword":return A("unknown",i);case"TSNeverKeyword":return A("never",i);case"TSArrayType":return E([t.call(e,"elementType"),"[]"]);case"TSLiteralType":return t.call(e,"literal");case"TSUnionType":return A(" | ").join(t.map(e,"types"));case"TSIntersectionType":return A(" & ").join(t.map(e,"types"));case"TSConditionalType":return n.push(t.call(e,"checkType")," extends ",t.call(e,"extendsType")," ? ",t.call(e,"trueType")," : ",t.call(e,"falseType")),E(n);case"TSInferType":return n.push("infer ",t.call(e,"typeParameter")),E(n);case"TSParenthesizedType":return E(["(",t.call(e,"typeAnnotation"),")"]);case"TSFunctionType":return E([t.call(e,"typeParameters"),"(",Gt(t,i,e),") => ",t.call(e,"typeAnnotation","typeAnnotation")]);case"TSConstructorType":return E(["new ",t.call(e,"typeParameters"),"(",Gt(t,i,e),") => ",t.call(e,"typeAnnotation","typeAnnotation")]);case"TSMappedType":return n.push(r.readonly?"readonly ":"","[",t.call(e,"typeParameter"),"]",r.optional?"?":""),r.typeAnnotation&&n.push(": ",t.call(e,"typeAnnotation"),";"),E([`{
    `,E(n).indent(i.tabWidth),`
    }`]);case"TSTupleType":return E(["[",A(", ").join(t.map(e,"elementTypes")),"]"]);case"TSNamedTupleMember":return n.push(t.call(e,"label")),r.optional&&n.push("?"),n.push(": ",t.call(e,"elementType")),E(n);case"TSRestType":return E(["...",t.call(e,"typeAnnotation")]);case"TSOptionalType":return E([t.call(e,"typeAnnotation"),"?"]);case"TSIndexedAccessType":return E([t.call(e,"objectType"),"[",t.call(e,"indexType"),"]"]);case"TSTypeOperator":return E([t.call(e,"operator")," ",t.call(e,"typeAnnotation")]);case"TSTypeLiteral":{let s=A(`
    `).join(t.map(e,"members").map(a=>En(a)!==";"?a.concat(";"):a));return s.isEmpty()?A("{}",i):(n.push(`{
    `,s.indent(i.tabWidth),`
    }`),E(n))}case"TSEnumMember":return n.push(t.call(e,"id")),r.initializer&&n.push(" = ",t.call(e,"initializer")),E(n);case"TSTypeQuery":return E(["typeof ",t.call(e,"exprName")]);case"TSParameterProperty":return r.accessibility&&n.push(r.accessibility," "),r.export&&n.push("export "),r.static&&n.push("static "),r.readonly&&n.push("readonly "),n.push(t.call(e,"parameter")),E(n);case"TSTypeReference":return E([t.call(e,"typeName"),t.call(e,"typeParameters")]);case"TSQualifiedName":return E([t.call(e,"left"),".",t.call(e,"right")]);case"TSAsExpression":case"TSSatisfiesExpression":{let s=t.call(e,"expression");return n.push(s,r.type==="TSSatisfiesExpression"?" satisfies ":" as ",t.call(e,"typeAnnotation")),E(n)}case"TSTypeCastExpression":return E([t.call(e,"expression"),t.call(e,"typeAnnotation")]);case"TSNonNullExpression":return E([t.call(e,"expression"),"!"]);case"TSTypeAnnotation":return E([": ",t.call(e,"typeAnnotation")]);case"TSIndexSignature":return E([r.readonly?"readonly ":"","[",t.map(e,"parameters"),"]",t.call(e,"typeAnnotation")]);case"TSPropertySignature":return n.push(hn(t,e),r.readonly?"readonly ":""),r.computed?n.push("[",t.call(e,"key"),"]"):n.push(t.call(e,"key")),n.push(r.optional?"?":"",t.call(e,"typeAnnotation")),E(n);case"TSMethodSignature":return r.computed?n.push("[",t.call(e,"key"),"]"):n.push(t.call(e,"key")),r.optional&&n.push("?"),n.push(t.call(e,"typeParameters"),"(",Gt(t,i,e),")",t.call(e,"typeAnnotation")),E(n);case"TSTypePredicate":return r.asserts&&n.push("asserts "),n.push(t.call(e,"parameterName")),r.typeAnnotation&&n.push(" is ",t.call(e,"typeAnnotation","typeAnnotation")),E(n);case"TSCallSignatureDeclaration":return E([t.call(e,"typeParameters"),"(",Gt(t,i,e),")",t.call(e,"typeAnnotation")]);case"TSConstructSignatureDeclaration":return r.typeParameters?n.push("new",t.call(e,"typeParameters")):n.push("new "),n.push("(",Gt(t,i,e),")",t.call(e,"typeAnnotation")),E(n);case"TSTypeAliasDeclaration":return E([r.declare?"declare ":"","type ",t.call(e,"id"),t.call(e,"typeParameters")," = ",t.call(e,"typeAnnotation"),";"]);case"TSTypeParameter":{n.push(t.call(e,"name"));let s=t.getParentNode(0),a=Ie.TSMappedType.check(s);return r.constraint&&n.push(a?" in ":" extends ",t.call(e,"constraint")),r.default&&n.push(" = ",t.call(e,"default")),E(n)}case"TSTypeAssertion":return n.push("<",t.call(e,"typeAnnotation"),"> ",t.call(e,"expression")),E(n);case"TSTypeParameterDeclaration":case"TSTypeParameterInstantiation":return E(["<",A(", ").join(t.map(e,"params")),">"]);case"TSEnumDeclaration":{n.push(r.declare?"declare ":"",r.const?"const ":"","enum ",t.call(e,"id"));let s=A(`,
    `).join(t.map(e,"members"));return s.isEmpty()?n.push(" {}"):n.push(` {
    `,s.indent(i.tabWidth),`
    }`),E(n)}case"TSExpressionWithTypeArguments":return E([t.call(e,"expression"),t.call(e,"typeParameters")]);case"TSInterfaceBody":{let s=A(`
    `).join(t.map(e,"body").map(a=>En(a)!==";"?a.concat(";"):a));return s.isEmpty()?A("{}",i):E([`{
    `,s.indent(i.tabWidth),`
    }`])}case"TSImportType":return n.push("import(",t.call(e,"argument"),")"),r.qualifier&&n.push(".",t.call(e,"qualifier")),r.typeParameters&&n.push(t.call(e,"typeParameters")),E(n);case"TSImportEqualsDeclaration":return r.isExport&&n.push("export "),n.push("import ",t.call(e,"id")," = ",t.call(e,"moduleReference")),gs(E(n));case"TSExternalModuleReference":return E(["require(",t.call(e,"expression"),")"]);case"TSModuleDeclaration":return t.getParentNode().type==="TSModuleDeclaration"?n.push("."):(r.declare&&n.push("declare "),r.global||(r.id.type==="StringLiteral"||r.id.type==="Literal"&&typeof r.id.value=="string"||r.loc&&r.loc.lines&&r.id.loc&&r.loc.lines.sliceString(r.loc.start,r.id.loc.start).indexOf("module")>=0?n.push("module "):n.push("namespace "))),n.push(t.call(e,"id")),r.body&&(n.push(" "),n.push(t.call(e,"body"))),E(n);case"TSModuleBlock":{let s=t.call(a=>Ci(a,i,e),"body");return s.isEmpty()?n.push("{}"):n.push(`{
    `,s.indent(i.tabWidth),`
    }`),E(n)}case"TSInstantiationExpression":return n.push(t.call(e,"expression"),t.call(e,"typeParameters")),E(n);case"V8IntrinsicIdentifier":return E(["%",t.call(e,"name")]);case"TopicReference":return A("#");case"ClassHeritage":case"ComprehensionBlock":case"ComprehensionExpression":case"Glob":case"GeneratorExpression":case"LetStatement":case"LetExpression":case"GraphExpression":case"GraphIndexExpression":case"XMLDefaultDeclaration":case"XMLAnyName":case"XMLQualifiedIdentifier":case"XMLFunctionQualifiedIdentifier":case"XMLAttributeSelector":case"XMLFilterExpression":case"XML":case"XMLElement":case"XMLList":case"XMLEscape":case"XMLText":case"XMLStartTag":case"XMLEndTag":case"XMLPointTag":case"XMLName":case"XMLAttribute":case"XMLCdata":case"XMLComment":case"XMLProcessingInstruction":default:debugger;throw new Error("unknown type: "+JSON.stringify(r.type))}}function q0(t,i){let e=[],r=t.getValue();return r.decorators&&r.decorators.length>0&&!hf(t)?t.each(function(n){e.push(i(n),`
    `)},"decorators"):Ts(r)&&r.declaration&&r.declaration.decorators&&t.each(function(n){e.push(i(n),`
    `)},"declaration","decorators"),E(e)}function Ci(t,i,e){let r=[];t.each(function(o){let u=o.getValue();u&&(u.type==="EmptyStatement"&&!(u.comments&&u.comments.length>0)||(Ie.Comment.check(u)||Ie.Statement.check(u)||Wo.assert(u),r.push({node:u,printed:e(o)})))});let n=null,s=r.length,a=[];return r.forEach(function(o,u){let l=o.printed,c=o.node,p=l.length>1,f=u>0,h=u<s-1,d,m,g=c&&c.loc&&c.loc.lines,D=g&&i.reuseWhitespace&&df(c,g);if(f)if(D){let x=g.skipSpaces(D.start,!0),P=x?x.line:1,C=D.start.line-P;d=Array(C+1).join(`
    `)}else d=p?`
    
    `:`
    `;else d="";if(h)if(D){let x=g.skipSpaces(D.end),C=(x?x.line:g.length)-D.end.line;m=Array(C+1).join(`
    `)}else m=p?`
    
    `:`
    `;else m="";a.push(W0(n,d),l),h?n=m:m&&a.push(m)}),E(a)}function W0(t,i){if(!t&&!i)return A("");if(!t)return A(i);if(!i)return A(t);let e=A(t),r=A(i);return r.length>e.length?r:e}function If(t){let i=[];t.declare&&i.push("declare ");let e=t.accessibility||t.access;return typeof e=="string"&&i.push(e," "),t.static&&i.push("static "),t.override&&i.push("override "),t.abstract&&i.push("abstract "),t.readonly&&i.push("readonly "),i}function No(t,i,e){let r=t.getNode(),n=r.kind,s=[],a=r.value;Ie.FunctionExpression.check(a)||(a=r),s.push(...If(r)),a.async&&s.push("async "),a.generator&&s.push("*"),(n==="get"||n==="set")&&s.push(n," ");let o=t.call(e,"key");return r.computed&&(o=E(["[",o,"]"])),s.push(o),r.optional&&s.push("?"),r===a?(s.push(t.call(e,"typeParameters"),"(",Gt(t,i,e),")",t.call(e,"returnType")),r.body?s.push(" ",t.call(e,"body")):s.push(";")):(s.push(t.call(e,"value","typeParameters"),"(",t.call(u=>Gt(u,i,e),"value"),")",t.call(e,"value","returnType")),a.body?s.push(" ",t.call(e,"value","body")):s.push(";")),E(s)}function Qp(t,i,e){let r=t.map(e,"arguments"),n=yn(i,"parameters"),s=A(", ").join(r);return s.getLineLength(1)>i.wrapColumn?(s=A(`,
    `).join(r),E([`(
    `,s.indent(i.tabWidth),n?`,
    )`:`
    )`])):E(["(",s,")"])}function Gt(t,i,e){let r=t.getValue(),n,s=[];r.params?(n=r.params,s=t.map(e,"params")):r.parameters&&(n=r.parameters,s=t.map(e,"parameters")),r.defaults&&t.each(function(o){let u=o.getName(),l=s[u];l&&o.getValue()&&(s[u]=E([l," = ",e(o)]))},"defaults"),r.rest&&s.push(E(["...",t.call(e,"rest")]));let a=A(", ").join(s);return a.length>1||a.getLineLength(1)>i.wrapColumn?(a=A(`,
    `).join(s),yn(i,"parameters")&&!r.rest&&n[n.length-1].type!=="RestElement"?a=E([a,`,
    `]):a=E([a,`
    `]),E([`
    `,a.indent(i.tabWidth)])):a}function Nf(t,i,e){let r=t.getValue();if(r.assertions&&r.assertions.length>0){let n=[" assert {"],s=t.map(e,"assertions"),a=A(", ").join(s);return a.length>1||a.getLineLength(1)>i.wrapColumn?n.push(`
    `,A(`,
    `).join(s).indent(i.tabWidth),`
    }`):n.push(" ",a," }"),E(n)}return A("")}function Yp(t,i,e){let r=t.getValue(),n=["export "];r.exportKind&&r.exportKind==="type"&&(r.declaration||n.push("type "));let s=i.objectCurlySpacing;if(Ie.Declaration.assert(r),(r.default||r.type==="ExportDefaultDeclaration")&&n.push("default "),r.declaration)n.push(t.call(e,"declaration"));else if(r.specifiers){if(r.specifiers.length===1&&r.specifiers[0].type==="ExportBatchSpecifier")n.push("*");else if(r.specifiers.length===0)n.push("{}");else if(r.specifiers[0].type==="ExportDefaultSpecifier"){let o=[],u=[];if(t.each(function(l){l.getValue().type==="ExportDefaultSpecifier"?o.push(e(l)):u.push(e(l))},"specifiers"),o.forEach((l,c)=>{c>0&&n.push(", "),n.push(l)}),u.length>0){let l=A(", ").join(u);l.getLineLength(1)>i.wrapColumn&&(l=E([A(`,
    `).join(u).indent(i.tabWidth),","])),o.length>0&&n.push(", "),l.length>1?n.push(`{
    `,l,`
    }`):i.objectCurlySpacing?n.push("{ ",l," }"):n.push("{",l,"}")}}else n.push(s?"{ ":"{",A(", ").join(t.map(e,"specifiers")),s?" }":"}");r.source&&n.push(" from ",t.call(e,"source"),Nf(t,i,e))}let a=E(n);return En(a)!==";"&&!(r.declaration&&(r.declaration.type==="FunctionDeclaration"||r.declaration.type==="ClassDeclaration"||r.declaration.type==="TSModuleDeclaration"||r.declaration.type==="TSInterfaceDeclaration"||r.declaration.type==="TSEnumDeclaration"))&&(a=E([a,";"])),a}function dn(t,i){return hf(t)||i.unshift("declare "),E(i)}function hn(t,i){return t.call(function(e){let r=e.getValue();return r?r==="plus"?A("+"):r==="minus"?A("-"):i(e):A("")},"variance")}function $r(t,i){return t.length>1?E([" ",t]):E([`
    `,gs(t).indent(i.tabWidth)])}function En(t){let i=t.lastPos();do{let e=t.charAt(i);if(/\S/.test(e))return e}while(t.prevPos(i))}function Zp(t){return En(t)==="}"}function ps(t){return t.replace(/['"]/g,i=>i==='"'?"'":'"')}function bi(t){let i=pr(t,"value"),e=pr(t,"extra");if(e&&typeof e.raw=="string"&&i==e.rawValue)return e.raw;if(t.type==="Literal"){let r=t.raw;if(typeof r=="string"&&i==r)return r}}function fs(t){return JSON.stringify(t).replace(/[\u2028\u2029]/g,function(i){return"\\u"+i.charCodeAt(0).toString(16)})}function mn(t,i){switch(Wo.assert(t),i.quote){case"auto":{let e=fs(t),r=ps(fs(ps(t)));return e.length>r.length?r:e}case"single":return ps(fs(ps(t)));case"double":default:return fs(t)}}function gs(t){let i=En(t);return!i||`
    };`.indexOf(i)<0?E([t,";"]):t}function J0(t,i){return new K0(i).print(t)}var ds;function kf(){if(ds)return ds;let t=H0();return ds={parse(i,e){return tf.parse(i,{...t,...e})}},ds}function H0(){return{sourceType:"module",strictMode:!1,allowImportExportEverywhere:!0,allowReturnOutsideFunction:!0,startLine:1,tokens:!0,plugins:["asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","classStaticBlock","decimal","decorators-legacy","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importAssertions","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{proposal:"minimal"}],["recordAndTuple",{syntaxType:"hash"}],"throwExpressions","topLevelAwait","v8intrinsic","jsx","typescript"]}}var G0=Object.defineProperty,X0=(t,i,e)=>i in t?G0(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,ef=(t,i,e)=>(X0(t,typeof i!="symbol"?i+"":i,e),e),We=class extends Error{constructor(i,e){if(super(""),ef(this,"rawMessage"),ef(this,"options"),this.name="MagicastError",this.rawMessage=i,this.options=e,e?.ast&&e?.code&&e.ast.loc){let{line:r,column:n}=e.ast.loc.start,s=e.code.split(`
    `),a=Math.max(0,r-3),o=Math.min(s.length,r+3),u=s.slice(a,o).map((l,c)=>(l=`${(a+c+1).toString().padStart(3," ")} | ${l}`,a+c===r-1&&(l+=`
    ${" ".repeat(6+n)}^`),l));i+=`
    
    ${u.join(`
    `)}
    `}this.message=i}},Q0=new Set(["Literal","StringLiteral","NumericLiteral","BooleanLiteral","NullLiteral","RegExpLiteral","BigIntLiteral"]),Bf=new Set(["string","number","boolean","bigint","symbol","undefined"]),Be=Pi;function Y0(t){return/^[$A-Z_a-z][\w$]*$/.test(t)}var Jo="__magicast_proxy";function et(t,i=new Set){if(t===void 0)return Be.identifier("undefined");if(t===null)return Be.literal(null);if(Bf.has(typeof t))return Be.literal(t);if(i.has(t))throw new We("Can not serialize circular reference");if(i.add(t),t[Jo])return t.$ast;if(t instanceof RegExp){let e=Be.regExpLiteral(t.source,t.flags);return delete e.extra.raw,e}return t instanceof Set?Be.newExpression(Be.identifier("Set"),[Be.arrayExpression([...t].map(e=>et(e,i)))]):t instanceof Date?Be.newExpression(Be.identifier("Date"),[Be.literal(t.toISOString())]):t instanceof Map?Be.newExpression(Be.identifier("Map"),[Be.arrayExpression([...t].map(([e,r])=>Be.arrayExpression([et(e,i),et(r,i)])))]):Array.isArray(t)?Be.arrayExpression(t.map(e=>et(e,i))):typeof t=="object"?Be.objectExpression(Object.entries(t).map(([e,r])=>Be.property("init",/^[$A-Z_a-z][\w$]*$/g.test(e)?Be.identifier(e):Be.literal(e),et(r,i)))):Be.literal(t)}function Z0(t,i={}){let e=i;return e[Jo]=!0,e.$ast=t,e.$type||(e.$type="object"),e}var eC={enumerable:!0,configurable:!0};function Ct(t,i,e){let r=Z0(t,i);return new Proxy({},{ownKeys(){return Object.keys(r).filter(n=>n!==Jo&&!n.startsWith("$"))},getOwnPropertyDescriptor(){return eC},has(n,s){return s in r},...e,get(n,s,a){if(s in r)return r[s];if(e.get)return e.get(n,s,a)},set(n,s,a,o){return s in r?(r[s]=a,!0):e.set?e.set(n,s,a,o):!1}})}var lt=Pi,ko=new WeakMap;function tC(t,i,e){if(ko.has(i))return ko.get(i);let r=Ct(i,{get $declaration(){return t},get imported(){return i.type==="ImportDefaultSpecifier"?"default":i.type==="ImportNamespaceSpecifier"?"*":i.imported.type==="Identifier"?i.imported.name:i.imported.value},set imported(n){if(i.type!=="ImportSpecifier")throw new We("Changing import name is not yet implemented");i.imported.type==="Identifier"?i.imported.name=n:i.imported.value=n},get local(){return i.local.name},set local(n){i.local.name=n},get from(){return t.source.value},set from(n){if(n===t.source.value)return;t.specifiers=t.specifiers.filter(a=>a!==i),t.specifiers.length===0&&(e.body=e.body.filter(a=>a!==t));let s=e.body.find(a=>a.type==="ImportDeclaration"&&a.source.value===n);s?s.specifiers.push(i):e.body.unshift(lt.importDeclaration([i],lt.stringLiteral(n)))},toJSON(){return{imported:this.imported,local:this.local,from:this.from}}},{ownKeys(){return["imported","local","from","toJSON"]}});return ko.set(i,r),r}function rC(t,i){let e=()=>{let a=[];for(let o of t.body)if(o.type==="ImportDeclaration")for(let u of o.specifiers)a.push(tC(o,u,t));return a},r=(a,o,u)=>{let l=e(),c=l.find(d=>d.local===a),p=o.local||a;if(c)return c.imported=o.imported,c.local=p,c.from=o.from,!0;let f=o.imported==="default"?lt.importDefaultSpecifier(lt.identifier(p)):o.imported==="*"?lt.importNamespaceSpecifier(lt.identifier(p)):lt.importSpecifier(lt.identifier(o.imported),lt.identifier(p)),h=l.find(d=>d.from===o.from)?.$declaration;if(h)h.specifiers.push(f);else if(u==="prepend"||l.length===0)t.body.unshift(lt.importDeclaration([f],lt.stringLiteral(o.from)));else{let d=l.at(-1).$declaration,m=t.body.indexOf(d);t.body.splice(m+1,0,lt.importDeclaration([f],lt.stringLiteral(o.from)))}return!0},n=a=>{let o=e().find(c=>c.local===a);if(!o)return!1;let u=o.$declaration,l=o.$ast;return u.specifiers=u.specifiers.filter(c=>c!==l),u.specifiers.length===0&&(t.body=t.body.filter(c=>c!==u)),!0};return Ct(t,{$type:"imports",$add(a){r(a.local||a.imported,a,"prepend")},$prepend(a){r(a.local||a.imported,a,"prepend")},$append(a){r(a.local||a.imported,a,"append")},get $items(){return e()},toJSON(){return e().reduce((a,o)=>(a[o.local]=o,a),{})}},{get(a,o){return e().find(u=>u.local===o)},set(a,o,u){return r(o,u,"prepend")},deleteProperty(a,o){return n(o)},ownKeys(){return e().map(a=>a.local)},has(a,o){return e().some(u=>u.local===o)}})}function vs(t,i,e){let r=s=>i[s],n=(s,a)=>{i[s]=a};return Ct(t,{$type:"array",push(s){i.push(et(s))},pop(){return Ze(i.pop(),e)},unshift(s){i.unshift(et(s))},shift(){return Ze(i.shift(),e)},splice(s,a,...o){return i.splice(s,a,...o.map(l=>et(l))).map(l=>Ze(l,e))},find(s){return i.map(a=>Ze(a,e)).find(s)},findIndex(s){return i.map(a=>Ze(a,e)).findIndex(s)},includes(s){return i.map(a=>Ze(a,e)).includes(s)},toJSON(){return i.map(s=>Ze(s,e))}},{get(s,a){if(a==="length")return i.length;if(a===Symbol.iterator)return function*(){for(let l of i)yield Ze(l,e)};if(typeof a=="symbol")return;let o=+a;if(Number.isNaN(o))return;let u=r(o);if(u)return Ze(u,e)},set(s,a,o){if(typeof a=="symbol")return!1;let u=+a;return Number.isNaN(u)?!1:(n(u,et(o)),!0)},deleteProperty(s,a){if(typeof a=="symbol")return!1;let o=+a;return Number.isNaN(o)?!1:(i[o]=et(void 0),!0)},ownKeys(){return["length",...i.map((s,a)=>a.toString())]}})}function iC(t,i){if("elements"in t)return vs(t,t.elements,i)}function Lf(t,i){if(t.type!=="CallExpression")throw new We("Not a function call");function e(n){if(n.type==="Identifier")return n.name;if(n.type==="MemberExpression")return`${e(n.object)}.${e(n.property)}`;throw new We("Not implemented")}let r=vs(t,t.arguments,i);return Ct(t,{$type:"function-call",$callee:e(t.callee),$args:r},{})}function nC(t,i){if(t.type!=="ArrowFunctionExpression")throw new We("Not an arrow function expression");let e=vs(t,t.params,i);return Ct(t,{$type:"arrow-function-expression",$params:e,$body:Ze(t.body,i)},{})}var sC=Pi;function aC(t,i){if(!("properties"in t))return;let e=s=>{for(let a of t.properties){if("key"in a&&"name"in a.key&&a.key.name===s)return a.value;if(a.type==="ObjectProperty"&&(a.key.type==="StringLiteral"||a.key.type==="NumericLiteral"||a.key.type==="BooleanLiteral")&&a.key.value.toString()===s)return a.value.value??a.value}},r=(s,a=!1)=>{if("key"in s&&"name"in s.key)return s.key.name;if(s.type==="ObjectProperty"&&(s.key.type==="StringLiteral"||s.key.type==="NumericLiteral"||s.key.type==="BooleanLiteral"))return s.key.value.toString();if(a)throw new We(`Casting "${s.type}" is not supported`,{ast:s,code:i?.$code})},n=(s,a)=>{let o=t.properties.find(u=>r(u)===s);o?o.value=a:Y0(s)?t.properties.push({type:"Property",key:{type:"Identifier",name:s},value:a}):t.properties.push({type:"ObjectProperty",key:sC.stringLiteral(s),value:a})};return Ct(t,{$type:"object",toJSON(){return t.properties.reduce((s,a)=>("key"in a&&"name"in a.key&&(s[a.key.name]=Ze(a.value,i)),s),{})}},{get(s,a){let o=e(a);if(o)return Ze(o,i)},set(s,a,o){return typeof a!="string"&&(a=String(a)),n(a,et(o)),!0},deleteProperty(s,a){typeof a!="string"&&(a=String(a));let o=t.properties.findIndex(u=>"key"in u&&"name"in u.key&&u.key.name===a);return o!==-1&&t.properties.splice(o,1),!0},ownKeys(){return t.properties.map(s=>r(s,!0)).filter(Boolean)}})}function Of(t,i){if(t.type!=="NewExpression")throw new We("Not a new expression");function e(n){if(n.type==="Identifier")return n.name;if(n.type==="MemberExpression")return`${e(n.object)}.${e(n.property)}`;throw new We("Not implemented")}let r=vs(t,t.arguments,i);return Ct(t,{$type:"new-expression",$callee:e(t.callee),$args:r},{})}function oC(t){if(t.type!=="Identifier")throw new We("Not an identifier");return Ct(t,{$type:"identifier",$name:t.name},{})}function uC(t){if(t.type!=="LogicalExpression")throw new We("Not a logical expression");return Ct(t,{$type:"logicalExpression"},{})}function lC(t){if(t.type!=="MemberExpression")throw new We("Not a member expression");return Ct(t,{$type:"memberExpression"},{})}var Bo=new WeakMap;function Ze(t,i){if(Bf.has(typeof t))return t;if(Q0.has(t.type))return t.value;if(Bo.has(t))return Bo.get(t);let e;switch(t.type){case"ObjectExpression":{e=aC(t,i);break}case"ArrayExpression":{e=iC(t,i);break}case"CallExpression":{e=Lf(t,i);break}case"ArrowFunctionExpression":{e=nC(t,i);break}case"NewExpression":{e=Of(t,i);break}case"Identifier":{e=oC(t);break}case"LogicalExpression":{e=uC(t);break}case"MemberExpression":{e=lC(t);break}case"TSAsExpression":case"TSSatisfiesExpression":{e=Ze(t.expression,i);break}default:throw new We(`Casting "${t.type}" is not supported`,{ast:t,code:i?.$code})}return Bo.set(t,e),e}var gn=Pi;function cC(t,i){let e=n=>{let s=n==="default"?"ExportDefaultDeclaration":"ExportNamedDeclaration";for(let a of t.body)if(a.type===s){if(n==="default")return a.declaration;if(a.declaration&&"declarations"in a.declaration){let o=a.declaration.declarations[0];if("name"in o.id&&o.id.name===n)return o.init}}},r=(n,s)=>{let a=n==="default"?"ExportDefaultDeclaration":"ExportNamedDeclaration",o=et(s);for(let u of t.body)if(u.type===a){if(n==="default"){u.declaration=o;return}if(u.declaration&&"declarations"in u.declaration){let l=u.declaration.declarations[0];if("name"in l.id&&l.id.name===n){l.init=o;return}}}t.body.push(n==="default"?gn.exportDefaultDeclaration(o):gn.exportNamedDeclaration(gn.variableDeclaration("const",[gn.variableDeclarator(gn.identifier(n),o)])))};return Ct(t,{$type:"exports"},{get(n,s){let a=e(s);if(a)return Ze(a,i)},set(n,s,a){return r(s,a),!0},ownKeys(){return t.body.flatMap(n=>n.type==="ExportDefaultDeclaration"?["default"]:n.type==="ExportNamedDeclaration"&&n.declaration&&"declarations"in n.declaration?n.declaration.declarations.map(s=>"name"in s.id?s.id.name:""):[]).filter(Boolean)},deleteProperty(n,s){let a=s==="default"?"ExportDefaultDeclaration":"ExportNamedDeclaration";for(let o=0;o<t.body.length;o++){let u=t.body[o];if(u.type===a){if(s==="default")return t.body.splice(o,1),!0;if(u.declaration&&"declarations"in u.declaration){let l=u.declaration.declarations[0];if("name"in l.id&&l.id.name===s)return t.body.splice(o,1),!0}}}return!1}})}function pC(t,i){let e=t.program;if(e.type!=="Program")throw new We(`Cannot proxify ${t.type} as module`);let r={$code:i,$type:"module"},n=Ct(e,r,{ownKeys(){return["imports","exports","generate"]}});return r.exports=cC(e,n),r.imports=rC(e),r.generate=s=>Ho(n,s),n}function Rf(t,i={}){let e={wrapColumn:i.wrapColumn===void 0,indent:i.tabWidth===void 0||i.useTabs===void 0,quote:i.quote===void 0,arrowParens:i.arrowParensAlways===void 0,trailingComma:i.trailingComma===void 0},r=2,n=0,s=0,a=0,o=0,u=/(?<doubleQuote>"[^"]+")|(?<singleQuote>'[^']+')|(?<singleParam>\([^),]+\)\s*=>)|(?<trailingComma>,\s*[\]}])/g,l={doubleQuote:0,singleQuote:0,singleParam:0,trailingComma:0},c=(t||"").split(`
    `),p=!1;for(let f of c){let h=f.trim();if(h.length!==0){if(e.wrapColumn&&f.length>a&&(a=f.length),e.indent){let d=f.match(/^\s+/)?.[0]||"";d.length>0&&(d.length>0&&d.length<r&&(r=d.length),d[0]==="	"?n++:d.length>0&&n--)}if(h.at(-1)===";"?s++:h.length>0&&s--,e.quote||e.arrowParens){let d=h.matchAll(u);for(let m of d)if(m.groups)for(let g in l)m.groups[g]&&l[g]++}e.trailingComma&&((f.startsWith("}")||f.startsWith("]"))&&(p?o++:o--),p=h.endsWith(","))}}return{wrapColumn:a,useTabs:n>0,tabWidth:r,quote:l.singleQuote>l.doubleQuote?"single":"double",arrowParensAlways:l.singleParam>0,trailingComma:o>0||l.trailingComma>0,useSemi:s>0,arrayBracketSpacing:void 0,objectCurlySpacing:void 0,...i}}function Mf(t,i){let e=bf(t,{parser:i?.parser||kf(),...i});return pC(e,t)}function _f(t,i){let e=bf("("+t+")",{parser:i?.parser||kf(),...i}),r=e.program.body[0];r.type==="ExpressionStatement"&&(r=r.expression),r.extra?.parenthesized&&(r.extra.parenthesized=!1);let n={$ast:e,$code:" "+t+" ",$type:"module"};return Ze(r,n)}function Ho(t,i={}){let e=t.$ast||t,r=i.format===!1||!("$code"in t)?{}:Rf(t.$code,i.format),{code:n,map:s}=J0(e,{...i,...r});return{code:n,map:s}}async function fC(t,i={}){let e=await Ds.promises.readFile(t,"utf8");return i.sourceFileName=i.sourceFileName??t,Mf(e,i)}async function dC(t,i,e){let r="$ast"in t?t.$ast:t,{code:n,map:s}=Ho(r,e);await Ds.promises.writeFile(i,n),s&&await Ds.promises.writeFile(i+".map",s)}var hs=Pi,hC={functionCall(t,...i){let e=hs.callExpression(hs.identifier(t),i.map(r=>et(r)));return Lf(e)},newExpression(t,...i){let e=hs.newExpression(hs.identifier(t),i.map(r=>et(r)));return Of(e)},literal(t){return et(t)},raw(t){return _f(t)}};var Ar=de(require("@sentry/node"),1);var mC="v1.0.27",jf=process.env.OVERRIDE_VERSION??mC;async function Kf(t,i){let e=await(0,_e.readdir)(t,{withFileTypes:!0}),r=[];for(let n of e){let s=oe.default.join(t,n.name);if(n.isDirectory()){if(!i.has(n.name)){let a=await Kf(s,i);r.push(...a)}}else r.push(s)}return r}async function zf(t){let i=new Set,e=(...l)=>{if(process.env.DEBUG){let c=new Date,p=`${String(c.getMinutes()).padStart(2,"0")}:${String(c.getSeconds()).padStart(2,"0")}.${String(c.getMilliseconds()).padStart(3,"0")}`;console.debug(p,"[khulnasoft-dev-tools]",...l)}},r=async l=>{let c=(0,$f.createHash)("md5");return c.update(l),c.digest("hex")},n=oe.default.normalize(t.cwd),s=CC(oe.default.normalize(t.cwd))??n,a=bC(oe.default.normalize(t.cwd))??s,o={...oe.default,getCwdDir:()=>n,getRepoRootDir:()=>s,getAppRootDir:()=>a,cwd:()=>process.cwd(),exists:async l=>{try{return await(0,_e.access)(l),!0}catch{return!1}},magicast:Go,existsSync:l=>(0,Pe.existsSync)(l),readdir:async(l,c)=>{let p=await(0,_e.readdir)(l);return c?p.map(f=>oe.default.join(l,f)):p},readdirRecursive:async(l,c)=>Kf(l,new Set(c)),readdirSync:l=>(0,Pe.readdirSync)(l),readFile:async l=>{try{return await(0,_e.readFile)(l,"utf-8")}catch(c){if(c.code==="ENOENT")return null;throw e(c,l),c}},readFileSync(l){try{return(0,Pe.readFileSync)(l,"utf-8")}catch(c){if(c.code==="ENOENT")return null;throw e(c,l),c}},spawnSync:Ai.spawnSync,stat:async l=>await(0,_e.stat)(l),statSync:l=>(0,Pe.statSync)(l),unlinkSync:l=>{(0,Pe.unlinkSync)(l)},unlink:async l=>{await(0,_e.unlink)(l)},writeFile:async(l,c)=>{l=oe.default.normalize(l);let p={path:l,basename:oe.default.basename(l),dirname:oe.default.dirname(l),extname:oe.default.extname(l)};await(0,_e.mkdir)(oe.default.dirname(l),{recursive:!0}),await(0,_e.writeFile)(l,c);for(let f of i)await f(p)},hash:r,getDeviceId:()=>r(`${(0,Pn.hostname)()}:${(0,Pn.homedir)()}`),formatCode:async(l,c)=>{let p=null;try{p=await Xo.default.resolveConfig(l)}catch{}try{return Xo.default.format(c,{...p,filepath:l})}catch{}return c},on:(l,c)=>{l==="change"&&i.add(c)},off:(l,c)=>{l==="change"&&i.delete(c)},debug:e,launchEditor:async l=>{try{let c=l.filePath;typeof l.line=="number"&&(c+=`:${l.line}`,typeof l.column=="number"&&(c+=`:${l.column}`)),(0,Uf.default)(c,"code",(p,f)=>{Ar.captureException(new Error(`Failed to launch editor for ${f}`),{extra:{pathFile:p}})})}catch(c){Ar.captureException(new Error("Failed to launch editor",{cause:c}))}},platform:()=>({runtime:"node",os:process.platform}),getRepoInfo:async()=>{let l=oe.default.normalize(t.cwd);return{remoteUrl:gC(l),defaultBranch:DC(l),commit:yC(l),currentBranch:xC(l)}},getFrameworks:()=>[],ts:Vf.default,Sentry:Ar,version:jf,sdkVersion:null,ignoreMissingConfig:t.ignoreMissingConfig,kind:null},u=await Hr(o);return o.getFrameworks=()=>u,o}function qf(){let t=(0,Pn.homedir)();return oe.default.join(t,".config","khulnasoft","dev-tools.json")}function Fs(t,i){return typeof t=="object"&&t!=null&&i in t}async function Wf(){let t=qf();try{let i=await(0,_e.readFile)(t,"utf-8");if(typeof i=="string")return JSON.parse(i)}catch(i){if(i.code==="ENOENT")return null}return null}async function Qo(t){let i=qf();t=typeof t=="object"&&t!=null?t:{},await(0,_e.mkdir)(oe.default.dirname(i),{recursive:!0}),await(0,_e.writeFile)(i,JSON.stringify(t??{},null,2))}function gC(t){try{return((0,Ai.spawnSync)("git",["config","--get","remote.origin.url"],{cwd:t}).stdout||"").toString().trim()}catch(i){return Ar.captureException(new Error("Error getting git remote URL:",{cause:i})),""}}function DC(t){let i="master";try{let e=(0,Ai.spawnSync)("git",["branch","-r"],{cwd:t});return e.stdout&&e.stdout.toString().trim().split(`
    `).map(n=>n.trim()).includes("origin/main")?"main":i}catch(e){return Ar.captureException(new Error("Error getting git default branch name:",{cause:e})),i}}function yC(t){try{return((0,Ai.spawnSync)("git",["rev-parse","HEAD"],{cwd:t}).stdout||"").toString().trim()}catch(i){return Ar.captureException(new Error("Error getting git commit:",{cause:i})),""}}function xC(t){try{return((0,Ai.spawnSync)("git",["branch","--show-current"],{cwd:t}).stdout||"").toString().trim()}catch(i){return Ar.captureException(new Error("Error getting current branch name:",{cause:i})),""}}function CC(t){let i=oe.default.resolve("/");for(let e=0;e<20;e++){let r=oe.default.join(t,"package.json");if((0,Pe.existsSync)(r))return t;if(t===i)break;t=oe.default.dirname(t)}return null}function bC(t){let i=oe.default.resolve("/");for(let e=0;e<20;e++){if((0,Pe.existsSync)(oe.default.join(t,"package.json"))||(0,Pe.existsSync)(oe.default.join(t,"remix.config.js"))||(0,Pe.existsSync)(oe.default.join(t,"remix.config.mjs"))||(0,Pe.existsSync)(oe.default.join(t,"remix.config.ts"))||(0,Pe.existsSync)(oe.default.join(t,"vite.config.js"))||(0,Pe.existsSync)(oe.default.join(t,"vite.config.ts"))||(0,Pe.existsSync)(oe.default.join(t,"vite.config.mjs"))||(0,Pe.existsSync)(oe.default.join(t,"next.config.js"))||(0,Pe.existsSync)(oe.default.join(t,"next.config.ts"))||(0,Pe.existsSync)(oe.default.join(t,"angular.json"))||(0,Pe.existsSync)(oe.default.join(t,"project.json"))||(0,Pe.existsSync)(oe.default.join(t,"tsconfig.json")))return t;if(t===i)break;t=oe.default.dirname(t)}return null}async function Jf(t,i,e){try{let r=Y(t,e),n={content:e,filePath:i,fileName:t.basename(i),hasContentUpdates:!1};if(await Mu(t))return console.warn("Turbopack does not support the Khulnasoft.com devtools cli. Please disable Turbopack or manually integrate Khulnasoft.com into your Next.js project."),n;if(Hf(t,r))return n;let o=mt(t,r,"cjs"),u=mt(t,r);if(o.length!==1&&u.length!==1)throw new Error("Expected an export from file");if(u.length===1){let p=u[0];if(!p.isDefaultExport)throw new Error("Expected a default export from file");let f=p.statement;if(!t.ts.isVariableStatement(f))throw new Error(`Unexpected export type in ${i}
    Found config content:
    ${e}
    
    The config file must follow one of these formats:
    1. const nextConfig = { /* config */ }
       export default nextConfig
    
    2. const nextConfig = (phase, config) => ({ /* config */ })
       export default nextConfig
    
    3. export default { /* config */ }
    
    Current export type: ${f.kind?t.ts.SyntaxKind[f.kind]:"none"}`);let h=p.statement;if(t.ts.isVariableStatement(h)){let d=[...h.declarationList.declarations];if(d.length!==1)throw new Error("Expected a single variable declaration");let m=d[0];if(!m.initializer)throw new Error("Expected an initializer on the declaration");let g=m.initializer;if(t.ts.isObjectLiteralExpression(g)||t.ts.isCallExpression(g)){let D="KhulnasoftDevTools()",x=[...r.statements],P=x.indexOf(h);return x[P]=t.ts.factory.updateVariableStatement(h,h.modifiers,t.ts.factory.updateVariableDeclarationList(h.declarationList,[t.ts.factory.updateVariableDeclaration(m,m.name,m.exclamationToken,m.type,t.ts.factory.createCallExpression(t.ts.factory.createIdentifier(D),void 0,[g]))])),r=t.ts.factory.updateSourceFile(r,x),r=H(t,r,{defaultImport:"KhulnasoftDevTools",importPath:"@khulnasoft.com/dev-tools/next"}),n.content=le(t,r),n.hasContentUpdates=!0,n}throw new Error(`Unexpected initializer on the variable statement in file
    Found config content:
    ${e}
    
    The config variable must be initialized with either:
    1. An object literal: const nextConfig = { /* config */ }
    2. A function call: const nextConfig = withSomePlugin({ /* config */ })
    
    Current initializer type: ${g?.kind?t.ts.SyntaxKind[g.kind]:"none"}
    Expected types: ObjectLiteralExpression or CallExpression`)}}let l=o[0];if(!l.isDefaultExport)throw new Error(`Expected a default export from ${i}
    Found config content:
    ${e}
    Detected export type: ${l?.statement.kind??"none"}
    Valid formats:
    1. module.exports = { ... }
    2. module.exports = (phase, config) => { return { ... } }
    3. export default { ... }`);if(t.ts.isObjectLiteralExpression(l.node)||t.ts.isCallExpression(l.node)){let p=l.statement;if(!t.ts.isExpressionStatement(p))throw new Error("Expected an expression statement for the default export");let f=p.expression;if(!t.ts.isBinaryExpression(f))throw new Error("Expected a binary expression for the default export");let h=Yo(t,r);r=h.sourceFile;let d=[...r.statements],m=d.indexOf(p);return d[m]=t.ts.factory.updateExpressionStatement(p,t.ts.factory.updateBinaryExpression(f,f.left,f.operatorToken,t.ts.factory.createCallExpression(t.ts.factory.createIdentifier(h.withFnVariableName),void 0,[f.right]))),r=t.ts.factory.updateSourceFile(r,d),n.content=le(t,r),n.hasContentUpdates=!0,n}let c=l.statement;if(t.ts.isVariableStatement(c)){let p=[...c.declarationList.declarations];if(p.length!==1)throw new Error("Expected a single variable declaration");let f=p[0];if(!f.initializer)throw new Error("Expected an initializer on the declaration");let h=f.initializer;if(t.ts.isObjectLiteralExpression(h)||t.ts.isCallExpression(h)){let d=Yo(t,r);r=d.sourceFile;let m=[...r.statements],g=m.indexOf(c);return m[g]=t.ts.factory.updateVariableStatement(c,c.modifiers,t.ts.factory.updateVariableDeclarationList(c.declarationList,[t.ts.factory.updateVariableDeclaration(f,f.name,f.exclamationToken,f.type,t.ts.factory.createCallExpression(t.ts.factory.createIdentifier(d.withFnVariableName),void 0,[h]))])),r=t.ts.factory.updateSourceFile(r,m),n.content=le(t,r),n.hasContentUpdates=!0,n}throw new Error(`Unexpected initializer on the variable statement in ${i}
    Found config content:
    ${e}
    
    The config variable must be initialized with either:
    1. An object literal: const nextConfig = { /* config */ }
    2. A function call: const nextConfig = withSomePlugin({ /* config */ })
    
    Current initializer type: ${h.kind}
    Expected types: ${t.ts.SyntaxKind.ObjectLiteralExpression} or ${t.ts.SyntaxKind.CallExpression}`)}if(t.ts.isArrowFunction(l.node)){let p=l.node,f=l.statement;if(!t.ts.isExpressionStatement(f))throw new Error("Expected an expression statement for the default export");let h=f.expression;if(!t.ts.isBinaryExpression(h))throw new Error("Expected a binary expression for the default export");let m=l.node.body;if(!t.ts.isBlock(m))throw new Error("Expected a block body on the next config function");let g=[...m.statements],D=g.findIndex(S=>t.ts.isReturnStatement(S));if(D===-1)throw new Error("Expected a return statement on the next config function");let x=g[D],P=Yo(t,r);r=P.sourceFile,g[D]=t.ts.factory.updateReturnStatement(x,t.ts.factory.createCallExpression(t.ts.factory.createIdentifier(P.withFnVariableName),void 0,[x.expression]));let C=[...r.statements],b=C.indexOf(f);return C[b]=t.ts.factory.updateExpressionStatement(f,t.ts.factory.updateBinaryExpression(h,h.left,h.operatorToken,t.ts.factory.updateArrowFunction(p,p.modifiers,p.typeParameters,p.parameters,p.type,p.equalsGreaterThanToken,t.ts.factory.updateBlock(m,g)))),r=t.ts.factory.updateSourceFile(r,C),n.content=le(t,r),n.hasContentUpdates=!0,n}throw new Error("Unexpected export type")}catch(r){throw t.Sentry?.captureException(r,{extra:{configFilePath:i,configContent:e},level:"warning"}),r}}function Hf(t,i){for(let e of i.statements)if(t.ts.isVariableStatement(e))for(let r of e.declarationList.declarations){if(!r.initializer||!t.ts.isCallExpression(r.initializer))continue;let n=r.initializer.expression;if(!t.ts.isCallExpression(n)||!t.ts.isIdentifier(n.expression)||n.expression.text!=="require")continue;let s=n.arguments[0];if(!(!s||!t.ts.isStringLiteral(s))&&s.text==="@khulnasoft.com/dev-tools/next"&&t.ts.isIdentifier(r.name))return r.name.text}return null}function Yo(t,i){let e=Hf(t,i);return e||(e="withKhulnasoftDevTools",i=t.ts.factory.updateSourceFile(i,[t.ts.factory.createVariableStatement(void 0,t.ts.factory.createVariableDeclarationList([t.ts.factory.createVariableDeclaration(e,void 0,void 0,t.ts.factory.createCallExpression(t.ts.factory.createCallExpression(t.ts.factory.createIdentifier("require"),void 0,[t.ts.factory.createStringLiteral("@khulnasoft.com/dev-tools/next")]),void 0,[]))],t.ts.NodeFlags.Const)),...i.statements])),{withFnVariableName:e,sourceFile:i}}async function Qf(t,i,e){try{let r=Y(t,e),n={content:e,filePath:i,fileName:t.basename(i),hasContentUpdates:!1};if(Yf(t,r))return n;let a=mt(t,r,"cjs"),o=mt(t,r);if(a.length!==1&&o.length!==1)throw new Error(`Expected an export from ${i}`);let u=a[0];if(o.length===1){let c=o[0];if(!c.isDefaultExport)throw new Error(`Expected a default export from ${i}`);let p=c.statement;if(!t.ts.isExportAssignment(p))throw new Error(`Expected an export assignment from ${i}`);if(t.ts.isObjectLiteralExpression(p.expression)){let f="khulnasoftDevTools()",h=EC(t,p.expression);if(!h)return n;let d=t.ts.factory.createCallExpression(t.ts.factory.createIdentifier(f),void 0,[h]),m=[...r.statements],g=m.indexOf(p);return m[g]=t.ts.factory.updateExportAssignment(p,p.modifiers,d),r=t.ts.factory.updateSourceFile(r,m),r=H(t,r,{defaultImport:"khulnasoftDevTools",importPath:"@khulnasoft.com/dev-tools/remix"}),n.content=le(t,r),n.hasContentUpdates=!0,n}}if(!u.isDefaultExport)throw new Error(`Expected a default export from ${i}`);if(t.ts.isObjectLiteralExpression(u.node)||t.ts.isCallExpression(u.node)){let c=u.statement;if(!t.ts.isExpressionStatement(c))throw new Error("Expected an expression statement for the default export");let p=c.expression;if(!t.ts.isBinaryExpression(p))throw new Error("Expected a binary expression for the default export");let f=Gf(t,r);r=f.sourceFile;let h=[...r.statements],d=h.indexOf(c);return h[d]=t.ts.factory.updateExpressionStatement(c,t.ts.factory.updateBinaryExpression(p,p.left,p.operatorToken,t.ts.factory.createCallExpression(t.ts.factory.createIdentifier(f.withFnVariableName),void 0,[p.right]))),r=t.ts.factory.updateSourceFile(r,h),n.content=le(t,r),n.hasContentUpdates=!0,n}let l=u.statement;if(t.ts.isVariableStatement(l)){let c=[...l.declarationList.declarations];if(c.length!==1)throw new Error("Expected a single variable declaration");let p=c[0];if(!p.initializer)throw new Error("Expected an initializer on the declaration");let f=p.initializer;if(t.ts.isObjectLiteralExpression(f)||t.ts.isCallExpression(f)){let h=Gf(t,r);r=h.sourceFile;let d=[...r.statements],m=d.indexOf(l);return d[m]=t.ts.factory.updateVariableStatement(l,l.modifiers,t.ts.factory.updateVariableDeclarationList(l.declarationList,[t.ts.factory.updateVariableDeclaration(p,p.name,p.exclamationToken,p.type,t.ts.factory.createCallExpression(t.ts.factory.createIdentifier(h.withFnVariableName),void 0,[f]))])),r=t.ts.factory.updateSourceFile(r,d),n.content=le(t,r),n.hasContentUpdates=!0,n}throw new Error("Unexpected initializer on the variable statement")}throw new Error("Unexpected export type")}catch(r){throw t.Sentry?.captureException(r,{extra:{configFilePath:i,configContent:e},level:"warning"}),r}}function Yf(t,i){for(let e of i.statements)if(t.ts.isVariableStatement(e))for(let r of e.declarationList.declarations){if(!r.initializer||!t.ts.isCallExpression(r.initializer))continue;let n=r.initializer.expression;if(!t.ts.isCallExpression(n)||!t.ts.isIdentifier(n.expression)||n.expression.text!=="require")continue;let s=n.arguments[0];if(!(!s||!t.ts.isStringLiteral(s))&&s.text==="@khulnasoft.com/dev-tools/remix"&&t.ts.isIdentifier(r.name))return r.name.text}return null}function Gf(t,i){let e=Yf(t,i);return e||(e="withKhulnasoftDevTools",i=t.ts.factory.updateSourceFile(i,[t.ts.factory.createVariableStatement(void 0,t.ts.factory.createVariableDeclarationList([t.ts.factory.createVariableDeclaration(e,void 0,void 0,t.ts.factory.createCallExpression(t.ts.factory.createCallExpression(t.ts.factory.createIdentifier("require"),void 0,[t.ts.factory.createStringLiteral("@khulnasoft.com/dev-tools/remix")]),void 0,[]))],t.ts.NodeFlags.Const)),...i.statements])),{withFnVariableName:e,sourceFile:i}}function EC(t,i){let e=[...i.properties],r=e.findIndex(s=>re(t,s)==="serverDependenciesToBundle");if(r>-1){let s=e[r];if(t.ts.isPropertyAssignment(s)&&s.initializer&&t.ts.isArrayLiteralExpression(s.initializer)){let a=Xf(t,s.initializer);if(a)return e[r]=t.ts.factory.updatePropertyAssignment(s,s.name,a),t.ts.factory.updateObjectLiteralExpression(i,e)}return null}let n=Xf(t,t.ts.factory.createArrayLiteralExpression([],!0));return n?t.ts.factory.updateObjectLiteralExpression(i,[...e,t.ts.factory.createPropertyAssignment("serverDependenciesToBundle",n)]):null}function Xf(t,i){return i.elements.some(r=>t.ts.isCallExpression(r)&&t.ts.isIdentifier(r.expression)?r.expression.text==="@khulnasoft.com/react":!1)?null:t.ts.factory.updateArrayLiteralExpression(i,[...i.elements,t.ts.factory.createIdentifier('"@khulnasoft.com/react"')])}async function ed(t,i,e){try{let r=Y(t,e),n=mt(t,r);if(n.length!==1)throw new Error(`Expected an export from ${i}`);let s=n[0];if(!s.isDefaultExport)throw new Error(`Expected a default export from ${i}`);let a=s.statement;if(!t.ts.isExportAssignment(a))throw new Error(`Expected an export assignment from ${i}`);let o={content:e,filePath:i,fileName:t.basename(i),hasContentUpdates:!1};if(t.ts.isCallExpression(s.node)&&t.ts.isIdentifier(s.node.expression)&&s.node.expression.text==="defineConfig"){let u=[...s.node.arguments];if(u.length===0)throw new Error("Expected an argument in defineConfig()");let l=u[0];if(t.ts.isArrowFunction(l)){let c=SC(t,l);if(!c)return o;u[0]=t.ts.factory.updateArrowFunction(l,l.modifiers,l.typeParameters,l.parameters,l.type,l.equalsGreaterThanToken,c);let p=[...r.statements],f=p.indexOf(a);return p[f]=t.ts.factory.updateExportAssignment(a,void 0,t.ts.factory.updateCallExpression(s.node,s.node.expression,s.node.typeArguments,u)),r=t.ts.factory.updateSourceFile(r,p),r=H(t,r,{namedImports:["khulnasoftDevTools"],importPath:"@khulnasoft.com/dev-tools/vite"}),o.content=le(t,r),o.hasContentUpdates=!0,o}if(t.ts.isObjectLiteralExpression(l)){let c=Zo(t,l);if(!c)return o;let p=[...r.statements],f=p.indexOf(a);return p[f]=t.ts.factory.updateExportAssignment(a,void 0,t.ts.factory.updateCallExpression(s.node,s.node.expression,s.node.typeArguments,[c])),r=t.ts.factory.updateSourceFile(r,p),r=H(t,r,{namedImports:["khulnasoftDevTools"],importPath:"@khulnasoft.com/dev-tools/vite"}),o.content=le(t,r),o.hasContentUpdates=!0,o}throw new Error("Unsupported argument in defineConfig()")}if(t.ts.isObjectLiteralExpression(a.expression)){let u=Zo(t,a.expression);if(!u)return o;let l=[...r.statements],c=l.indexOf(a);return l[c]=t.ts.factory.updateExportAssignment(a,a.modifiers,u),r=t.ts.factory.updateSourceFile(r,l),r=H(t,r,{namedImports:["khulnasoftDevTools"],importPath:"@khulnasoft.com/dev-tools/vite"}),o.content=le(t,r),o.hasContentUpdates=!0,o}throw new Error(`Unable to parse ${i}`)}catch(r){throw t.Sentry?.captureException(r,{extra:{configFilePath:i,configContent:e},level:"warning"}),r}}function SC(t,i){let e=i.body;if(!t.ts.isBlock(e))return null;let r=[...e.statements],n=r.findIndex(o=>t.ts.isReturnStatement(o));if(n===-1){let o=t.ts.factory.createReturnStatement(t.ts.factory.createObjectLiteralExpression());r.push(o),n=r.length-1}let s=r[n];if(!s.expression||!t.ts.isObjectLiteralExpression(s.expression))return null;let a=Zo(t,s.expression);return a?(r[n]=t.ts.factory.updateReturnStatement(s,a),t.ts.factory.updateBlock(e,r)):null}function Zo(t,i){if(TC(t)){let s=PC(t,i);s&&(i=s)}let e=[...i.properties],r=e.findIndex(s=>re(t,s)==="plugins");if(r>-1){let s=e[r];if(t.ts.isPropertyAssignment(s)&&s.initializer&&t.ts.isArrayLiteralExpression(s.initializer)){let a=Zf(t,s.initializer);if(a)return e[r]=t.ts.factory.updatePropertyAssignment(s,s.name,a),t.ts.factory.updateObjectLiteralExpression(i,e)}return null}let n=Zf(t,t.ts.factory.createArrayLiteralExpression([],!0));return n?t.ts.factory.updateObjectLiteralExpression(i,[...e,t.ts.factory.createPropertyAssignment("plugins",n)]):null}function Zf(t,i){return i.elements.some(r=>t.ts.isCallExpression(r)&&t.ts.isIdentifier(r.expression)?r.expression.text==="khulnasoftDevTools":!1)?null:t.ts.factory.updateArrayLiteralExpression(i,[...i.elements,t.ts.factory.createCallExpression(t.ts.factory.createIdentifier("khulnasoftDevTools"),void 0,[])])}function PC(t,i){let e=[...i.properties],r=e.findIndex(s=>re(t,s)==="ssr");if(r>-1){let s=e[r];if(t.ts.isPropertyAssignment(s)&&s.initializer&&t.ts.isObjectLiteralExpression(s.initializer)){let a=AC(t,s.initializer);if(a)return e[r]=t.ts.factory.updatePropertyAssignment(s,s.name,a),t.ts.factory.updateObjectLiteralExpression(i,e)}return null}let n=eu(t,t.ts.factory.createArrayLiteralExpression([],!0));if(n){let s=t.ts.factory.createObjectLiteralExpression([t.ts.factory.createPropertyAssignment("noExternal",n)]);return t.ts.factory.updateObjectLiteralExpression(i,[...e,t.ts.factory.createPropertyAssignment("ssr",s)])}return null}function AC(t,i){let e=[...i.properties],r=e.findIndex(s=>re(t,s)==="noExternal");if(r>-1){let s=e[r];if(t.ts.isPropertyAssignment(s)&&s.initializer&&t.ts.isArrayLiteralExpression(s.initializer)){let a=eu(t,s.initializer);if(a)return e[r]=t.ts.factory.updatePropertyAssignment(s,s.name,a),t.ts.factory.updateObjectLiteralExpression(i,e)}return null}let n=eu(t,t.ts.factory.createArrayLiteralExpression([],!0));if(n)return t.ts.factory.updateObjectLiteralExpression(i,[...e,t.ts.factory.createPropertyAssignment("noExternal",n)])}function eu(t,i){return i.elements.some(r=>t.ts.isStringLiteral(r)?r.text==="@khulnasoft.com/react":!1)?null:t.ts.factory.updateArrayLiteralExpression(i,[...i.elements,t.ts.factory.createStringLiteral("@khulnasoft.com/react")])}function TC(t){return t.getFrameworks().some(i=>i.name==="@remix-run/react")}async function td(t,i,e){return t.debug("Webpack config updates are currently in progress..."),{content:e,fileName:t.basename(i),filePath:i,hasContentUpdates:!0}}async function id(t,i,e){t.debug("Angular config updates are currently in progress...");try{await FC(t)}catch(r){t.Sentry?.captureException(new Error("Unable to update package.json.",{cause:r}))}return await wC(t),{content:e,fileName:t.basename(i),filePath:i,hasContentUpdates:!0}}async function wC(t){let i=t.getAppRootDir(),e=t.join(i,"src");if(!await t.exists(e))throw new Error(`Could not find src directory. Searched for src in "${t.getAppRootDir()}".`);let r=t.join(e,"main.ts"),n=await t.readFile(r);if(!n)throw new Error(`Unable to read main.ts at ${r}`);let s=await vC(t,n);await t.writeFile(r,s)}async function vC(t,i){let e=i,r=Y(t,i),n=!1;for(let a of r.statements)if(t.ts.isExpressionStatement(a)&&t.ts.isCallExpression(a.expression)&&t.ts.isPropertyAccessExpression(a.expression.expression)&&t.ts.isCallExpression(a.expression.expression.expression)&&t.ts.isIdentifier(a.expression.expression.expression.expression)&&a.expression.expression.expression.expression.text==="khulnasoftDevTools"){n=!0;break}r=H(t,r,{namedImports:["khulnasoftDevTools"],importPath:"@khulnasoft.com/dev-tools/angular"});let s=`
    khulnasoftDevTools().catch((err: Error) =>
        console.error("Error starting dev tools:", err)
      );`;return e=le(t,r),n||(e+=s),e}async function FC(t){let i=t.getRepoRootDir(),e=t.join(i,"package.json"),r=await t.readFile(e);if(!r)throw new Error(`Unable to read package.json at ${e}`);let n=IC(t,r);n&&await t.writeFile(e,n)}function IC(t,i){let e=JSON.parse(i);if(e.scripts=e.scripts||{},e.scripts[rd])return;let r=e.scripts.start||e.scripts.dev||"ng serve";if(!r.includes("concurrently")){let n=t.getRepoRootDir(),s=t.getAppRootDir(),a=n===s?"":` --cwd ${t.relative(n,s)}`,o=`concurrently "${r}" "${NC}${a}"`;e.scripts.start=o,e.scripts[rd]=o}return JSON.stringify(e,null,2)+`
    `}var rd="khulnasoft-dev",NC="npx khulnasoft-dev-tools";var sd=[{id:"next",configFileNames:["next.config.ts","next.config.js","next.config.mjs"],ensureConfigPlugin:Jf},{id:"vite",configFileNames:["vite.config.ts","vite.config.js"],ensureConfigPlugin:ed},{id:"remix",configFileNames:["remix.config.ts","remix.config.js"],ensureConfigPlugin:Qf},{id:"webpack",configFileNames:["webpack.config.ts","webpack.config.js"],ensureConfigPlugin:td},{id:"angular",configFileNames:["angular.json","project.json"],ensureConfigPlugin:id}];async function tu(t){let i=t.resolve("/");for(let r of sd)for(let n of r.configFileNames){let s=t.getAppRootDir();for(let a=0;a<10;a++)try{let o=t.join(s,n),u=t.readFileSync(o);if(typeof u=="string")return{id:r.id,filePath:o,content:u};if(s===i)break;s=t.dirname(s)}catch(o){if((o?.message??"").includes("Invalid path"))break;throw o}}if((await Hr(t)).some(r=>r.name==="next")){let r=t.join(t.getAppRootDir(),"next.config.js");return await t.writeFile(r,nd),{id:"next",filePath:r,content:nd}}return null}async function ad(t){let i=await tu(t);if(!i)throw new Error("Unable to find config file, such as next.config.js or vite.config.js.");let r=await sd.find(n=>n.id===i.id).ensureConfigPlugin(t,i.filePath,i.content);return r.hasContentUpdates&&(r.content=gt(r.content),r.content=await t.formatCode(r.filePath,r.content),await t.writeFile(i.filePath,r.content)),r}var nd=`
    /** @type {import('next').NextConfig} */
    const nextConfig = {
    }
     
    module.exports = nextConfig
    `.trimStart();var Tr=require("fs"),An=require("path"),Gd=de(qs()),Xd=de(Hd()),zr=de(require("@sentry/node"));function Qd(t,i,e,r=!1){let n=[];return t==="yarn"?(n.push("add"),r&&n.push("--dev")):(n.push("install"),r&&n.push("--save-dev")),e.forEach(s=>{n.push(s)}),vi(t,n,{stdio:"ignore",env:{...process.env,ADBLOCK:"1",DISABLE_OPENCOLLECTIVE:"1",NODE_ENV:"development"},cwd:i})}function Yd(t,i,e=!1){let r=(0,An.join)(t,"package.json"),n=JSON.parse((0,Tr.readFileSync)(r,"utf8")),s=e?"devDependencies":"dependencies";n[s]=n[s]||{},i.forEach(a=>{n[s][a]="latest"}),(0,Tr.writeFileSync)(r,JSON.stringify(n,null,2)+`
    `)}function vi(t,i,e){let r,n=new Promise(a=>{try{r=(0,Xd.default)(t,i,{stdio:"inherit",...e}),r.on("error",o=>{zr.captureException(o),a(!1)}),r.on("close",o=>{o===0?a(!0):(zr.captureMessage(`cmd "${t} ${i.join(" ")}", exit code: ${o}`,"error"),a(!1))})}catch(o){zr.captureException(o),a(!1)}});return{abort:async()=>{r&&r.kill("SIGINT")},command:n}}function Zd(t){try{if((0,Tr.existsSync)((0,An.join)(t,"pnpm-lock.yaml")))return"pnpm";if((0,Tr.existsSync)((0,An.join)(t,"yarn.lock")))return"yarn";if((0,Tr.existsSync)((0,An.join)(t,"package-lock.json")))return"npm"}catch(i){zr.captureException(i)}try{let i=(0,Gd.default)();if(i?.name)return i.name}catch(i){zr.captureException(i)}return"npm"}function eh(t){return t==="pnpm"||t==="yarn"?t:"npm run"}var Ms=require("util");var tt=de(du(),1),Fi=require("process"),wr=de(require("readline"),1),yu=de(require("readline"),1),ph=require("tty");function cb({onlyFirst:t=!1}={}){let i=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(i,t?void 0:"g")}var pb=cb();function fh(t){if(typeof t!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return t.replace(pb,"")}function dh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hh={exports:{}};(function(t){var i={};t.exports=i,i.eastAsianWidth=function(r){var n=r.charCodeAt(0),s=r.length==2?r.charCodeAt(1):0,a=n;return 55296<=n&&n<=56319&&56320<=s&&s<=57343&&(n&=1023,s&=1023,a=n<<10|s,a+=65536),a==12288||65281<=a&&a<=65376||65504<=a&&a<=65510?"F":a==8361||65377<=a&&a<=65470||65474<=a&&a<=65479||65482<=a&&a<=65487||65490<=a&&a<=65495||65498<=a&&a<=65500||65512<=a&&a<=65518?"H":4352<=a&&a<=4447||4515<=a&&a<=4519||4602<=a&&a<=4607||9001<=a&&a<=9002||11904<=a&&a<=11929||11931<=a&&a<=12019||12032<=a&&a<=12245||12272<=a&&a<=12283||12289<=a&&a<=12350||12353<=a&&a<=12438||12441<=a&&a<=12543||12549<=a&&a<=12589||12593<=a&&a<=12686||12688<=a&&a<=12730||12736<=a&&a<=12771||12784<=a&&a<=12830||12832<=a&&a<=12871||12880<=a&&a<=13054||13056<=a&&a<=19903||19968<=a&&a<=42124||42128<=a&&a<=42182||43360<=a&&a<=43388||44032<=a&&a<=55203||55216<=a&&a<=55238||55243<=a&&a<=55291||63744<=a&&a<=64255||65040<=a&&a<=65049||65072<=a&&a<=65106||65108<=a&&a<=65126||65128<=a&&a<=65131||110592<=a&&a<=110593||127488<=a&&a<=127490||127504<=a&&a<=127546||127552<=a&&a<=127560||127568<=a&&a<=127569||131072<=a&&a<=194367||177984<=a&&a<=196605||196608<=a&&a<=262141?"W":32<=a&&a<=126||162<=a&&a<=163||165<=a&&a<=166||a==172||a==175||10214<=a&&a<=10221||10629<=a&&a<=10630?"Na":a==161||a==164||167<=a&&a<=168||a==170||173<=a&&a<=174||176<=a&&a<=180||182<=a&&a<=186||188<=a&&a<=191||a==198||a==208||215<=a&&a<=216||222<=a&&a<=225||a==230||232<=a&&a<=234||236<=a&&a<=237||a==240||242<=a&&a<=243||247<=a&&a<=250||a==252||a==254||a==257||a==273||a==275||a==283||294<=a&&a<=295||a==299||305<=a&&a<=307||a==312||319<=a&&a<=322||a==324||328<=a&&a<=331||a==333||338<=a&&a<=339||358<=a&&a<=359||a==363||a==462||a==464||a==466||a==468||a==470||a==472||a==474||a==476||a==593||a==609||a==708||a==711||713<=a&&a<=715||a==717||a==720||728<=a&&a<=731||a==733||a==735||768<=a&&a<=879||913<=a&&a<=929||931<=a&&a<=937||945<=a&&a<=961||963<=a&&a<=969||a==1025||1040<=a&&a<=1103||a==1105||a==8208||8211<=a&&a<=8214||8216<=a&&a<=8217||8220<=a&&a<=8221||8224<=a&&a<=8226||8228<=a&&a<=8231||a==8240||8242<=a&&a<=8243||a==8245||a==8251||a==8254||a==8308||a==8319||8321<=a&&a<=8324||a==8364||a==8451||a==8453||a==8457||a==8467||a==8470||8481<=a&&a<=8482||a==8486||a==8491||8531<=a&&a<=8532||8539<=a&&a<=8542||8544<=a&&a<=8555||8560<=a&&a<=8569||a==8585||8592<=a&&a<=8601||8632<=a&&a<=8633||a==8658||a==8660||a==8679||a==8704||8706<=a&&a<=8707||8711<=a&&a<=8712||a==8715||a==8719||a==8721||a==8725||a==8730||8733<=a&&a<=8736||a==8739||a==8741||8743<=a&&a<=8748||a==8750||8756<=a&&a<=8759||8764<=a&&a<=8765||a==8776||a==8780||a==8786||8800<=a&&a<=8801||8804<=a&&a<=8807||8810<=a&&a<=8811||8814<=a&&a<=8815||8834<=a&&a<=8835||8838<=a&&a<=8839||a==8853||a==8857||a==8869||a==8895||a==8978||9312<=a&&a<=9449||9451<=a&&a<=9547||9552<=a&&a<=9587||9600<=a&&a<=9615||9618<=a&&a<=9621||9632<=a&&a<=9633||9635<=a&&a<=9641||9650<=a&&a<=9651||9654<=a&&a<=9655||9660<=a&&a<=9661||9664<=a&&a<=9665||9670<=a&&a<=9672||a==9675||9678<=a&&a<=9681||9698<=a&&a<=9701||a==9711||9733<=a&&a<=9734||a==9737||9742<=a&&a<=9743||9748<=a&&a<=9749||a==9756||a==9758||a==9792||a==9794||9824<=a&&a<=9825||9827<=a&&a<=9829||9831<=a&&a<=9834||9836<=a&&a<=9837||a==9839||9886<=a&&a<=9887||9918<=a&&a<=9919||9924<=a&&a<=9933||9935<=a&&a<=9953||a==9955||9960<=a&&a<=9983||a==10045||a==10071||10102<=a&&a<=10111||11093<=a&&a<=11097||12872<=a&&a<=12879||57344<=a&&a<=63743||65024<=a&&a<=65039||a==65533||127232<=a&&a<=127242||127248<=a&&a<=127277||127280<=a&&a<=127337||127344<=a&&a<=127386||917760<=a&&a<=917999||983040<=a&&a<=1048573||1048576<=a&&a<=1114109?"A":"N"},i.characterLength=function(r){var n=this.eastAsianWidth(r);return n=="F"||n=="W"||n=="A"?2:1};function e(r){return r.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}i.length=function(r){for(var n=e(r),s=0,a=0;a<n.length;a++)s=s+this.characterLength(n[a]);return s},i.slice=function(r,n,s){textLen=i.length(r),n=n||0,s=s||1,n<0&&(n=textLen+n),s<0&&(s=textLen+s);for(var a="",o=0,u=e(r),l=0;l<u.length;l++){var c=u[l],p=i.length(c);if(o>=n-(p==2?1:0))if(o+p<=s)a+=c;else break;o+=p}return a}})(hh);var fb=hh.exports,db=dh(fb),hb=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g},mb=dh(hb);function Tn(t,i={}){if(typeof t!="string"||t.length===0||(i={ambiguousIsNarrow:!0,...i},t=fh(t),t.length===0))return 0;t=t.replace(mb(),"  ");let e=i.ambiguousIsNarrow?1:2,r=0;for(let n of t){let s=n.codePointAt(0);if(!(s<=31||s>=127&&s<=159||s>=768&&s<=879))switch(db.eastAsianWidth(n)){case"F":case"W":r+=2;break;case"A":r+=e;break;default:r+=1}}return r}var gu=10,nh=(t=0)=>i=>`\x1B[${i+t}m`,sh=(t=0)=>i=>`\x1B[${38+t};5;${i}m`,ah=(t=0)=>(i,e,r)=>`\x1B[${38+t};2;${i};${e};${r}m`,Ee={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(Ee.modifier);var gb=Object.keys(Ee.color),Db=Object.keys(Ee.bgColor);[...gb,...Db];function yb(){let t=new Map;for(let[i,e]of Object.entries(Ee)){for(let[r,n]of Object.entries(e))Ee[r]={open:`\x1B[${n[0]}m`,close:`\x1B[${n[1]}m`},e[r]=Ee[r],t.set(n[0],n[1]);Object.defineProperty(Ee,i,{value:e,enumerable:!1})}return Object.defineProperty(Ee,"codes",{value:t,enumerable:!1}),Ee.color.close="\x1B[39m",Ee.bgColor.close="\x1B[49m",Ee.color.ansi=nh(),Ee.color.ansi256=sh(),Ee.color.ansi16m=ah(),Ee.bgColor.ansi=nh(gu),Ee.bgColor.ansi256=sh(gu),Ee.bgColor.ansi16m=ah(gu),Object.defineProperties(Ee,{rgbToAnsi256:{value:(i,e,r)=>i===e&&e===r?i<8?16:i>248?231:Math.round((i-8)/247*24)+232:16+36*Math.round(i/255*5)+6*Math.round(e/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value:i=>{let e=/[a-f\d]{6}|[a-f\d]{3}/i.exec(i.toString(16));if(!e)return[0,0,0];let[r]=e;r.length===3&&(r=[...r].map(s=>s+s).join(""));let n=Number.parseInt(r,16);return[n>>16&255,n>>8&255,n&255]},enumerable:!1},hexToAnsi256:{value:i=>Ee.rgbToAnsi256(...Ee.hexToRgb(i)),enumerable:!1},ansi256ToAnsi:{value:i=>{if(i<8)return 30+i;if(i<16)return 90+(i-8);let e,r,n;if(i>=232)e=((i-232)*10+8)/255,r=e,n=e;else{i-=16;let o=i%36;e=Math.floor(i/36)/5,r=Math.floor(o/6)/5,n=o%6/5}let s=Math.max(e,r,n)*2;if(s===0)return 30;let a=30+(Math.round(n)<<2|Math.round(r)<<1|Math.round(e));return s===2&&(a+=60),a},enumerable:!1},rgbToAnsi:{value:(i,e,r)=>Ee.ansi256ToAnsi(Ee.rgbToAnsi256(i,e,r)),enumerable:!1},hexToAnsi:{value:i=>Ee.ansi256ToAnsi(Ee.hexToAnsi256(i)),enumerable:!1}}),Ee}var xb=yb(),Rs=new Set(["\x1B","\x9B"]),Cb=39,bu="\x07",mh="[",bb="]",gh="m",Eu=`${bb}8;;`,oh=t=>`${Rs.values().next().value}${mh}${t}${gh}`,uh=t=>`${Rs.values().next().value}${Eu}${t}${bu}`,Eb=t=>t.split(" ").map(i=>Tn(i)),Du=(t,i,e)=>{let r=[...i],n=!1,s=!1,a=Tn(fh(t[t.length-1]));for(let[o,u]of r.entries()){let l=Tn(u);if(a+l<=e?t[t.length-1]+=u:(t.push(u),a=0),Rs.has(u)&&(n=!0,s=r.slice(o+1).join("").startsWith(Eu)),n){s?u===bu&&(n=!1,s=!1):u===gh&&(n=!1);continue}a+=l,a===e&&o<r.length-1&&(t.push(""),a=0)}!a&&t[t.length-1].length>0&&t.length>1&&(t[t.length-2]+=t.pop())},Sb=t=>{let i=t.split(" "),e=i.length;for(;e>0&&!(Tn(i[e-1])>0);)e--;return e===i.length?t:i.slice(0,e).join(" ")+i.slice(e).join("")},Pb=(t,i,e={})=>{if(e.trim!==!1&&t.trim()==="")return"";let r="",n,s,a=Eb(t),o=[""];for(let[l,c]of t.split(" ").entries()){e.trim!==!1&&(o[o.length-1]=o[o.length-1].trimStart());let p=Tn(o[o.length-1]);if(l!==0&&(p>=i&&(e.wordWrap===!1||e.trim===!1)&&(o.push(""),p=0),(p>0||e.trim===!1)&&(o[o.length-1]+=" ",p++)),e.hard&&a[l]>i){let f=i-p,h=1+Math.floor((a[l]-f-1)/i);Math.floor((a[l]-1)/i)<h&&o.push(""),Du(o,c,i);continue}if(p+a[l]>i&&p>0&&a[l]>0){if(e.wordWrap===!1&&p<i){Du(o,c,i);continue}o.push("")}if(p+a[l]>i&&e.wordWrap===!1){Du(o,c,i);continue}o[o.length-1]+=c}e.trim!==!1&&(o=o.map(l=>Sb(l)));let u=[...o.join(`
    `)];for(let[l,c]of u.entries()){if(r+=c,Rs.has(c)){let{groups:f}=new RegExp(`(?:\\${mh}(?<code>\\d+)m|\\${Eu}(?<uri>.*)${bu})`).exec(u.slice(l).join(""))||{groups:{}};if(f.code!==void 0){let h=Number.parseFloat(f.code);n=h===Cb?void 0:h}else f.uri!==void 0&&(s=f.uri.length===0?void 0:f.uri)}let p=xb.codes.get(Number(n));u[l+1]===`
    `?(s&&(r+=uh("")),n&&p&&(r+=oh(p))):c===`
    `&&(n&&p&&(r+=oh(n)),s&&(r+=uh(s)))}return r};function lh(t,i,e){return String(t).normalize().replace(/\r\n/g,`
    `).split(`
    `).map(r=>Pb(r,i,e)).join(`
    `)}var Ab=["up","down","left","right","space","enter","cancel"],Ls={actions:new Set(Ab),aliases:new Map([["k","up"],["j","down"],["h","left"],["l","right"],["","cancel"],["escape","cancel"]])};function Su(t,i){if(typeof t=="string")return Ls.aliases.get(t)===i;for(let e of t)if(e!==void 0&&Su(e,i))return!0;return!1}function Tb(t,i){if(t===i)return;let e=t.split(`
    `),r=i.split(`
    `),n=[];for(let s=0;s<Math.max(e.length,r.length);s++)e[s]!==r[s]&&n.push(s);return n}var wb=globalThis.process.platform.startsWith("win"),xu=Symbol("clack:cancel");function vr(t){return t===xu}function Bs(t,i){let e=t;e.isTTY&&e.setRawMode(i)}function Dh({input:t=Fi.stdin,output:i=Fi.stdout,overwrite:e=!0,hideCursor:r=!0}={}){let n=wr.createInterface({input:t,output:i,prompt:"",tabSize:1});wr.emitKeypressEvents(t,n),t.isTTY&&t.setRawMode(!0);let s=(a,{name:o,sequence:u})=>{let l=String(a);if(Su([l,o,u],"cancel")){r&&i.write(tt.cursor.show),process.exit(0);return}if(!e)return;wr.moveCursor(i,o==="return"?0:-1,o==="return"?-1:0,()=>{wr.clearLine(i,1,()=>{t.once("keypress",s)})})};return r&&i.write(tt.cursor.hide),t.once("keypress",s),()=>{t.off("keypress",s),r&&i.write(tt.cursor.show),t.isTTY&&!wb&&t.setRawMode(!1),n.terminal=!1,n.close()}}var vb=Object.defineProperty,Fb=(t,i,e)=>i in t?vb(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,pt=(t,i,e)=>(Fb(t,typeof i!="symbol"?i+"":i,e),e),Cu=class{constructor(i,e=!0){pt(this,"input"),pt(this,"output"),pt(this,"_abortSignal"),pt(this,"rl"),pt(this,"opts"),pt(this,"_render"),pt(this,"_track",!1),pt(this,"_prevFrame",""),pt(this,"_subscribers",new Map),pt(this,"_cursor",0),pt(this,"state","initial"),pt(this,"error",""),pt(this,"value");let{input:r=Fi.stdin,output:n=Fi.stdout,render:s,signal:a,...o}=i;this.opts=o,this.onKeypress=this.onKeypress.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this._render=s.bind(this),this._track=e,this._abortSignal=a,this.input=r,this.output=n}unsubscribe(){this._subscribers.clear()}setSubscriber(i,e){let r=this._subscribers.get(i)??[];r.push(e),this._subscribers.set(i,r)}on(i,e){this.setSubscriber(i,{cb:e})}once(i,e){this.setSubscriber(i,{cb:e,once:!0})}emit(i,...e){let r=this._subscribers.get(i)??[],n=[];for(let s of r)s.cb(...e),s.once&&n.push(()=>r.splice(r.indexOf(s),1));for(let s of n)s()}prompt(){return new Promise((i,e)=>{if(this._abortSignal){if(this._abortSignal.aborted)return this.state="cancel",this.close(),i(xu);this._abortSignal.addEventListener("abort",()=>{this.state="cancel",this.close()},{once:!0})}let r=new ph.WriteStream(0);r._write=(n,s,a)=>{this._track&&(this.value=this.rl?.line.replace(/\t/g,""),this._cursor=this.rl?.cursor??0,this.emit("value",this.value)),a()},this.input.pipe(r),this.rl=yu.default.createInterface({input:this.input,output:r,tabSize:2,prompt:"",escapeCodeTimeout:50}),yu.default.emitKeypressEvents(this.input,this.rl),this.rl.prompt(),this.opts.initialValue!==void 0&&this._track&&this.rl.write(this.opts.initialValue),this.input.on("keypress",this.onKeypress),Bs(this.input,!0),this.output.on("resize",this.render),this.render(),this.once("submit",()=>{this.output.write(tt.cursor.show),this.output.off("resize",this.render),Bs(this.input,!1),i(this.value)}),this.once("cancel",()=>{this.output.write(tt.cursor.show),this.output.off("resize",this.render),Bs(this.input,!1),i(xu)})})}onKeypress(i,e){if(this.state==="error"&&(this.state="active"),e?.name&&(!this._track&&Ls.aliases.has(e.name)&&this.emit("cursor",Ls.aliases.get(e.name)),Ls.actions.has(e.name)&&this.emit("cursor",e.name)),i&&(i.toLowerCase()==="y"||i.toLowerCase()==="n")&&this.emit("confirm",i.toLowerCase()==="y"),i==="	"&&this.opts.placeholder&&(this.value||(this.rl?.write(this.opts.placeholder),this.emit("value",this.opts.placeholder))),i&&this.emit("key",i.toLowerCase()),e?.name==="return"){if(this.opts.validate){let r=this.opts.validate(this.value);r&&(this.error=r instanceof Error?r.message:r,this.state="error",this.rl?.write(this.value))}this.state!=="error"&&(this.state="submit")}Su([i,e?.name,e?.sequence],"cancel")&&(this.state="cancel"),(this.state==="submit"||this.state==="cancel")&&this.emit("finalize"),this.render(),(this.state==="submit"||this.state==="cancel")&&this.close()}close(){this.input.unpipe(),this.input.removeListener("keypress",this.onKeypress),this.output.write(`
    `),Bs(this.input,!1),this.rl?.close(),this.rl=void 0,this.emit(`${this.state}`,this.value),this.unsubscribe()}restoreCursor(){let i=lh(this._prevFrame,process.stdout.columns,{hard:!0}).split(`
    `).length-1;this.output.write(tt.cursor.move(-999,i*-1))}render(){let i=lh(this._render(this)??"",process.stdout.columns,{hard:!0});if(i!==this._prevFrame){if(this.state==="initial")this.output.write(tt.cursor.hide);else{let e=Tb(this._prevFrame,i);if(this.restoreCursor(),e&&e?.length===1){let r=e[0];this.output.write(tt.cursor.move(0,r)),this.output.write(tt.erase.lines(1));let n=i.split(`
    `);this.output.write(n[r]),this._prevFrame=i,this.output.write(tt.cursor.move(0,n.length-r-1));return}if(e&&e?.length>1){let r=e[0];this.output.write(tt.cursor.move(0,r)),this.output.write(tt.erase.down());let n=i.split(`
    `).slice(r);this.output.write(n.join(`
    `)),this._prevFrame=i;return}this.output.write(tt.erase.down())}this.output.write(i),this.state==="initial"&&(this.state="active"),this._prevFrame=i}}};var Ib=Object.defineProperty,Nb=(t,i,e)=>i in t?Ib(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,ch=(t,i,e)=>(Nb(t,typeof i!="symbol"?i+"":i,e),e),Os=class extends Cu{constructor(i){super(i,!1),ch(this,"options"),ch(this,"cursor",0),this.options=i.options,this.cursor=this.options.findIndex(({value:e})=>e===i.initialValue),this.cursor===-1&&(this.cursor=0),this.changeValue(),this.on("cursor",e=>{switch(e){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break}this.changeValue()})}get _value(){return this.options[this.cursor]}changeValue(){this.value=this._value.value}};var bt=de(require("process"),1),V=de(mu(),1),_s=de(du(),1);function kb(){return bt.default.platform!=="win32"?bt.default.env.TERM!=="linux":!!bt.default.env.CI||!!bt.default.env.WT_SESSION||!!bt.default.env.TERMINUS_SUBLIME||bt.default.env.ConEmuTask==="{cmd::Cmder}"||bt.default.env.TERM_PROGRAM==="Terminus-Sublime"||bt.default.env.TERM_PROGRAM==="vscode"||bt.default.env.TERM==="xterm-256color"||bt.default.env.TERM==="alacritty"||bt.default.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Pu=kb(),Ne=(t,i)=>Pu?t:i,Bb=Ne("\u25C6","*"),xh=Ne("\u25A0","x"),Ch=Ne("\u25B2","x"),js=Ne("\u25C7","o"),Lb=Ne("\u250C","T"),rt=Ne("\u2502","|"),bh=Ne("\u2514","\u2014"),Ob=Ne("\u25CF",">"),Rb=Ne("\u25CB"," "),Pv=Ne("\u25FB","[\u2022]"),Av=Ne("\u25FC","[+]"),Tv=Ne("\u25FB","[ ]"),wv=Ne("\u25AA","\u2022"),yh=Ne("\u2500","-"),Mb=Ne("\u256E","+"),_b=Ne("\u251C","+"),jb=Ne("\u256F","+"),$b=Ne("\u25CF","\u2022"),Vb=Ne("\u25C6","*"),Ub=Ne("\u25B2","!"),Kb=Ne("\u25A0","x"),zb=t=>{switch(t){case"initial":case"active":return V.default.cyan(Bb);case"cancel":return V.default.red(xh);case"error":return V.default.yellow(Ch);case"submit":return V.default.green(js)}},qb=t=>{let{cursor:i,options:e,style:r}=t,n=t.maxItems??Number.POSITIVE_INFINITY,s=Math.max(process.stdout.rows-4,0),a=Math.min(s,Math.max(n,5)),o=0;i>=o+a-3?o=Math.max(Math.min(i-a+3,e.length-a),0):i<o+2&&(o=Math.max(i-2,0));let u=a<e.length&&o>0,l=a<e.length&&o+a<e.length;return e.slice(o,o+a).map((c,p,f)=>{let h=p===0&&u,d=p===f.length-1&&l;return h||d?V.default.dim("..."):r(c,p+o===i)})};var Ii=t=>{let i=(e,r)=>{let n=e.label??String(e.value);switch(r){case"selected":return`${V.default.dim(n)}`;case"active":return`${V.default.green(Ob)} ${n} ${e.hint?V.default.dim(`(${e.hint})`):""}`;case"cancelled":return`${V.default.strikethrough(V.default.dim(n))}`;default:return`${V.default.dim(Rb)} ${V.default.dim(n)}`}};return new Os({options:t.options,initialValue:t.initialValue,render(){let e=`${V.default.gray(rt)}
    ${zb(this.state)}  ${t.message}
    `;switch(this.state){case"submit":return`${e}${V.default.gray(rt)}  ${i(this.options[this.cursor],"selected")}`;case"cancel":return`${e}${V.default.gray(rt)}  ${i(this.options[this.cursor],"cancelled")}
    ${V.default.gray(rt)}`;default:return`${e}${V.default.cyan(rt)}  ${qb({cursor:this.cursor,options:this.options,maxItems:t.maxItems,style:(r,n)=>i(r,n?"active":"inactive")}).join(`
    ${V.default.cyan(rt)}  `)}
    ${V.default.cyan(bh)}
    `}}}).prompt()};var Eh=(t="",i="")=>{let e=`
    ${t}
    `.split(`
    `),r=(0,Ms.stripVTControlCharacters)(i).length,n=Math.max(e.reduce((a,o)=>{let u=(0,Ms.stripVTControlCharacters)(o);return u.length>a?u.length:a},0),r)+2,s=e.map(a=>`${V.default.gray(rt)}  ${V.default.dim(a)}${" ".repeat(n-(0,Ms.stripVTControlCharacters)(a).length)}${V.default.gray(rt)}`).join(`
    `);process.stdout.write(`${V.default.gray(rt)}
    ${V.default.green(js)}  ${V.default.reset(i)} ${V.default.gray(yh.repeat(Math.max(n-r-1,1))+Mb)}
    ${s}
    ${V.default.gray(_b+yh.repeat(n+2)+jb)}
    `)};var Ni=(t="")=>{process.stdout.write(`${V.default.gray(Lb)}  ${t}
    `)},Xt=(t="")=>{process.stdout.write(`${V.default.gray(rt)}
    ${V.default.gray(bh)}  ${t}
    
    `)},ie={message:(t="",{symbol:i=V.default.gray(rt)}={})=>{let e=[`${V.default.gray(rt)}`];if(t){let[r,...n]=t.split(`
    `);e.push(`${i}  ${r}`,...n.map(s=>`${V.default.gray(rt)}  ${s}`))}process.stdout.write(`${e.join(`
    `)}
    `)},info:t=>{ie.message(t,{symbol:V.default.blue($b)})},success:t=>{ie.message(t,{symbol:V.default.green(Vb)})},step:t=>{ie.message(t,{symbol:V.default.green(js)})},warn:t=>{ie.message(t,{symbol:V.default.yellow(Ub)})},warning:t=>{ie.warn(t)},error:t=>{ie.message(t,{symbol:V.default.red(Kb)})}},vv=`${V.default.gray(rt)}  `;var Au=({indicator:t="dots"}={})=>{let i=Pu?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],e=Pu?80:120,r=process.env.CI==="true",n,s,a=!1,o="",u,l=performance.now(),c=C=>{let b=C>1?"Something went wrong":"Canceled";a&&P(b,C)},p=()=>c(2),f=()=>c(1),h=()=>{process.on("uncaughtExceptionMonitor",p),process.on("unhandledRejection",p),process.on("SIGINT",f),process.on("SIGTERM",f),process.on("exit",c)},d=()=>{process.removeListener("uncaughtExceptionMonitor",p),process.removeListener("unhandledRejection",p),process.removeListener("SIGINT",f),process.removeListener("SIGTERM",f),process.removeListener("exit",c)},m=()=>{if(u===void 0)return;r&&process.stdout.write(`
    `);let C=u.split(`
    `);process.stdout.write(_s.cursor.move(-999,C.length-1)),process.stdout.write(_s.erase.down(C.length))},g=C=>C.replace(/\.+$/,""),D=C=>{let b=(performance.now()-C)/1e3,S=Math.floor(b/60),w=Math.floor(b%60);return S>0?`[${S}m ${w}s]`:`[${w}s]`},x=(C="")=>{a=!0,n=Dh(),o=g(C),l=performance.now(),process.stdout.write(`${V.default.gray(rt)}
    `);let b=0,S=0;h(),s=setInterval(()=>{if(r&&o===u)return;m(),u=o;let w=V.default.magenta(i[b]);if(r)process.stdout.write(`${w}  ${o}...`);else if(t==="timer")process.stdout.write(`${w}  ${o} ${D(l)}`);else{let $=".".repeat(Math.floor(S)).slice(0,3);process.stdout.write(`${w}  ${o}${$}`)}b=b+1<i.length?b+1:0,S=S<i.length?S+.125:0},e)},P=(C="",b=0)=>{a=!1,clearInterval(s),m();let S=b===0?V.default.green(js):b===1?V.default.red(xh):V.default.red(Ch);o=g(C??o),t==="timer"?process.stdout.write(`${S}  ${o} ${D(l)}
    `):process.stdout.write(`${S}  ${o}
    `),d(),n()};return{start:x,stop:P,message:(C="")=>{o=g(C??o)}}};var N=de(mu()),fr=require("path"),Us=require("fs"),Fr=de(require("@sentry/node")),te=de(require("@amplitude/analytics-node"));var Ue=[];for(let t=0;t<256;++t)Ue.push((t+256).toString(16).slice(1));function Sh(t,i=0){return(Ue[t[i+0]]+Ue[t[i+1]]+Ue[t[i+2]]+Ue[t[i+3]]+"-"+Ue[t[i+4]]+Ue[t[i+5]]+"-"+Ue[t[i+6]]+Ue[t[i+7]]+"-"+Ue[t[i+8]]+Ue[t[i+9]]+"-"+Ue[t[i+10]]+Ue[t[i+11]]+Ue[t[i+12]]+Ue[t[i+13]]+Ue[t[i+14]]+Ue[t[i+15]]).toLowerCase()}var Ph=de(require("crypto")),Vs=new Uint8Array(256),$s=Vs.length;function Tu(){return $s>Vs.length-16&&(Ph.default.randomFillSync(Vs),$s=0),Vs.slice($s,$s+=16)}var Ah=de(require("crypto")),wu={randomUUID:Ah.default.randomUUID};function Wb(t,i,e){if(wu.randomUUID&&!i&&!t)return wu.randomUUID();t=t||{};let r=t.random||(t.rng||Tu)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,i){e=e||0;for(let n=0;n<16;++n)i[e+n]=r[n];return i}return Sh(r)}var vu=Wb;var Fu=de(require("os")),Jb="v1.0.27",wh=process.env.OVERRIDE_VERSION??Jb;async function Th(t,i){if(ie.message(`Please cd into the root of a ${(0,N.cyan)("Next.js")}, ${(0,N.cyan)("Angular")}, ${(0,N.cyan)("Qwik")} or ${(0,N.cyan)("Remix")} project, or generate a new project to use this CLI.`),ie.message(`Alternatively, see our docs for how to integrate with other frameworks:
    ${(0,N.cyan)("https://www.khulnasoft.com/c/docs/developers")}`),!process.stdout.isTTY&&process.env.FORCE_TTY!=="1"){te.track("cancelled project generation",{...t,position:"generate-prompt"},i);return}te.track("prompted to generate project",t,i);let e=await Ii({message:"Would you like to generate a new project?",options:[{value:"true",label:"Yes, let's generate a new project"},{value:"false",label:"No, I'll run again from another directory"}]});if(vr(e)||e==="false"){console.log(""),te.track("cancelled project generation",{...t,position:"generate-prompt"},i);return}te.track("prompted to choose stack",t,i);let r=await Ii({message:"Which project would you like to generate?",options:[{value:"nextjs",label:"Next.js"},{value:"qwik",label:"Qwik"},{value:"remix",label:"Remix"},{value:"other",label:"Other"}]});if(vr(r)){te.track("cancelled project generation",{...t,position:"framework-prompt"},i);return}if(r==="other"){te.track("chose other framework",{...t,position:"framework-prompt"},i),Xt(`Please read our docs for how to integrate with other frameworks:
       ${(0,N.cyan)("https://www.khulnasoft.com/c/docs/developers")}
    
       We will be adding more frameworks to this CLI soon!`);return}if(te.track("creating project",{...t,position:"framework-prompt",choice:r},i),r==="nextjs"){let n="khulnasoft-app";Xt(`Running \`npx create-next-app ${n}\``),await vi("npx",["create-next-app",n]).command,await Iu({...t,skipQuestion:!0,cwd:(0,fr.join)(t.cwd,n),projectDir:(0,fr.join)(t.projectDir||"",n)})}else r==="qwik"?(Xt("Running `npm create qwik@1.11.0`"),await vi("npm",["create","qwik@1.11.0"]).command&&(console.log(""),Ni("\u2705 Qwik project created!"),ie.message("\u2728 Now cd into the new project and initialize Khulnasoft.com:"),ie.info([(0,N.cyan)("cd your-new-qwik-project"),(0,N.cyan)("npm init khulnasoft.com@latest")].join(`
    `)),Xt())):r==="remix"?(Xt("Running `npx create-remix@2.15.1`"),await vi("npx",["create-remix@2.15.1"]).command,console.log(""),Ni("\u2705 Remix project created!"),ie.message("\u2728 Now cd into the new project and initialize Khulnasoft.com:"),ie.info([(0,N.cyan)("cd your-new-remix-project"),(0,N.cyan)("npm init khulnasoft.com@latest")].join(`
    `)),Xt()):r==="hydrogen"&&(Xt("Running `npm create @shopify/hydrogen@2024.10.1`"),await vi("npm",["create","@shopify/hydrogen@2024.10.1"]).command,console.log(""),Ni("\u2705 Hydrogen project created!"),ie.message("\u2728 Now cd into the new project and initialize Khulnasoft.com:"),ie.info([(0,N.cyan)("cd your-new-hydrogen-project"),(0,N.cyan)("npm init khulnasoft.com@latest")].join(`
    `)),Xt());te.track("project created",{...t,position:"framework-prompt",choice:r},i)}async function Iu(t){let i=!1,e=await Wf(),r=vu();Fs(e,"deviceId")?r=e.deviceId:await Qo({...e,deviceId:r});let n;Fs(e,"userId")&&(n=e.userId);let s={device_id:r,user_id:n},a={...t,app:"dev-tools-cli",package:"create-khulnasoftio"};try{a={...a,user_id:n,device_id:r};let o=new te.Identify;if(te.identify(o,{device_id:r,user_id:n,platform:Fu.default.type(),os_name:process.platform,os_version:Fu.default.release()}),te.track("cli tracking initialized",a,s),Ni((0,N.bold)((0,N.bgCyan)(" Integrate Khulnasoft.com "))+"  "+(0,N.dim)(wh)),t.help)return Gb(),0;let u=!0,l=process.stdout.isTTY||process.env.FORCE_TTY==="1";if(Fs(e,"allowTracking"))u=e.allowTracking;else if(l&&!t.skipQuestion){te.track("prompt tracking",a,s);let U=await Ii({message:"Would you like to opt-in for anonymous usage tracking?",options:[{value:"true",label:"Yes"},{value:"false",label:"No"}]});(vr(U)||U==="false")&&(te.track("declined tracking",a,s),ie.warn("You've declined to participate in anonymous usage data collection"),u=!1),await Qo({...e||{},allowTracking:u})}else u=!1;u||te.setOptOut(!0);let c=Hb(t.cwd);if(!c)return ie.warn(`Could not find the project's root directory containing the "package.json" file`),Fr.captureMessage("no package.json found","error"),te.track("generate project prompt",{...a,position:"root-package-json",directory:c},s),await Th(t,s),0;te.track("found root dir",{...a,directory:c},s);let p=await zf({cwd:t.cwd}),f=await tu(p);if(!f)return Fr.captureMessage("no supported config file found","error"),te.track("no supported config",a,s),te.track("generate project prompt",{...a,position:"no-config-file",directory:c},s),ie.warn("Could not find a supported config file in this directory"),await Th(t,s),0;a={...a,config_path:f.filePath};let h=p.basename(f.filePath),d=h.includes("webpack.config"),m=h.includes("angular.json"),g=`Yes, install dependencies and update ${h}`;d&&(g="Yes, install dependencies"),m&&(g="Yes, install dependencies and update package.json");let D=await Mc(p);te.track("prompt integration",a,s);let x=t.skipQuestion?"true":await Ii({message:"Would you like to integrate Khulnasoft.com with this app?",options:[{value:"true",label:g},{value:"false",label:"Maybe later"}]});if(vr(x)||x==="false")return te.track("cancelled integration",a,s),ie.warn("Khulnasoft.com was not integrated with this app"),console.log(""),console.warn("   Please see the Devtools readme for more info:"),console.warn("   https://www.npmjs.com/package/@khulnasoft.com/dev-tools"),console.log(""),1;te.track("chose to install",a,s);try{let U=await ad(p);!d&&!m&&ie.step(`Updated ${U.fileName}`)}catch(U){Fr.captureException(U,{extra:{configFileName:h}}),te.track("error updating config",{...a,error:U.message,config_file_name:h},s),i=!0,ie.error(`Failed to update ${h}: ${String(U.message||U)}`),ie.error("Please see the Devtools readme for more info:"),ie.error("https://www.npmjs.com/package/@khulnasoft.com/dev-tools")}if(te.track("updated config",a,s),t.registryToImport){let U=Au();U.start("Importing registry");try{await D.importRegistry(t.registryToImport),te.track("imported registry",{...a,registry:t.registryToImport},s)}catch(Q){i=!0,Fr.captureException(Q,{extra:{registry:t.registryToImport}}),ie.error(`Failed to import registry: ${Q.message||Q}`),te.track("import registry failed",{...a,registry:t.registryToImport},s)}U.stop("Importing registry")}let P=Oc(D.framework),C=P.find(U=>U.recommended)?.version??j.gen1,b=C;if(P.length>1){te.track("prompt sdk version",a,s);let U=t.skipQuestion?C:await Ii({message:"Which sdk would you like to install?",options:[{value:j.gen1,label:"Gen 1",hint:j.gen1===C?"Recommended":""},{value:j.gen2,label:"Gen 2",hint:j.gen2===C?"Recommended":""}],initialValue:C});if(vr(U))return te.track("cancelled sdk version selection",a,s),1;(U===j.gen1||U===j.gen2)&&(b=U)}let S=Au();S.start("Installing dependencies");let w=D.getDependencies({sdkVersion:b}).map(U=>U.name),$=Zd(c),z=D.framework==="qwik",{command:k}=Qd($,c,w,z),M=await k;S.stop("Installing dependencies"),M?(ie.step("Updates for Khulnasoft.com completed \u{1F36D}"),te.track("installed deps",a,s)):(i=!0,ie.warn("Updates for Khulnasoft.com almost ready"),ie.warn(`Failed to install dependencies, please run ${(0,N.cyan)(`${$} install`)}`),te.track("installing deps failed",a,s),Yd(p.getRepoRootDir(),w)),d?ie.success((0,N.bold)((0,N.green)(`To continue the integration, add following to ${h}:`))):M?ie.success((0,N.bold)((0,N.green)("To continue the integration, run:"))):ie.error((0,N.bold)((0,N.red)("To continue the integration, run:")));let we=`${eh($)} ${D.getDevRunCommand()}`,ve=[];if(t.projectDir&&ve.push((0,N.cyan)(`cd ${t.projectDir}`)),M||ve.push((0,N.cyan)(`${$} install`)+(0,N.dim)("  (to install missing dependencies)")),d){let U="plugins: [...existing plugins, "+(0,N.bold)("new KhulnasoftDevToolsPlugin()")+"]",Q=[(0,N.cyan)("// Import Khulnasoft DevTools plugin for webpack"),(0,N.bold)('const { KhulnasoftDevToolsPlugin } = require("@khulnasoft.com/dev-tools/webpack");')," ",(0,N.cyan)("// Append KhulnasoftDevToolsPlugin to webpack plugins list"),U];Eh(Q.join(`
    `),h),ie.success((0,N.bold)((0,N.cyan)("Restart app")))}else ve.push((0,N.cyan)(we)),ie.info(ve.join(`
    `));te.track("finished",{...a,nextSteps:ve},s)}catch(o){i=!0,Fr.captureException(o),ie.error(String(o.message||o)),te.track("error",{...a,error:o.message},s)}return console.log(""),i?1:0}function Hb(t){try{let i=(0,fr.resolve)("/");for(let e=0;e<20;e++){if((0,Us.existsSync)((0,fr.join)(t,"package.json"))||(0,Us.existsSync)((0,fr.join)(t,"project.json"))||(0,Us.existsSync)((0,fr.join)(t,"tsconfig.json")))return t;if(t===i)break;t=(0,fr.resolve)(t,"..")}}catch(i){Fr.captureException(i)}return null}function Gb(){console.log(""),Ni((0,N.bgCyan)((0,N.bold)((0,N.white)(" create-khulnasoft.com ")))+"  "+(0,N.dim)(wh)),ie.info(`${(0,N.cyan)("\u2192")} ${(0,N.bold)("Integrate Khulnasoft.com Visual CMS")}
    
    ${(0,N.bgGreen)((0,N.white)(" npx create-khulnasoft.com@latest "))}
    
    Integrate Khulnasoft.com Visual CMS into your application. This tool helps you set up Khulnasoft.com in your existing project or create a new one.
    
    ${(0,N.yellow)("Features:")}
      \u2022 Automatically detects and configures your build tool (Next.js, Remix, Vite, etc.)
      \u2022 Installs required dependencies
      \u2022 Updates configuration files with Khulnasoft.com plugin
      \u2022 Helps generate new projects if needed
    
    ${(0,N.yellow)("Supported Frameworks:")}
      ${(0,N.cyan)("Next.js")}         The React Framework for the Web
      ${(0,N.cyan)("Remix")}          Full stack React framework
      ${(0,N.cyan)("Qwik")}           Edge-optimized web framework
      ${(0,N.cyan)("Angular")}        Platform for building web applications
      ${(0,N.cyan)("Other")}          Support for other frameworks via documentation
    
    ${(0,N.yellow)("Configuration Files:")}
      The CLI will automatically update these files based on your framework:
      ${(0,N.cyan)("next.config.js")}    Configuration for Next.js projects
      ${(0,N.cyan)("remix.config.js")}   Configuration for Remix projects
      ${(0,N.cyan)("vite.config.js")}    Configuration for Vite projects
    
    ${(0,N.yellow)("Arguments:")}
      ${(0,N.cyan)("--skip-question")}     Skip interactive prompts
      ${(0,N.cyan)("-r <registry>")}       Import a specific registry
      ${(0,N.cyan)("--help")}             Show this help message
    
    ${(0,N.yellow)("Examples:")}
      ${(0,N.dim)("# Initialize in an existing project")}
      ${(0,N.cyan)("npm init khulnasoft.com@latest")}
    
      ${(0,N.dim)("# Using pnpm")}
      ${(0,N.cyan)("pnpm create khulnasoft.com@latest")}
    
      ${(0,N.dim)("# Skip interactive prompts")}
      ${(0,N.cyan)("npm init khulnasoft.com@latest --skip-question")}
    
    ${(0,N.yellow)("Next Steps:")}
      After installation, start your development server:
      ${(0,N.cyan)("npm run dev")}
    
    ${(0,N.yellow)("Learn More:")}
      \u2022 Documentation: https://www.khulnasoft.com/c/docs/developers
      \u2022 Visual CMS: https://www.khulnasoft.com/
      \u2022 DevTools: https://www.npmjs.com/package/@khulnasoft.com/dev-tools`),Xt("bye \u{1F44B}")}function vh(t,i){let e={cwd:t,args:i},r=i.indexOf("-r");return r>-1&&(e.registryToImport=i[r+1]),i.includes("--skip-question")&&(e.skipQuestion=!0),i.includes("--help")&&(e.help=!0),e}var Nt=de(require("@sentry/node")),qr=de(require("@amplitude/analytics-node"));Nt.init({dsn:"https://3252dddc08dbb5bf406dc33bf3c13633@o117565.ingest.us.sentry.io/4505630794448896",tracesSampleRate:1,integrations:[Nt.httpIntegration(),...Nt.getAutoPerformanceIntegrations()]});Nt.setUser({username:process.env.USER||process.env.USERNAME||"unknown"});qr.init("2532be1b0436a18cb938b21fc7fa9faf",{logLevel:qr.Types.LogLevel.None,flushIntervalMillis:500});var Fh=async()=>{try{await qr.flush().promise,process.exit(0)}catch(t){Nt.captureException(t),process.exit(1)}};process.on("SIGINT",Fh);process.on("SIGTERM",Fh);var Xb=vh(process.cwd(),process.argv.slice(2));Iu(Xb).then(async t=>{await qr.flush().promise,process.exit(t)}).catch(t=>{Nt.captureException(t),console.error("\u274C",String(t.message||t),`
    `),process.exit(1)});
    
